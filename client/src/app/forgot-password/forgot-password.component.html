<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">
      <div class="card border-primary shadow rounded-4">
        <div class="card-header bg-primary text-white">
          <h2 class="text-center">Forgot Password</h2>
        </div>

        <div class="card-body">
          <div *ngIf="!emailSent">
            <p class="text-center mb-4">
              Enter your email address below and we'll send you a code to reset your password.
            </p>

            <form [formGroup]="forgotPasswordForm" (ngSubmit)="submitForgotPassword()" autocomplete="off">
              <app-text-input
                [formControl]="$any(forgotPasswordForm.controls['email'])"
                [label]="'Email'">
              </app-text-input>

              <div class="d-grid mt-4">
                <button [disabled]="!forgotPasswordForm.valid || loading" class="btn btn-primary" type="submit">
                  <span *ngIf="loading" class="spinner-border spinner-border-sm me-1"></span>
                  Send Reset Code
                </button>
              </div>
            </form>
          </div>

          <div *ngIf="emailSent" class="text-center py-3">
            <div class="alert alert-success">
              <i class="fa fa-check-circle fa-2x mb-3"></i>
              <p class="mb-0">If your email is registered, you will receive a password reset code shortly.</p>
            </div>
            <p>Redirecting to reset password page...</p>
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
          </div>

          <div class="text-center mt-3">
            <a routerLink="/auth" class="text-info">Back to Login</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
