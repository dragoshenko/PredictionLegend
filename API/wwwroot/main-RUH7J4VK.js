var Yx=Object.defineProperty,Zx=Object.defineProperties;var Qx=Object.getOwnPropertyDescriptors;var Va=Object.getOwnPropertySymbols;var p0=Object.prototype.hasOwnProperty,f0=Object.prototype.propertyIsEnumerable;var u0=(n,t,e)=>t in n?Yx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,O=(n,t)=>{for(var e in t||={})p0.call(t,e)&&u0(n,e,t[e]);if(Va)for(var e of Va(t))f0.call(t,e)&&u0(n,e,t[e]);return n},Z=(n,t)=>Zx(n,Qx(t));var ju=(n,t)=>{var e={};for(var i in n)p0.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&Va)for(var i of Va(n))t.indexOf(i)<0&&f0.call(n,i)&&(e[i]=n[i]);return e};var U=(n,t,e)=>new Promise((i,r)=>{var o=p=>{try{d(e.next(p))}catch(m){r(m)}},s=p=>{try{d(e.throw(p))}catch(m){r(m)}},d=p=>p.done?i(p.value):Promise.resolve(p.value).then(o,s);d((e=e.apply(n,t)).next())});function h0(n,t){return Object.is(n,t)}var ht=null,La=!1,zu=1,cn=Symbol("SIGNAL");function _e(n){let t=ht;return ht=n,t}function g0(){return ht}var io={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ua(n){if(La)throw new Error("");if(ht===null)return;ht.consumerOnSignalRead(n);let t=ht.nextProducerIndex++;if(za(ht),t<ht.producerNode.length&&ht.producerNode[t]!==n&&us(ht)){let e=ht.producerNode[t];Ha(e,ht.producerIndexOfThis[t])}ht.producerNode[t]!==n&&(ht.producerNode[t]=n,ht.producerIndexOfThis[t]=us(ht)?b0(n,ht,t):0),ht.producerLastReadVersion[t]=n.version}function Kx(){zu++}function v0(n){if(!(us(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===zu)){if(!n.producerMustRecompute(n)&&!$a(n)){m0(n);return}n.producerRecomputeValue(n),m0(n)}}function _0(n){if(n.liveConsumerNode===void 0)return;let t=La;La=!0;try{for(let e of n.liveConsumerNode)e.dirty||Jx(e)}finally{La=t}}function y0(){return ht?.consumerAllowSignalWrites!==!1}function Jx(n){n.dirty=!0,_0(n),n.consumerMarkedDirty?.(n)}function m0(n){n.dirty=!1,n.lastCleanEpoch=zu}function ps(n){return n&&(n.nextProducerIndex=0),_e(n)}function ja(n,t){if(_e(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(us(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Ha(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function $a(n){za(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(v0(e),i!==e.version))return!0}return!1}function fs(n){if(za(n),us(n))for(let t=0;t<n.producerNode.length;t++)Ha(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function b0(n,t,e){if(C0(n),n.liveConsumerNode.length===0&&x0(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=b0(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function Ha(n,t){if(C0(n),n.liveConsumerNode.length===1&&x0(n))for(let i=0;i<n.producerNode.length;i++)Ha(n.producerNode[i],n.producerIndexOfThis[i]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];za(r),r.producerIndexOfThis[i]=t}}function us(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function za(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function C0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function x0(n){return n.producerNode!==void 0}function w0(n){let t=Object.create(Xx);t.computation=n;let e=()=>{if(v0(t),Ua(t),t.value===Ba)throw t.error;return t.value};return e[cn]=t,e}var $u=Symbol("UNSET"),Hu=Symbol("COMPUTING"),Ba=Symbol("ERRORED"),Xx=Z(O({},io),{value:$u,dirty:!0,error:null,equal:h0,kind:"computed",producerMustRecompute(n){return n.value===$u||n.value===Hu},producerRecomputeValue(n){if(n.value===Hu)throw new Error("Detected cycle in computations.");let t=n.value;n.value=Hu;let e=ps(n),i,r=!1;try{i=n.computation(),_e(null),r=t!==$u&&t!==Ba&&i!==Ba&&n.equal(t,i)}catch(o){i=Ba,n.error=o}finally{ja(n,e)}if(r){n.value=t;return}n.value=i,n.version++}});function ew(){throw new Error}var T0=ew;function S0(n){T0(n)}function E0(n){T0=n}var tw=null;function I0(n){let t=Object.create(qu);t.value=n;let e=()=>(Ua(t),t.value);return e[cn]=t,e}function qa(n,t){y0()||S0(n),n.equal(n.value,t)||(n.value=t,nw(n))}function P0(n,t){y0()||S0(n),qa(n,t(n.value))}var qu=Z(O({},io),{equal:h0,value:void 0,kind:"signal"});function nw(n){n.version++,Kx(),_0(n),tw?.()}var Gu;function ms(){return Gu}function hi(n){let t=Gu;return Gu=n,t}var Wu=Symbol("NotFound");function le(n){return typeof n=="function"}function ji(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ga=ji(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function gr(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var nt=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(le(i))try{i()}catch(o){t=o instanceof Ga?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{D0(o)}catch(s){t=t??[],s instanceof Ga?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ga(t)}}add(t){var e;if(t&&t!==this)if(this.closed)D0(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&gr(e,t)}remove(t){let{_finalizers:e}=this;e&&gr(e,t),t instanceof n&&t._removeParent(this)}};nt.EMPTY=(()=>{let n=new nt;return n.closed=!0,n})();var Yu=nt.EMPTY;function Wa(n){return n instanceof nt||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function D0(n){le(n)?n():n.unsubscribe()}var Fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ro={setTimeout(n,t,...e){let{delegate:i}=ro;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=ro;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ya(n){ro.setTimeout(()=>{let{onUnhandledError:t}=Fn;if(t)t(n);else throw n})}function vr(){}var k0=Zu("C",void 0,void 0);function M0(n){return Zu("E",void 0,n)}function O0(n){return Zu("N",n,void 0)}function Zu(n,t,e){return{kind:n,value:t,error:e}}var _r=null;function oo(n){if(Fn.useDeprecatedSynchronousErrorHandling){let t=!_r;if(t&&(_r={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=_r;if(_r=null,e)throw i}}else n()}function A0(n){Fn.useDeprecatedSynchronousErrorHandling&&_r&&(_r.errorThrown=!0,_r.error=n)}var yr=class extends nt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Wa(t)&&t.add(this)):this.destination=ow}static create(t,e,i){return new $i(t,e,i)}next(t){this.isStopped?Ku(O0(t),this):this._next(t)}error(t){this.isStopped?Ku(M0(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ku(k0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iw=Function.prototype.bind;function Qu(n,t){return iw.call(n,t)}var Ju=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Za(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Za(i)}else Za(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Za(e)}}},$i=class extends yr{constructor(t,e,i){super();let r;if(le(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Fn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Qu(t.next,o),error:t.error&&Qu(t.error,o),complete:t.complete&&Qu(t.complete,o)}):r=t}this.destination=new Ju(r)}};function Za(n){Fn.useDeprecatedSynchronousErrorHandling?A0(n):Ya(n)}function rw(n){throw n}function Ku(n,t){let{onStoppedNotification:e}=Fn;e&&ro.setTimeout(()=>e(n,t))}var ow={closed:!0,next:vr,error:rw,complete:vr};var so=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xt(n){return n}function Xu(...n){return ep(n)}function ep(n){return n.length===0?xt:n.length===1?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}var ye=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=aw(e)?e:new $i(e,i,r);return oo(()=>{let{operator:s,source:d}=this;o.add(s?s.call(o,d):d?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=R0(i),new i((r,o)=>{let s=new $i({next:d=>{try{e(d)}catch(p){o(p),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[so](){return this}pipe(...e){return ep(e)(this)}toPromise(e){return e=R0(e),new e((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function R0(n){var t;return(t=n??Fn.Promise)!==null&&t!==void 0?t:Promise}function sw(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}function aw(n){return n&&n instanceof yr||sw(n)&&Wa(n)}function tp(n){return le(n?.lift)}function ce(n){return t=>{if(tp(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(n,t,e,i,r){return new np(n,t,e,i,r)}var np=class extends yr{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(d){try{e(d)}catch(p){t.error(p)}}:super._next,this._error=r?function(d){try{r(d)}catch(p){t.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function ao(){return ce((n,t)=>{let e=null;n._refCount++;let i=se(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}var lo=class extends ye{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,tp(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new nt;let e=this.getSubject();t.add(this.source.subscribe(se(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=nt.EMPTY)}return t}refCount(){return ao()(this)}};var N0=ji(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=(()=>{class n extends ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new Qa(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new N0}next(e){oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Yu:(this.currentObservers=null,o.push(e),new nt(()=>{this.currentObservers=null,gr(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new ye;return e.source=this,e}}return n.create=(t,e)=>new Qa(t,e),n})(),Qa=class extends be{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:Yu}};var gt=class extends be{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var ip={now(){return(ip.delegate||Date).now()},delegate:void 0};var Ka=class extends nt{constructor(t,e){super()}schedule(t,e=0){return this}};var hs={setInterval(n,t,...e){let{delegate:i}=hs;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=hs;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Ja=class extends Ka{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return hs.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&hs.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,gr(i,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var co=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}};co.now=ip.now;var Xa=class extends co{constructor(t,e=co.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}};var br=new Xa(Ja),F0=br;var Ot=new ye(n=>n.complete());function el(n){return n&&le(n.schedule)}function rp(n){return n[n.length-1]}function tl(n){return le(rp(n))?n.pop():void 0}function Kn(n){return el(rp(n))?n.pop():void 0}function V0(n,t){return typeof rp(n)=="number"?n.pop():t}function B0(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function d(v){try{m(i.next(v))}catch(_){s(_)}}function p(v){try{m(i.throw(v))}catch(_){s(_)}}function m(v){v.done?o(v.value):r(v.value).then(d,p)}m((i=i.apply(n,t||[])).next())})}function L0(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cr(n){return this instanceof Cr?(this.v=n,this):new Cr(n)}function U0(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(C){return function(I){return Promise.resolve(I).then(C,_)}}function d(C,I){i[C]&&(r[C]=function(D){return new Promise(function(F,B){o.push([C,D,F,B])>1||p(C,D)})},I&&(r[C]=I(r[C])))}function p(C,I){try{m(i[C](I))}catch(D){S(o[0][3],D)}}function m(C){C.value instanceof Cr?Promise.resolve(C.value.v).then(v,_):S(o[0][2],C)}function v(C){p("next",C)}function _(C){p("throw",C)}function S(C,I){C(I),o.shift(),o.length&&p(o[0][0],o[0][1])}}function j0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof L0=="function"?L0(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(d,p){s=n[o](s),r(d,p,s.done,s.value)})}}function r(o,s,d,p){Promise.resolve(p).then(function(m){o({value:m,done:d})},s)}}var nl=n=>n&&typeof n.length=="number"&&typeof n!="function";function il(n){return le(n?.then)}function rl(n){return le(n[so])}function ol(n){return Symbol.asyncIterator&&le(n?.[Symbol.asyncIterator])}function sl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var al=lw();function ll(n){return le(n?.[al])}function cl(n){return U0(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:r}=yield Cr(e.read());if(r)return yield Cr(void 0);yield yield Cr(i)}}finally{e.releaseLock()}})}function dl(n){return le(n?.getReader)}function Me(n){if(n instanceof ye)return n;if(n!=null){if(rl(n))return cw(n);if(nl(n))return dw(n);if(il(n))return uw(n);if(ol(n))return $0(n);if(ll(n))return pw(n);if(dl(n))return fw(n)}throw sl(n)}function cw(n){return new ye(t=>{let e=n[so]();if(le(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dw(n){return new ye(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function uw(n){return new ye(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ya)})}function pw(n){return new ye(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function $0(n){return new ye(t=>{mw(n,t).catch(e=>t.error(e))})}function fw(n){return $0(cl(n))}function mw(n,t){var e,i,r,o;return B0(this,void 0,void 0,function*(){try{for(e=j0(n);i=yield e.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})}function At(n,t,e,i=0,r=!1){let o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function ul(n,t=0){return ce((e,i)=>{e.subscribe(se(i,r=>At(i,n,()=>i.next(r),t),()=>At(i,n,()=>i.complete(),t),r=>At(i,n,()=>i.error(r),t)))})}function pl(n,t=0){return ce((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function H0(n,t){return Me(n).pipe(pl(t),ul(t))}function z0(n,t){return Me(n).pipe(pl(t),ul(t))}function q0(n,t){return new ye(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function G0(n,t){return new ye(e=>{let i;return At(e,t,()=>{i=n[al](),At(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){e.error(s);return}o?e.complete():e.next(r)},0,!0)}),()=>le(i?.return)&&i.return()})}function fl(n,t){if(!n)throw new Error("Iterable cannot be null");return new ye(e=>{At(e,t,()=>{let i=n[Symbol.asyncIterator]();At(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function W0(n,t){return fl(cl(n),t)}function Y0(n,t){if(n!=null){if(rl(n))return H0(n,t);if(nl(n))return q0(n,t);if(il(n))return z0(n,t);if(ol(n))return fl(n,t);if(ll(n))return G0(n,t);if(dl(n))return W0(n,t)}throw sl(n)}function Ie(n,t){return t?Y0(n,t):Me(n)}function H(...n){let t=Kn(n);return Ie(n,t)}function Ge(n,t){let e=le(n)?n:()=>n,i=r=>r.error(e());return new ye(t?r=>t.schedule(i,0,r):i)}function op(n){return!!n&&(n instanceof ye||le(n.lift)&&le(n.subscribe))}var Vn=ji(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ct(n,t){let e=typeof t=="object";return new Promise((i,r)=>{let o=new $i({next:s=>{i(s),o.unsubscribe()},error:r,complete:()=>{e?i(t.defaultValue):r(new Vn)}});n.subscribe(o)})}function ml(n){return n instanceof Date&&!isNaN(n)}var hw=ji(n=>function(e=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function sp(n,t){let{first:e,each:i,with:r=gw,scheduler:o=t??br,meta:s=null}=ml(n)?{first:n}:typeof n=="number"?{each:n}:n;if(e==null&&i==null)throw new TypeError("No timeout provided.");return ce((d,p)=>{let m,v,_=null,S=0,C=I=>{v=At(p,o,()=>{try{m.unsubscribe(),Me(r({meta:s,lastValue:_,seen:S})).subscribe(p)}catch(D){p.error(D)}},I)};m=d.subscribe(se(p,I=>{v?.unsubscribe(),S++,p.next(_=I),i>0&&C(i)},void 0,void 0,()=>{v?.closed||v?.unsubscribe(),_=null})),!S&&C(e!=null?typeof e=="number"?e:+e-o.now():i)})}function gw(n){throw new hw(n)}function W(n,t){return ce((e,i)=>{let r=0;e.subscribe(se(i,o=>{i.next(n.call(t,o,r++))}))})}var{isArray:vw}=Array;function _w(n,t){return vw(t)?n(...t):n(t)}function hl(n){return W(t=>_w(n,t))}var{isArray:yw}=Array,{getPrototypeOf:bw,prototype:Cw,keys:xw}=Object;function gl(n){if(n.length===1){let t=n[0];if(yw(t))return{args:t,keys:null};if(ww(t)){let e=xw(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function ww(n){return n&&typeof n=="object"&&bw(n)===Cw}function vl(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function xr(...n){let t=Kn(n),e=tl(n),{args:i,keys:r}=gl(n);if(i.length===0)return Ie([],t);let o=new ye(Tw(i,t,r?s=>vl(r,s):xt));return e?o.pipe(hl(e)):o}function Tw(n,t,e=xt){return i=>{Z0(t,()=>{let{length:r}=n,o=new Array(r),s=r,d=r;for(let p=0;p<r;p++)Z0(t,()=>{let m=Ie(n[p],t),v=!1;m.subscribe(se(i,_=>{o[p]=_,v||(v=!0,d--),d||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Z0(n,t,e){n?At(e,n,t):t()}function Q0(n,t,e,i,r,o,s,d){let p=[],m=0,v=0,_=!1,S=()=>{_&&!p.length&&!m&&t.complete()},C=D=>m<i?I(D):p.push(D),I=D=>{o&&t.next(D),m++;let F=!1;Me(e(D,v++)).subscribe(se(t,B=>{r?.(B),o?C(B):t.next(B)},()=>{F=!0},void 0,()=>{if(F)try{for(m--;p.length&&m<i;){let B=p.shift();s?At(t,s,()=>I(B)):I(B)}S()}catch(B){t.error(B)}}))};return n.subscribe(se(t,C,()=>{_=!0,S()})),()=>{d?.()}}function Ze(n,t,e=1/0){return le(t)?Ze((i,r)=>W((o,s)=>t(i,o,r,s))(Me(n(i,r))),e):(typeof t=="number"&&(e=t),ce((i,r)=>Q0(i,r,n,e)))}function Jn(n=1/0){return Ze(xt,n)}function K0(){return Jn(1)}function Hi(...n){return K0()(Ie(n,Kn(n)))}function _l(n){return new ye(t=>{Me(n()).subscribe(t)})}function ap(...n){let t=tl(n),{args:e,keys:i}=gl(n),r=new ye(o=>{let{length:s}=e;if(!s){o.complete();return}let d=new Array(s),p=s,m=s;for(let v=0;v<s;v++){let _=!1;Me(e[v]).subscribe(se(o,S=>{_||(_=!0,m--),d[v]=S},()=>p--,void 0,()=>{(!p||!_)&&(m||o.next(i?vl(i,d):d),o.complete())}))}});return t?r.pipe(hl(t)):r}function J0(n=0,t,e=F0){let i=-1;return t!=null&&(el(t)?e=t:i=t),new ye(r=>{let o=ml(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function lp(...n){let t=Kn(n),e=V0(n,1/0),i=n;return i.length?i.length===1?Me(i[0]):Jn(e)(Ie(i,t)):Ot}var{isArray:Sw}=Array;function X0(n){return n.length===1&&Sw(n[0])?n[0]:n}function Pe(n,t){return ce((e,i)=>{let r=0;e.subscribe(se(i,o=>n.call(t,o,r++)&&i.next(o)))})}function cp(...n){return n=X0(n),n.length===1?Me(n[0]):new ye(Ew(n))}function Ew(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(Me(n[i]).subscribe(se(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}function Ce(n){return ce((t,e)=>{let i=null,r=!1,o;i=t.subscribe(se(e,void 0,void 0,s=>{o=Me(n(s,Ce(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function ev(n,t,e,i,r){return(o,s)=>{let d=e,p=t,m=0;o.subscribe(se(s,v=>{let _=m++;p=d?n(p,v,_):(d=!0,v),i&&s.next(p)},r&&(()=>{d&&s.next(p),s.complete()})))}}function gi(n,t){return le(t)?Ze(n,t,1):Ze(n,1)}function uo(n,t=br){return ce((e,i)=>{let r=null,o=null,s=null,d=()=>{if(r){r.unsubscribe(),r=null;let m=o;o=null,i.next(m)}};function p(){let m=s+n,v=t.now();if(v<m){r=this.schedule(void 0,m-v),i.add(r);return}d()}e.subscribe(se(i,m=>{o=m,s=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{o=r=null}))})}function zi(n){return ce((t,e)=>{let i=!1;t.subscribe(se(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Kt(n){return n<=0?()=>Ot:ce((t,e)=>{let i=0;t.subscribe(se(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function tv(){return ce((n,t)=>{n.subscribe(se(t,vr))})}function nv(n){return W(()=>n)}function dp(n,t){return t?e=>Hi(t.pipe(Kt(1),tv()),e.pipe(dp(n))):Ze((e,i)=>Me(n(e,i)).pipe(Kt(1),nv(e)))}function Xn(n,t=br){let e=J0(n,t);return dp(()=>e)}function up(n,t=xt){return n=n??Iw,ce((e,i)=>{let r,o=!0;e.subscribe(se(i,s=>{let d=t(s);(o||!n(r,d))&&(o=!1,r=d,i.next(s))}))})}function Iw(n,t){return n===t}function yl(n=Pw){return ce((t,e)=>{let i=!1;t.subscribe(se(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Pw(){return new Vn}function ei(n){return ce((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function dn(n,t){let e=arguments.length>=2;return i=>i.pipe(n?Pe((r,o)=>n(r,o,i)):xt,Kt(1),e?zi(t):yl(()=>new Vn))}function po(n){return n<=0?()=>Ot:ce((t,e)=>{let i=[];t.subscribe(se(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function pp(n,t){let e=arguments.length>=2;return i=>i.pipe(n?Pe((r,o)=>n(r,o,i)):xt,po(1),e?zi(t):yl(()=>new Vn))}function fp(n,t){return ce(ev(n,t,arguments.length>=2,!0))}function mp(...n){let t=Kn(n);return ce((e,i)=>{(t?Hi(n,e,t):Hi(n,e)).subscribe(i)})}function vt(n,t){return ce((e,i)=>{let r=null,o=0,s=!1,d=()=>s&&!r&&i.complete();e.subscribe(se(i,p=>{r?.unsubscribe();let m=0,v=o++;Me(n(p,v)).subscribe(r=se(i,_=>i.next(t?t(p,_,v,m++):_),()=>{r=null,d()}))},()=>{s=!0,d()}))})}function gs(n){return ce((t,e)=>{Me(n).subscribe(se(e,()=>e.complete(),vr)),!e.closed&&t.subscribe(e)})}function Ae(n,t,e){let i=le(n)||t||e?{next:n,error:t,complete:e}:n;return i?ce((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let d=!0;r.subscribe(se(o,p=>{var m;(m=i.next)===null||m===void 0||m.call(i,p),o.next(p)},()=>{var p;d=!1,(p=i.complete)===null||p===void 0||p.call(i),o.complete()},p=>{var m;d=!1,(m=i.error)===null||m===void 0||m.call(i,p),o.error(p)},()=>{var p,m;d&&((p=i.unsubscribe)===null||p===void 0||p.call(i)),(m=i.finalize)===null||m===void 0||m.call(i)}))}):xt}var Gv="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",A=class extends Error{code;constructor(t,e){super(ic(t,e)),this.code=t}};function ic(n,t){return`${`NG0${Math.abs(n)}`}${t?": "+t:""}`}var Wv=Symbol("InputSignalNode#UNSET"),Dw=Z(O({},qu),{transformFn:void 0,applyValueToInputSignal(n,t){qa(n,t)}});function Yv(n,t){let e=Object.create(Dw);e.value=n,e.transformFn=t?.transform;function i(){if(Ua(e),e.value===Wv)throw new A(-950,!1);return e.value}return i[cn]=e,i}function ks(n){return{toString:n}.toString()}var bl="__parameters__";function kw(n){return function(...e){if(n){let i=n(...e);for(let r in i)this[r]=i[r]}}}function Zv(n,t,e){return ks(()=>{let i=kw(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return d.annotation=s,d;function d(p,m,v){let _=p.hasOwnProperty(bl)?p[bl]:Object.defineProperty(p,bl,{value:[]})[bl];for(;_.length<=v;)_.push(null);return(_[v]=_[v]||[]).push(s),p}}return r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var vi=globalThis;function Le(n){for(let t in n)if(n[t]===Le)return t;throw Error("Could not find renamed property on target object.")}function Mw(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function tn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(tn).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function kp(n,t){return n?t?`${n} ${t}`:n:t||""}var Ow=Le({__forward_ref__:Le});function It(n){return n.__forward_ref__=It,n.toString=function(){return tn(this())},n}function Ht(n){return Qv(n)?n():n}function Qv(n){return typeof n=="function"&&n.hasOwnProperty(Ow)&&n.__forward_ref__===It}function N(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ft(n){return{providers:n.providers||[],imports:n.imports||[]}}function rc(n){return iv(n,Jv)||iv(n,Xv)}function Kv(n){return rc(n)!==null}function iv(n,t){return n.hasOwnProperty(t)?n[t]:null}function Aw(n){let t=n&&(n[Jv]||n[Xv]);return t||null}function rv(n){return n&&(n.hasOwnProperty(ov)||n.hasOwnProperty(Rw))?n[ov]:null}var Jv=Le({\u0275prov:Le}),ov=Le({\u0275inj:Le}),Xv=Le({ngInjectableDef:Le}),Rw=Le({ngInjectorDef:Le}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=N({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function e_(n){return n&&!!n.\u0275providers}var Nw=Le({\u0275cmp:Le}),Fw=Le({\u0275dir:Le}),Vw=Le({\u0275pipe:Le}),Lw=Le({\u0275mod:Le}),Ml=Le({\u0275fac:Le}),bs=Le({__NG_ELEMENT_ID__:Le}),sv=Le({__NG_ENV_ID__:Le});function Xt(n){return typeof n=="string"?n:n==null?"":String(n)}function Bw(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Xt(n)}function t_(n,t){throw new A(-200,n)}function Uf(n,t){throw new A(-201,!1)}var he=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(he||{}),Mp;function n_(){return Mp}function Jt(n){let t=Mp;return Mp=n,t}function i_(n,t,e){let i=rc(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&he.Optional)return null;if(t!==void 0)return t;Uf(n,"Injector")}var Uw={},Tr=Uw,Op="__NG_DI_FLAG__",Ol=class{injector;constructor(t){this.injector=t}retrieve(t,e){let i=e;return this.injector.get(t,i.optional?Wu:Tr,i)}},Al="ngTempTokenPath",jw="ngTokenPath",$w=/\n/gm,Hw="\u0275",av="__source";function zw(n,t=he.Default){if(ms()===void 0)throw new A(-203,!1);if(ms()===null)return i_(n,void 0,t);{let e=ms(),i;return e instanceof Ol?i=e.injector:i=e,i.get(n,t&he.Optional?null:void 0,t)}}function L(n,t=he.Default){return(n_()||zw)(Ht(n),t)}function E(n,t=he.Default){return L(n,oc(t))}function oc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ap(n){let t=[];for(let e=0;e<n.length;e++){let i=Ht(n[e]);if(Array.isArray(i)){if(i.length===0)throw new A(900,!1);let r,o=he.Default;for(let s=0;s<i.length;s++){let d=i[s],p=qw(d);typeof p=="number"?p===-1?r=d.token:o|=p:r=d}t.push(L(r,o))}else t.push(L(i))}return t}function r_(n,t){return n[Op]=t,n.prototype[Op]=t,n}function qw(n){return n[Op]}function Gw(n,t,e,i){let r=n[Al];throw t[av]&&r.unshift(t[av]),n.message=Ww(`
`+n.message,r,e,i),n[jw]=r,n[Al]=null,n}function Ww(n,t,e,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Hw?n.slice(2):n;let r=tn(t);if(Array.isArray(t))r=t.map(tn).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let d=t[s];o.push(s+":"+(typeof d=="string"?JSON.stringify(d):tn(d)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace($w,`
  `)}`}var o_=r_(Zv("Optional"),8);var Yw=r_(Zv("SkipSelf"),4);function Er(n,t){let e=n.hasOwnProperty(Ml);return e?n[Ml]:null}function Zw(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function Qw(n){return n.flat(Number.POSITIVE_INFINITY)}function jf(n,t){n.forEach(e=>Array.isArray(e)?jf(e,t):t(e))}function s_(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Rl(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Kw(n,t){let e=[];for(let i=0;i<n;i++)e.push(t);return e}function Jw(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(r===1)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;){let o=r-2;n[r]=n[o],r--}n[t]=e,n[t+1]=i}}function sc(n,t,e){let i=Ms(n,t);return i>=0?n[i|1]=e:(i=~i,Jw(n,i,t,e)),i}function hp(n,t){let e=Ms(n,t);if(e>=0)return n[e|1]}function Ms(n,t){return Xw(n,t,1)}function Xw(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}var Ir={},en=[],yo=new $(""),a_=new $("",-1),l_=new $(""),Nl=class{get(t,e=Tr){if(e===Tr){let i=new Error(`NullInjectorError: No provider for ${tn(t)}!`);throw i.name="NullInjectorError",i}return e}};function c_(n,t){let e=n[Lw]||null;if(!e&&t===!0)throw new Error(`Type ${tn(n)} does not have '\u0275mod' property.`);return e}function Pr(n){return n[Nw]||null}function eT(n){return n[Fw]||null}function tT(n){return n[Vw]||null}function oi(n){return{\u0275providers:n}}function $f(...n){return{\u0275providers:d_(!0,n),\u0275fromNgModule:!0}}function d_(n,...t){let e=[],i=new Set,r,o=s=>{e.push(s)};return jf(t,s=>{let d=s;Rp(d,o,[],i)&&(r||=[],r.push(d))}),r!==void 0&&u_(r,o),e}function u_(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:r}=n[e];Hf(r,o=>{t(o,i)})}}function Rp(n,t,e,i){if(n=Ht(n),!n)return!1;let r=null,o=rv(n),s=!o&&Pr(n);if(!o&&!s){let p=n.ngModule;if(o=rv(p),o)r=p;else return!1}else{if(s&&!s.standalone)return!1;r=n}let d=i.has(r);if(s){if(d)return!1;if(i.add(r),s.dependencies){let p=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let m of p)Rp(m,t,e,i)}}else if(o){if(o.imports!=null&&!d){i.add(r);let m;try{jf(o.imports,v=>{Rp(v,t,e,i)&&(m||=[],m.push(v))})}finally{}m!==void 0&&u_(m,t)}if(!d){let m=Er(r)||(()=>new r);t({provide:r,useFactory:m,deps:en},r),t({provide:l_,useValue:r,multi:!0},r),t({provide:yo,useValue:()=>L(r),multi:!0},r)}let p=o.providers;if(p!=null&&!d){let m=n;Hf(p,v=>{t(v,m)})}}else return!1;return r!==n&&n.providers!==void 0}function Hf(n,t){for(let e of n)e_(e)&&(e=e.\u0275providers),Array.isArray(e)?Hf(e,t):t(e)}var nT=Le({provide:String,useValue:Le});function p_(n){return n!==null&&typeof n=="object"&&nT in n}function iT(n){return!!(n&&n.useExisting)}function rT(n){return!!(n&&n.useFactory)}function bo(n){return typeof n=="function"}function oT(n){return!!n.useClass}var ac=new $(""),Sl={},lv={},gp;function zf(){return gp===void 0&&(gp=new Nl),gp}var zt=class{},Cs=class extends zt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,Fp(t,s=>this.processProvider(s)),this.records.set(a_,fo(void 0,this)),r.has("environment")&&this.records.set(zt,fo(void 0,this));let o=this.records.get(ac);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(l_,en,he.Self))}retrieve(t,e){let i=e;return this.get(t,i.optional?Wu:Tr,i)}destroy(){_s(this),this._destroyed=!0;let t=_e(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(t)}}onDestroy(t){return _s(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){_s(this);let e=hi(this),i=Jt(void 0),r;try{return t()}finally{hi(e),Jt(i)}}get(t,e=Tr,i=he.Default){if(_s(this),t.hasOwnProperty(sv))return t[sv](this);i=oc(i);let r,o=hi(this),s=Jt(void 0);try{if(!(i&he.SkipSelf)){let p=this.records.get(t);if(p===void 0){let m=dT(t)&&rc(t);m&&this.injectableDefInScope(m)?p=fo(Np(t),Sl):p=null,this.records.set(t,p)}if(p!=null)return this.hydrate(t,p)}let d=i&he.Self?zf():this.parent;return e=i&he.Optional&&e===Tr?null:e,d.get(t,e)}catch(d){if(d.name==="NullInjectorError"){if((d[Al]=d[Al]||[]).unshift(tn(t)),o)throw d;return Gw(d,t,"R3InjectorError",this.source)}else throw d}finally{Jt(s),hi(o)}}resolveInjectorInitializers(){let t=_e(null),e=hi(this),i=Jt(void 0),r;try{let o=this.get(yo,en,he.Self);for(let s of o)s()}finally{hi(e),Jt(i),_e(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(tn(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Ht(t);let e=bo(t)?t:Ht(t&&t.provide),i=aT(t);if(!bo(t)&&t.multi===!0){let r=this.records.get(e);r||(r=fo(void 0,Sl,!0),r.factory=()=>Ap(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){let i=_e(null);try{return e.value===lv?t_(tn(t)):e.value===Sl&&(e.value=lv,e.value=e.factory()),typeof e.value=="object"&&e.value&&cT(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{_e(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Ht(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Np(n){let t=rc(n),e=t!==null?t.factory:Er(n);if(e!==null)return e;if(n instanceof $)throw new A(204,!1);if(n instanceof Function)return sT(n);throw new A(204,!1)}function sT(n){if(n.length>0)throw new A(204,!1);let e=Aw(n);return e!==null?()=>e.factory(n):()=>new n}function aT(n){if(p_(n))return fo(void 0,n.useValue);{let t=f_(n);return fo(t,Sl)}}function f_(n,t,e){let i;if(bo(n)){let r=Ht(n);return Er(r)||Np(r)}else if(p_(n))i=()=>Ht(n.useValue);else if(rT(n))i=()=>n.useFactory(...Ap(n.deps||[]));else if(iT(n))i=()=>L(Ht(n.useExisting));else{let r=Ht(n&&(n.useClass||n.provide));if(lT(n))i=()=>new r(...Ap(n.deps));else return Er(r)||Np(r)}return i}function _s(n){if(n.destroyed)throw new A(205,!1)}function fo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function lT(n){return!!n.deps}function cT(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function dT(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function Fp(n,t){for(let e of n)Array.isArray(e)?Fp(e,t):e&&e_(e)?Fp(e.\u0275providers,t):t(e)}function nn(n,t){let e;n instanceof Cs?(_s(n),e=n):e=new Ol(n);let i,r=hi(e),o=Jt(void 0);try{return t()}finally{hi(r),Jt(o)}}function m_(){return n_()!==void 0||ms()!=null}function qf(n){if(!m_())throw new A(-203,!1)}function uT(n){return typeof n=="function"}var si=0,de=1,ae=2,Nt=3,Un=4,rn=5,Co=6,Fl=7,_t=8,xs=9,_i=10,Qe=11,ws=12,cv=13,Do=14,un=15,Dr=16,mo=17,yi=18,lc=19,h_=20,qi=21,vp=22,kr=23,Sn=24,vo=25,yt=26,Gf=1;var Mr=7,Vl=8,xo=9,Rt=10;function Gi(n){return Array.isArray(n)&&typeof n[Gf]=="object"}function wi(n){return Array.isArray(n)&&n[Gf]===!0}function Wf(n){return(n.flags&4)!==0}function ko(n){return n.componentOffset>-1}function cc(n){return(n.flags&1)===1}function jn(n){return!!n.template}function Ll(n){return(n[ae]&512)!==0}function Os(n){return(n[ae]&256)===256}var Vp=class{previousValue;currentValue;firstChange;constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function g_(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}var mn=(()=>{let n=()=>v_;return n.ngInherit=!0,n})();function v_(n){return n.type.prototype.ngOnChanges&&(n.setInput=fT),pT}function pT(){let n=y_(this),t=n?.current;if(t){let e=n.previous;if(e===Ir)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function fT(n,t,e,i,r){let o=this.declaredInputs[i],s=y_(n)||mT(n,{previous:Ir,current:null}),d=s.current||(s.current={}),p=s.previous,m=p[o];d[o]=new Vp(m&&m.currentValue,e,p===Ir),g_(n,t,r,e)}var __="__ngSimpleChanges__";function y_(n){return n[__]||null}function mT(n,t){return n[__]=t}var dv=null;var Re=function(n,t=null,e){dv?.(n,t,e)},hT="svg",gT="math";function ni(n){for(;Array.isArray(n);)n=n[si];return n}function vT(n){for(;Array.isArray(n);){if(typeof n[Gf]=="object")return n;n=n[si]}return null}function b_(n,t){return ni(t[n])}function ai(n,t){return ni(t[n.index])}function Yf(n,t){return n.data[t]}function Zf(n,t){return n[t]}function ii(n,t){let e=t[n];return Gi(e)?e:e[si]}function _T(n){return(n[ae]&4)===4}function Qf(n){return(n[ae]&128)===128}function yT(n){return wi(n[Nt])}function Wi(n,t){return t==null?null:n[t]}function C_(n){n[mo]=0}function x_(n){n[ae]&1024||(n[ae]|=1024,Qf(n)&&Mo(n))}function bT(n,t){for(;n>0;)t=t[Do],n--;return t}function dc(n){return!!(n[ae]&9216||n[Sn]?.dirty)}function Lp(n){n[_i].changeDetectionScheduler?.notify(8),n[ae]&64&&(n[ae]|=1024),dc(n)&&Mo(n)}function Mo(n){n[_i].changeDetectionScheduler?.notify(0);let t=Or(n);for(;t!==null&&!(t[ae]&8192||(t[ae]|=8192,!Qf(t)));)t=Or(t)}function w_(n,t){if(Os(n))throw new A(911,!1);n[qi]===null&&(n[qi]=[]),n[qi].push(t)}function CT(n,t){if(n[qi]===null)return;let e=n[qi].indexOf(t);e!==-1&&n[qi].splice(e,1)}function Or(n){let t=n[Nt];return wi(t)?t[Nt]:t}function T_(n){return n[Fl]??=[]}function S_(n){return n.cleanup??=[]}function xT(n,t,e,i){let r=T_(t);r.push(e),n.firstCreatePass&&S_(n).push(i,r.length-1)}var ge={lFrame:A_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bp=!1;function wT(){return ge.lFrame.elementDepthCount}function TT(){ge.lFrame.elementDepthCount++}function ST(){ge.lFrame.elementDepthCount--}function Kf(){return ge.bindingsEnabled}function E_(){return ge.skipHydrationRootTNode!==null}function ET(n){return ge.skipHydrationRootTNode===n}function IT(){ge.skipHydrationRootTNode=null}function ie(){return ge.lFrame.lView}function Ke(){return ge.lFrame.tView}function w(n){return ge.lFrame.contextLView=n,n[_t]}function T(n){return ge.lFrame.contextLView=null,n}function Vt(){let n=I_();for(;n!==null&&n.type===64;)n=n.parent;return n}function I_(){return ge.lFrame.currentTNode}function PT(){let n=ge.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Lr(n,t){let e=ge.lFrame;e.currentTNode=n,e.isParent=t}function Jf(){return ge.lFrame.isParent}function Xf(){ge.lFrame.isParent=!1}function P_(){return Bp}function Bl(n){let t=Bp;return Bp=n,t}function As(){let n=ge.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function em(){return ge.lFrame.bindingIndex}function DT(n){return ge.lFrame.bindingIndex=n}function Br(){return ge.lFrame.bindingIndex++}function Rs(n){let t=ge.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function kT(){return ge.lFrame.inI18n}function MT(n,t){let e=ge.lFrame;e.bindingIndex=e.bindingRootIndex=n,Up(t)}function OT(){return ge.lFrame.currentDirectiveIndex}function Up(n){ge.lFrame.currentDirectiveIndex=n}function D_(n){let t=ge.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function k_(){return ge.lFrame.currentQueryIndex}function tm(n){ge.lFrame.currentQueryIndex=n}function AT(n){let t=n[de];return t.type===2?t.declTNode:t.type===1?n[rn]:null}function M_(n,t,e){if(e&he.SkipSelf){let r=t,o=n;for(;r=r.parent,r===null&&!(e&he.Host);)if(r=AT(o),r===null||(o=o[Do],r.type&10))break;if(r===null)return!1;t=r,n=o}let i=ge.lFrame=O_();return i.currentTNode=t,i.lView=n,!0}function nm(n){let t=O_(),e=n[de];ge.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function O_(){let n=ge.lFrame,t=n===null?null:n.child;return t===null?A_(n):t}function A_(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function R_(){let n=ge.lFrame;return ge.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var N_=R_;function im(){let n=R_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function RT(n){return(ge.lFrame.contextLView=bT(n,ge.lFrame.contextLView))[_t]}function $n(){return ge.lFrame.selectedIndex}function Ar(n){ge.lFrame.selectedIndex=n}function Ns(){let n=ge.lFrame;return Yf(n.tView,n.selectedIndex)}function NT(){return ge.lFrame.currentNamespace}var F_=!0;function uc(){return F_}function pc(n){F_=n}function FT(n,t,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=v_(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function rm(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:d,ngAfterViewInit:p,ngAfterViewChecked:m,ngOnDestroy:v}=o;s&&(n.contentHooks??=[]).push(-e,s),d&&((n.contentHooks??=[]).push(e,d),(n.contentCheckHooks??=[]).push(e,d)),p&&(n.viewHooks??=[]).push(-e,p),m&&((n.viewHooks??=[]).push(e,m),(n.viewCheckHooks??=[]).push(e,m)),v!=null&&(n.destroyHooks??=[]).push(e,v)}}function El(n,t,e){V_(n,t,3,e)}function Il(n,t,e,i){(n[ae]&3)===e&&V_(n,t,e,i)}function _p(n,t){let e=n[ae];(e&3)===t&&(e&=16383,e+=1,n[ae]=e)}function V_(n,t,e,i){let r=i!==void 0?n[mo]&65535:0,o=i??-1,s=t.length-1,d=0;for(let p=r;p<s;p++)if(typeof t[p+1]=="number"){if(d=t[p],i!=null&&d>=i)break}else t[p]<0&&(n[mo]+=65536),(d<o||o==-1)&&(VT(n,e,t,p),n[mo]=(n[mo]&4294901760)+p+2),p++}function uv(n,t){Re(4,n,t);let e=_e(null);try{t.call(n)}finally{_e(e),Re(5,n,t)}}function VT(n,t,e,i){let r=e[i]<0,o=e[i+1],s=r?-e[i]:e[i],d=n[s];r?n[ae]>>14<n[mo]>>16&&(n[ae]&3)===t&&(n[ae]+=16384,uv(d,o)):uv(d,o)}var _o=-1,Rr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,i){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=i}};function LT(n){return(n.flags&8)!==0}function BT(n){return(n.flags&16)!==0}function UT(n,t,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],s=e[i++],d=e[i++];n.setAttribute(t,s,d,o)}else{let o=r,s=e[++i];jT(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function L_(n){return n===3||n===4||n===6}function jT(n){return n.charCodeAt(0)===64}function wo(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?pv(n,e,r,null,t[++i]):pv(n,e,r,null,null))}}return n}function pv(n,t,e,i,r){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let d=n[o++];if(typeof d=="number"){if(d===t){s=-1;break}else if(d>t){s=o-1;break}}}for(;o<n.length;){let d=n[o];if(typeof d=="number")break;if(d===e){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r)}var yp={},jp=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=oc(i);let r=this.injector.get(t,yp,i);return r!==yp||e===yp?r:this.parentInjector.get(t,e,i)}};function B_(n){return n!==_o}function Ul(n){return n&32767}function $T(n){return n>>16}function jl(n,t){let e=$T(n),i=t;for(;e>0;)i=i[Do],e--;return i}var $p=!0;function $l(n){let t=$p;return $p=n,t}var HT=256,U_=HT-1,j_=5,zT=0,ti={};function qT(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(bs)&&(i=e[bs]),i==null&&(i=e[bs]=zT++);let r=i&U_,o=1<<r;t.data[n+(r>>j_)]|=o}function Hl(n,t){let e=$_(n,t);if(e!==-1)return e;let i=t[de];i.firstCreatePass&&(n.injectorIndex=t.length,bp(i.data,n),bp(t,null),bp(i.blueprint,null));let r=om(n,t),o=n.injectorIndex;if(B_(r)){let s=Ul(r),d=jl(r,t),p=d[de].data;for(let m=0;m<8;m++)t[o+m]=d[s+m]|p[s+m]}return t[o+8]=r,o}function bp(n,t){n.push(0,0,0,0,0,0,0,0,t)}function $_(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function om(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;r!==null;){if(i=W_(r),i===null)return _o;if(e++,r=r[Do],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return _o}function Hp(n,t,e){qT(n,t,e)}function GT(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(L_(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===t)return e[r+1];r=r+2}}}return null}function H_(n,t,e){if(e&he.Optional||n!==void 0)return n;Uf(t,"NodeInjector")}function z_(n,t,e,i){if(e&he.Optional&&i===void 0&&(i=null),(e&(he.Self|he.Host))===0){let r=n[xs],o=Jt(void 0);try{return r?r.get(t,i,e&he.Optional):i_(t,i,e&he.Optional)}finally{Jt(o)}}return H_(i,t,e)}function q_(n,t,e,i=he.Default,r){if(n!==null){if(t[ae]&2048&&!(i&he.Self)){let s=QT(n,t,e,i,ti);if(s!==ti)return s}let o=G_(n,t,e,i,ti);if(o!==ti)return o}return z_(t,e,i,r)}function G_(n,t,e,i,r){let o=YT(e);if(typeof o=="function"){if(!M_(t,n,i))return i&he.Host?H_(r,e,i):z_(t,e,i,r);try{let s;if(s=o(i),s==null&&!(i&he.Optional))Uf(e);else return s}finally{N_()}}else if(typeof o=="number"){let s=null,d=$_(n,t),p=_o,m=i&he.Host?t[un][rn]:null;for((d===-1||i&he.SkipSelf)&&(p=d===-1?om(n,t):t[d+8],p===_o||!mv(i,!1)?d=-1:(s=t[de],d=Ul(p),t=jl(p,t)));d!==-1;){let v=t[de];if(fv(o,d,v.data)){let _=WT(d,t,e,s,i,m);if(_!==ti)return _}p=t[d+8],p!==_o&&mv(i,t[de].data[d+8]===m)&&fv(o,d,t)?(s=v,d=Ul(p),t=jl(p,t)):d=-1}}return r}function WT(n,t,e,i,r,o){let s=t[de],d=s.data[n+8],p=i==null?ko(d)&&$p:i!=s&&(d.type&3)!==0,m=r&he.Host&&o===d,v=Pl(d,s,e,p,m);return v!==null?Ts(t,s,v,d):ti}function Pl(n,t,e,i,r){let o=n.providerIndexes,s=t.data,d=o&1048575,p=n.directiveStart,m=n.directiveEnd,v=o>>20,_=i?d:d+v,S=r?d+v:m;for(let C=_;C<S;C++){let I=s[C];if(C<p&&e===I||C>=p&&I.type===e)return C}if(r){let C=s[p];if(C&&jn(C)&&C.type===e)return p}return null}function Ts(n,t,e,i){let r=n[e],o=t.data;if(r instanceof Rr){let s=r;s.resolving&&t_(Bw(o[e]));let d=$l(s.canSeeViewProviders);s.resolving=!0;let p,m=s.injectImpl?Jt(s.injectImpl):null,v=M_(n,i,he.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&FT(e,o[e],t)}finally{m!==null&&Jt(m),$l(d),s.resolving=!1,N_()}}return r}function YT(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(bs)?n[bs]:void 0;return typeof t=="number"?t>=0?t&U_:ZT:t}function fv(n,t,e){let i=1<<n;return!!(e[t+(n>>j_)]&i)}function mv(n,t){return!(n&he.Self)&&!(n&he.Host&&t)}var Sr=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return q_(this._tNode,this._lView,t,oc(i),e)}};function ZT(){return new Sr(Vt(),ie())}function qt(n){return ks(()=>{let t=n.prototype.constructor,e=t[Ml]||zp(t),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Ml]||zp(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function zp(n){return Qv(n)?()=>{let t=zp(Ht(n));return t&&t()}:Er(n)}function QT(n,t,e,i,r){let o=n,s=t;for(;o!==null&&s!==null&&s[ae]&2048&&!Ll(s);){let d=G_(o,s,e,i|he.Self,ti);if(d!==ti)return d;let p=o.parent;if(!p){let m=s[h_];if(m){let v=m.get(e,ti,i);if(v!==ti)return v}p=W_(s),s=s[Do]}o=p}return r}function W_(n){let t=n[de],e=t.type;return e===2?t.declTNode:e===1?n[rn]:null}function sm(n){return GT(Vt(),n)}function hv(n,t=null,e=null,i){let r=Y_(n,t,e,i);return r.resolveInjectorInitializers(),r}function Y_(n,t=null,e=null,i,r=new Set){let o=[e||en,$f(n)];return i=i||(typeof n=="object"?void 0:tn(n)),new Cs(o,t||zf(),i||null,r)}var dt=class n{static THROW_IF_NOT_FOUND=Tr;static NULL=new Nl;static create(t,e){if(Array.isArray(t))return hv({name:""},e,t,"");{let i=t.name??"";return hv({name:i},t.parent,t.providers,i)}}static \u0275prov=N({token:n,providedIn:"any",factory:()=>L(a_)});static __NG_ELEMENT_ID__=-1};var KT=new $("");KT.__NG_ELEMENT_ID__=n=>{let t=Vt();if(t===null)throw new A(204,!1);if(t.type&2)return t.value;if(n&he.Optional)return null;throw new A(204,!1)};var Z_=!1,Oo=(()=>{class n{static __NG_ELEMENT_ID__=JT;static __NG_ENV_ID__=e=>e}return n})(),zl=class extends Oo{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return w_(this._lView,t),()=>CT(this._lView,t)}};function JT(){return new zl(ie())}var Nr=class{},am=new $("",{providedIn:"root",factory:()=>!1});var Q_=new $(""),K_=new $(""),Zi=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new gt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})();var qp=class extends be{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,m_()&&(this.destroyRef=E(Oo,{optional:!0})??void 0,this.pendingTasks=E(Zi,{optional:!0})??void 0)}emit(t){let e=_e(null);try{super.next(t)}finally{_e(e)}}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&typeof t=="object"){let p=t;r=p.next?.bind(p),o=p.error?.bind(p),s=p.complete?.bind(p)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let d=super.subscribe({next:r,error:o,complete:s});return t instanceof nt&&t.add(d),d}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(e),i!==void 0&&this.pendingTasks?.remove(i)})}}},ot=qp;function Ss(...n){}function J_(n){let t,e;function i(){n=Ss;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function gv(n){return queueMicrotask(()=>n()),()=>{n=Ss}}var lm="isAngularZone",ql=lm+"_ID",XT=0,Ve=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ot(!1);onMicrotaskEmpty=new ot(!1);onStable=new ot(!1);onError=new ot(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=Z_}=t;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,nS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(lm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new A(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,eS,Ss,Ss);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},eS={};function cm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function tS(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){J_(()=>{n.callbackScheduled=!1,Gp(n),n.isCheckStableRunning=!0,cm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),Gp(n)}function nS(n){let t=()=>{tS(n)},e=XT++;n._inner=n._inner.fork({name:"angular",properties:{[lm]:!0,[ql]:e,[ql+e]:!0},onInvokeTask:(i,r,o,s,d,p)=>{if(iS(p))return i.invokeTask(o,s,d,p);try{return vv(n),i.invokeTask(o,s,d,p)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),_v(n)}},onInvoke:(i,r,o,s,d,p,m)=>{try{return vv(n),i.invoke(o,s,d,p,m)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!rS(p)&&t(),_v(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Gp(n),cm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Gp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function vv(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _v(n){n._nesting--,cm(n)}var Wp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ot;onMicrotaskEmpty=new ot;onStable=new ot;onError=new ot;run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}};function iS(n){return X_(n,"__ignore_ng_zone__")}function rS(n){return X_(n,"__scheduler_tick__")}function X_(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var bi=class{_console=console;handleError(t){this._console.error("ERROR",t)}},oS=new $("",{providedIn:"root",factory:()=>{let n=E(Ve),t=E(bi);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function yv(n,t){return Yv(n,t)}function sS(n){return Yv(Wv,n)}var Fs=(yv.required=sS,yv);function aS(){return Ao(Vt(),ie())}function Ao(n,t){return new st(ai(n,t))}var st=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=aS}return n})();function lS(n){return n instanceof st?n.nativeElement:n}function cS(n){return typeof n=="function"&&n[cn]!==void 0}function xe(n,t){let e=I0(n),i=e[cn];return t?.equal&&(i.equal=t.equal),e.set=r=>qa(i,r),e.update=r=>P0(i,r),e.asReadonly=dS.bind(e),e}function dS(){let n=this[cn];if(n.readonlyFn===void 0){let t=()=>this();t[cn]=n,n.readonlyFn=t}return n.readonlyFn}function ey(n){return cS(n)&&typeof n.set=="function"}function uS(){return this._results[Symbol.iterator]()}var Yp=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new be}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=Qw(t);(this._changesDetected=!Zw(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=uS};function ty(n){return(n.flags&128)===128}var ny=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ny||{}),iy=new Map,pS=0;function fS(){return pS++}function mS(n){iy.set(n[lc],n)}function Zp(n){iy.delete(n[lc])}var bv="__ngContext__";function Ro(n,t){Gi(t)?(n[bv]=t[lc],mS(t)):n[bv]=t}function ry(n){return sy(n[ws])}function oy(n){return sy(n[Un])}function sy(n){for(;n!==null&&!wi(n);)n=n[Un];return n}var Qp;function ay(n){Qp=n}function ly(){if(Qp!==void 0)return Qp;if(typeof document<"u")return document;throw new A(210,!1)}var dm=new $("",{providedIn:"root",factory:()=>hS}),hS="ng",um=new $(""),Ti=new $("",{providedIn:"platform",factory:()=>"unknown"});var pm=new $(""),fm=new $("",{providedIn:"root",factory:()=>ly().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var gS="h",vS="b";var cy=!1,_S=new $("",{providedIn:"root",factory:()=>cy});var mm=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(mm||{}),No=new $(""),Cv=new Set;function Qi(n){Cv.has(n)||(Cv.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var hm=(()=>{class n{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=yS}return n})();function yS(){return new hm(ie(),Vt())}var ho=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ho||{}),dy=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})(),bS=[ho.EarlyRead,ho.Write,ho.MixedReadWrite,ho.Read],CS=(()=>{class n{ngZone=E(Ve);scheduler=E(Nr);errorHandler=E(bi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){E(No,{optional:!0})}execute(){let e=this.sequences.size>0;e&&Re(16),this.executing=!0;for(let i of bS)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&Re(17)}register(e){let{view:i}=e;i!==void 0?((i[vo]??=[]).push(e),Mo(i),i[ae]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(mm.AFTER_NEXT_RENDER,e):e()}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})(),Kp=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,i,r,o,s=null){this.impl=t,this.hooks=e,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[vo];t&&(this.view[vo]=t.filter(e=>e!==this))}};function gm(n,t){!t?.injector&&qf(gm);let e=t?.injector??E(dt);return Qi("NgAfterNextRender"),wS(n,e,t,!0)}function xS(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function wS(n,t,e,i){let r=t.get(dy);r.impl??=t.get(CS);let o=t.get(No,null,{optional:!0}),s=e?.phase??ho.MixedReadWrite,d=e?.manualCleanup!==!0?t.get(Oo):null,p=t.get(hm,null,{optional:!0}),m=new Kp(r.impl,xS(n,s),p?.view,i,d,o?.snapshot(null));return r.impl.register(m),m}var TS=()=>null;function uy(n,t,e=!1){return TS(n,t,e)}function py(n,t){let e=n.contentQueries;if(e!==null){let i=_e(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s!==-1){let d=n.data[s];tm(o),d.contentQueries(2,t[s],s)}}}finally{_e(i)}}}function Jp(n,t,e){tm(0);let i=_e(null);try{t(n,e)}finally{_e(i)}}function vm(n,t,e){if(Wf(t)){let i=_e(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let d=n.data[s];if(d.contentQueries){let p=e[s];d.contentQueries(1,p,s)}}}finally{_e(i)}}}var ri=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ri||{}),Cl;function SS(){if(Cl===void 0&&(Cl=null,vi.trustedTypes))try{Cl=vi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cl}function fc(n){return SS()?.createHTML(n)||n}var xl;function fy(){if(xl===void 0&&(xl=null,vi.trustedTypes))try{xl=vi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xl}function xv(n){return fy()?.createHTML(n)||n}function wv(n){return fy()?.createScriptURL(n)||n}var Ci=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gv})`}},Xp=class extends Ci{getTypeName(){return"HTML"}},ef=class extends Ci{getTypeName(){return"Style"}},tf=class extends Ci{getTypeName(){return"Script"}},nf=class extends Ci{getTypeName(){return"URL"}},rf=class extends Ci{getTypeName(){return"ResourceURL"}};function En(n){return n instanceof Ci?n.changingThisBreaksApplicationSecurity:n}function Si(n,t){let e=ES(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Gv})`)}return e===t}function ES(n){return n instanceof Ci&&n.getTypeName()||null}function my(n){return new Xp(n)}function hy(n){return new ef(n)}function gy(n){return new tf(n)}function vy(n){return new nf(n)}function _y(n){return new rf(n)}function IS(n){let t=new sf(n);return PS()?new of(t):t}var of=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(fc(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},sf=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=fc(t),e}};function PS(){try{return!!new window.DOMParser().parseFromString(fc(""),"text/html")}catch{return!1}}var DS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mc(n){return n=String(n),n.match(DS)?n:"unsafe:"+n}function Ei(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function Vs(...n){let t={};for(let e of n)for(let i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}var yy=Ei("area,br,col,hr,img,wbr"),by=Ei("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cy=Ei("rp,rt"),kS=Vs(Cy,by),MS=Vs(by,Ei("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),OS=Vs(Cy,Ei("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tv=Vs(yy,MS,OS,kS),xy=Ei("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),AS=Ei("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),RS=Ei("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),NS=Vs(xy,AS,RS),FS=Ei("script,style,template"),af=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=BS(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=LS(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(t){let e=Sv(t).toLowerCase();if(!Tv.hasOwnProperty(e))return this.sanitizedSomething=!0,!FS.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=t.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,d=s.toLowerCase();if(!NS.hasOwnProperty(d)){this.sanitizedSomething=!0;continue}let p=o.value;xy[d]&&(p=mc(p)),this.buf.push(" ",s,'="',Ev(p),'"')}return this.buf.push(">"),!0}endElement(t){let e=Sv(t).toLowerCase();Tv.hasOwnProperty(e)&&!yy.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Ev(t))}};function VS(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function LS(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw wy(t);return t}function BS(n){let t=n.firstChild;if(t&&VS(n,t))throw wy(t);return t}function Sv(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function wy(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var US=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jS=/([^\#-~ |!])/g;function Ev(n){return n.replace(/&/g,"&amp;").replace(US,function(t){let e=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(jS,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var wl;function _m(n,t){let e=null;try{wl=wl||IS(n);let i=t?String(t):"";e=wl.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=wl.getInertBodyElement(i)}while(i!==o);let d=new af().sanitizeChildren(Iv(e)||e);return fc(d)}finally{if(e){let i=Iv(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function Iv(n){return"content"in n&&$S(n)?n.content:null}function $S(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var hn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(hn||{});function Ki(n){let t=ym();return t?xv(t.sanitize(hn.HTML,n)||""):Si(n,"HTML")?xv(En(n)):_m(ly(),Xt(n))}function te(n){let t=ym();return t?t.sanitize(hn.URL,n)||"":Si(n,"URL")?En(n):mc(Xt(n))}function HS(n){let t=ym();if(t)return wv(t.sanitize(hn.RESOURCE_URL,n)||"");if(Si(n,"ResourceURL"))return wv(En(n));throw new A(904,!1)}function zS(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?HS:te}function Ty(n,t,e){return zS(t,e)(n)}function ym(){let n=ie();return n&&n[_i].sanitizer}var qS=/^>|^->|<!--|-->|--!>|<!-$/g,GS=/(<|>)/g,WS="\u200B$1\u200B";function YS(n){return n.replace(qS,t=>t.replace(GS,WS))}function Sy(n){return n instanceof Function?n():n}function ZS(n,t,e){let i=n.length;for(;;){let r=n.indexOf(t,e);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}var Ey="ng-template";function QS(n,t,e,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&ZS(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(bm(n))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function bm(n){return n.type===4&&n.value!==Ey}function KS(n,t,e){let i=n.type===4&&!e?Ey:n.value;return t===i}function JS(n,t,e){let i=4,r=n.attrs,o=r!==null?tE(r):0,s=!1;for(let d=0;d<t.length;d++){let p=t[d];if(typeof p=="number"){if(!s&&!Ln(i)&&!Ln(p))return!1;if(s&&Ln(p))continue;s=!1,i=p|i&1;continue}if(!s)if(i&4){if(i=2|i&1,p!==""&&!KS(n,p,e)||p===""&&t.length===1){if(Ln(i))return!1;s=!0}}else if(i&8){if(r===null||!QS(n,r,p,e)){if(Ln(i))return!1;s=!0}}else{let m=t[++d],v=XS(p,r,bm(n),e);if(v===-1){if(Ln(i))return!1;s=!0;continue}if(m!==""){let _;if(v>o?_="":_=r[v+1].toLowerCase(),i&2&&m!==_){if(Ln(i))return!1;s=!0}}}}return Ln(i)||s}function Ln(n){return(n&1)===0}function XS(n,t,e,i){if(t===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){let s=t[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let d=t[++r];for(;typeof d=="string";)d=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return nE(t,n)}function Iy(n,t,e=!1){for(let i=0;i<t.length;i++)if(JS(n,t[i],e))return!0;return!1}function eE(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if((e&1)===0)return t[e+1]}return null}function tE(n){for(let t=0;t<n.length;t++){let e=n[t];if(L_(e))return t}return n.length}function nE(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function iE(n,t){e:for(let e=0;e<t.length;e++){let i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Pv(n,t){return n?":not("+t.trim()+")":t}function rE(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(i&2){let d=n[++e];r+="["+s+(d.length>0?'="'+d+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Ln(s)&&(t+=Pv(o,r),r=""),i=s,o=o||!Ln(i);e++}return r!==""&&(t+=Pv(o,r)),t}function oE(n){return n.map(rE).join(",")}function sE(n){let t=[],e=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&t.push(o,n[++i]):r===8&&e.push(o);else{if(!Ln(r))break;r=o}i++}return e.length&&t.push(1,...e),t}var wt={};function aE(n,t){return n.createText(t)}function lE(n,t,e){n.setValue(t,e)}function cE(n,t){return n.createComment(YS(t))}function Py(n,t,e){return n.createElement(t,e)}function Gl(n,t,e,i,r){n.insertBefore(t,e,i,r)}function Dy(n,t,e){n.appendChild(t,e)}function Dv(n,t,e,i,r){i!==null?Gl(n,t,e,i,r):Dy(n,t,e)}function dE(n,t,e){n.removeChild(null,t,e)}function uE(n,t,e){n.setAttribute(t,"style",e)}function pE(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function ky(n,t,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&UT(n,t,i),r!==null&&pE(n,t,r),o!==null&&uE(n,t,o)}function Cm(n,t,e,i,r,o,s,d,p,m,v){let _=yt+i,S=_+r,C=fE(_,S),I=typeof m=="function"?m():m;return C[de]={type:n,blueprint:C,template:e,queries:null,viewQuery:d,declTNode:t,data:C.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:p,consts:I,incompleteFirstPass:!1,ssrId:v}}function fE(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:wt);return e}function mE(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Cm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function xm(n,t,e,i,r,o,s,d,p,m,v){let _=t.blueprint.slice();return _[si]=r,_[ae]=i|4|128|8|64|1024,(m!==null||n&&n[ae]&2048)&&(_[ae]|=2048),C_(_),_[Nt]=_[Do]=n,_[_t]=e,_[_i]=s||n&&n[_i],_[Qe]=d||n&&n[Qe],_[xs]=p||n&&n[xs]||null,_[rn]=o,_[lc]=fS(),_[Co]=v,_[h_]=m,_[un]=t.type==2?n[un]:_,_}function hE(n,t,e){let i=ai(t,n),r=mE(e),o=n[_i].rendererFactory,s=wm(n,xm(n,r,null,My(e),i,t,null,o.createRenderer(i,e),null,null,null));return n[t.index]=s}function My(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function Oy(n,t,e,i){if(e===0)return-1;let r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function wm(n,t){return n[ws]?n[cv][Un]=t:n[ws]=t,n[cv]=t,t}function c(n=1){Ay(Ke(),ie(),$n()+n,!1)}function Ay(n,t,e,i){if(!i)if((t[ae]&3)===3){let o=n.preOrderCheckHooks;o!==null&&El(t,o,e)}else{let o=n.preOrderHooks;o!==null&&Il(t,o,0,e)}Ar(e)}var hc=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(hc||{});function lf(n,t,e,i){let r=_e(null);try{let[o,s,d]=n.inputs[e],p=null;(s&hc.SignalBased)!==0&&(p=t[o][cn]),p!==null&&p.transformFn!==void 0?i=p.transformFn(i):d!==null&&(i=d.call(t,i)),n.setInput!==null?n.setInput(t,p,i,e,o):g_(t,p,o,i)}finally{_e(r)}}function Ry(n,t,e,i,r){let o=$n(),s=i&2;try{Ar(-1),s&&t.length>yt&&Ay(n,t,yt,!1),Re(s?2:0,r),e(i,r)}finally{Ar(o),Re(s?3:1,r)}}function gc(n,t,e){CE(n,t,e),(e.flags&64)===64&&xE(n,t,e)}function Tm(n,t,e=ai){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],d=s===-1?e(t,n):n[s];n[r++]=d}}}function gE(n,t,e,i){let o=i.get(_S,cy)||e===ri.ShadowDom,s=n.selectRootElement(t,o);return vE(s),s}function vE(n){_E(n)}var _E=()=>null;function yE(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function vc(n,t,e,i,r,o,s,d){if(!d&&Em(t,n,e,i,r)){ko(t)&&bE(e,t.index);return}if(t.type&3){let p=ai(t,e);i=yE(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(p,i,r)}else t.type&12}function bE(n,t){let e=ii(t,n);e[ae]&16||(e[ae]|=64)}function CE(n,t,e){let i=e.directiveStart,r=e.directiveEnd;ko(e)&&hE(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||Hl(e,t);let o=e.initialInputs;for(let s=i;s<r;s++){let d=n.data[s],p=Ts(t,n,s,e);if(Ro(p,t),o!==null&&EE(t,s-i,p,d,e,o),jn(d)){let m=ii(e.index,t);m[_t]=Ts(t,n,s,e)}}}function xE(n,t,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,s=OT();try{Ar(o);for(let d=i;d<r;d++){let p=n.data[d],m=t[d];Up(d),(p.hostBindings!==null||p.hostVars!==0||p.hostAttrs!==null)&&wE(p,m)}}finally{Ar(-1),Up(s)}}function wE(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function Sm(n,t){let e=n.directiveRegistry,i=null;if(e)for(let r=0;r<e.length;r++){let o=e[r];Iy(t,o.selectors,!1)&&(i??=[],jn(o)?i.unshift(o):i.push(o))}return i}function TE(n,t,e,i,r,o){let s=ai(n,t);SE(t[Qe],s,o,n.value,e,i,r)}function SE(n,t,e,i,r,o,s){if(o==null)n.removeAttribute(t,r,e);else{let d=s==null?Xt(o):s(o,i||"",r);n.setAttribute(t,r,d,e)}}function EE(n,t,e,i,r,o){let s=o[t];if(s!==null)for(let d=0;d<s.length;d+=2){let p=s[d],m=s[d+1];lf(i,e,p,m)}}function IE(n,t,e){return(n===null||jn(n))&&(e=vT(e[t.index])),e[Qe]}function Ny(n,t){let e=n[xs],i=e?e.get(bi,null):null;i&&i.handleError(t)}function Em(n,t,e,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],d=!1;if(s)for(let p=0;p<s.length;p+=2){let m=s[p],v=s[p+1],_=t.data[m];lf(_,e[m],v,r),d=!0}if(o)for(let p of o){let m=e[p],v=t.data[p];lf(v,m,i,r),d=!0}return d}function PE(n,t){let e=ii(t,n),i=e[de];DE(i,e);let r=e[si];r!==null&&e[Co]===null&&(e[Co]=uy(r,e[xs])),Re(18),Im(i,e,e[_t]),Re(19,e[_t])}function DE(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function Im(n,t,e){nm(t);try{let i=n.viewQuery;i!==null&&Jp(1,i,e);let r=n.template;r!==null&&Ry(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[yi]?.finishViewCreation(n),n.staticContentQueries&&py(n,t),n.staticViewQueries&&Jp(2,n.viewQuery,e);let o=n.components;o!==null&&kE(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[ae]&=-5,im()}}function kE(n,t){for(let e=0;e<t.length;e++)PE(n,t[e])}function Ls(n,t,e,i){let r=_e(null);try{let o=t.tView,d=n[ae]&4096?4096:16,p=xm(n,o,e,d,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),m=n[t.index];p[Dr]=m;let v=n[yi];return v!==null&&(p[yi]=v.createEmbeddedView(o)),Im(o,p,e),p}finally{_e(r)}}function To(n,t){return!t||t.firstChild===null||ty(n)}var ME;function Pm(n,t){return ME(n,t)}var xi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(xi||{});function Dm(n){return(n.flags&32)===32}function go(n,t,e,i,r){if(i!=null){let o,s=!1;wi(i)?o=i:Gi(i)&&(s=!0,i=i[si]);let d=ni(i);n===0&&e!==null?r==null?Dy(t,e,d):Gl(t,e,d,r||null,!0):n===1&&e!==null?Gl(t,e,d,r||null,!0):n===2?dE(t,d,s):n===3&&t.destroyNode(d),o!=null&&jE(t,n,o,e,r)}}function OE(n,t){Fy(n,t),t[si]=null,t[rn]=null}function AE(n,t,e,i,r,o){i[si]=r,i[rn]=t,bc(n,i,e,1,r,o)}function Fy(n,t){t[_i].changeDetectionScheduler?.notify(9),bc(n,t,t[Qe],2,null,null)}function RE(n){let t=n[ws];if(!t)return Cp(n[de],n);for(;t;){let e=null;if(Gi(t))e=t[ws];else{let i=t[Rt];i&&(e=i)}if(!e){for(;t&&!t[Un]&&t!==n;)Gi(t)&&Cp(t[de],t),t=t[Nt];t===null&&(t=n),Gi(t)&&Cp(t[de],t),e=t&&t[Un]}t=e}}function km(n,t){let e=n[xo],i=e.indexOf(t);e.splice(i,1)}function _c(n,t){if(Os(t))return;let e=t[Qe];e.destroyNode&&bc(n,t,e,3,null,null),RE(t)}function Cp(n,t){if(Os(t))return;let e=_e(null);try{t[ae]&=-129,t[ae]|=256,t[Sn]&&fs(t[Sn]),FE(n,t),NE(n,t),t[de].type===1&&t[Qe].destroy();let i=t[Dr];if(i!==null&&wi(t[Nt])){i!==t[Nt]&&km(i,t);let r=t[yi];r!==null&&r.detachView(n)}Zp(t)}finally{_e(e)}}function NE(n,t){let e=n.cleanup,i=t[Fl];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let d=e[s+3];d>=0?i[d]():i[-d].unsubscribe(),s+=2}else{let d=i[e[s+1]];e[s].call(d)}i!==null&&(t[Fl]=null);let r=t[qi];if(r!==null){t[qi]=null;for(let s=0;s<r.length;s++){let d=r[s];d()}}let o=t[kr];if(o!==null){t[kr]=null;for(let s of o)s.destroy()}}function FE(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=t[e[i]];if(!(r instanceof Rr)){let o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let d=r[o[s]],p=o[s+1];Re(4,d,p);try{p.call(d)}finally{Re(5,d,p)}}else{Re(4,r,o);try{o.call(r)}finally{Re(5,r,o)}}}}}function Vy(n,t,e){return VE(n,t.parent,e)}function VE(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[si];if(ko(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===ri.None||r===ri.Emulated)return null}return ai(i,e)}function Ly(n,t,e){return BE(n,t,e)}function LE(n,t,e){return n.type&40?ai(n,e):null}var BE=LE,kv;function yc(n,t,e,i){let r=Vy(n,i,t),o=t[Qe],s=i.parent||t[rn],d=Ly(s,i,t);if(r!=null)if(Array.isArray(e))for(let p=0;p<e.length;p++)Dv(o,r,e[p],d,!1);else Dv(o,r,e,d,!1);kv!==void 0&&kv(o,i,t,e,r)}function ys(n,t){if(t!==null){let e=t.type;if(e&3)return ai(t,n);if(e&4)return cf(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return ys(n,i);{let r=n[t.index];return wi(r)?cf(-1,r):ni(r)}}else{if(e&128)return ys(n,t.next);if(e&32)return Pm(t,n)()||ni(n[t.index]);{let i=By(n,t);if(i!==null){if(Array.isArray(i))return i[0];let r=Or(n[un]);return ys(r,i)}else return ys(n,t.next)}}}return null}function By(n,t){if(t!==null){let i=n[un][rn],r=t.projection;return i.projection[r]}return null}function cf(n,t){let e=Rt+n+1;if(e<t.length){let i=t[e],r=i[de].firstChild;if(r!==null)return ys(i,r)}return t[Mr]}function Mm(n,t,e,i,r,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let d=i[e.index],p=e.type;if(s&&t===0&&(d&&Ro(ni(d),i),e.flags|=2),!Dm(e))if(p&8)Mm(n,t,e.child,i,r,o,!1),go(t,n,r,d,o);else if(p&32){let m=Pm(e,i),v;for(;v=m();)go(t,n,r,v,o);go(t,n,r,d,o)}else p&16?Uy(n,t,i,e,r,o):go(t,n,r,d,o);e=s?e.projectionNext:e.next}}function bc(n,t,e,i,r,o){Mm(e,i,n.firstChild,t,r,o,!1)}function UE(n,t,e){let i=t[Qe],r=Vy(n,e,t),o=e.parent||t[rn],s=Ly(o,e,t);Uy(i,0,t,e,r,s)}function Uy(n,t,e,i,r,o){let s=e[un],p=s[rn].projection[i.projection];if(Array.isArray(p))for(let m=0;m<p.length;m++){let v=p[m];go(t,n,r,v,o)}else{let m=p,v=s[Nt];ty(i)&&(m.flags|=128),Mm(n,t,m,v,r,o,!0)}}function jE(n,t,e,i,r){let o=e[Mr],s=ni(e);o!==s&&go(t,n,i,o,r);for(let d=Rt;d<e.length;d++){let p=e[d];bc(p[de],p,n,t,i,o)}}function $E(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:xi.DashCase;r==null?n.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=xi.Important),n.setStyle(e,i,r,o))}}function Wl(n,t,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&i.push(ni(o)),wi(o)&&HE(o,i);let s=e.type;if(s&8)Wl(n,t,e.child,i);else if(s&32){let d=Pm(e,t),p;for(;p=d();)i.push(p)}else if(s&16){let d=By(t,e);if(Array.isArray(d))i.push(...d);else{let p=Or(t[un]);Wl(p[de],p,d,i,!0)}}e=r?e.projectionNext:e.next}return i}function HE(n,t){for(let e=Rt;e<n.length;e++){let i=n[e],r=i[de].firstChild;r!==null&&Wl(i[de],i,r,t)}n[Mr]!==n[si]&&t.push(n[Mr])}function jy(n){if(n[vo]!==null){for(let t of n[vo])t.impl.addSequence(t);n[vo].length=0}}var $y=[];function zE(n){return n[Sn]??qE(n)}function qE(n){let t=$y.pop()??Object.create(WE);return t.lView=n,t}function GE(n){n.lView[Sn]!==n&&(n.lView=null,$y.push(n))}var WE=Z(O({},io),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Mo(n.lView)},consumerOnSignalRead(){this.lView[Sn]=this}});function YE(n){let t=n[Sn]??Object.create(ZE);return t.lView=n,t}var ZE=Z(O({},io),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Or(n.lView);for(;t&&!Hy(t[de]);)t=Or(t);t&&x_(t)},consumerOnSignalRead(){this.lView[Sn]=this}});function Hy(n){return n.type!==2}function zy(n){if(n[kr]===null)return;let t=!0;for(;t;){let e=!1;for(let i of n[kr])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=e&&!!(n[ae]&8192)}}var QE=100;function qy(n,t=!0,e=0){let r=n[_i].rendererFactory,o=!1;o||r.begin?.();try{KE(n,e)}catch(s){throw t&&Ny(n,s),s}finally{o||r.end?.()}}function KE(n,t){let e=P_();try{Bl(!0),df(n,t);let i=0;for(;dc(n);){if(i===QE)throw new A(103,!1);i++,df(n,1)}}finally{Bl(e)}}function JE(n,t,e,i){if(Os(t))return;let r=t[ae],o=!1,s=!1;nm(t);let d=!0,p=null,m=null;o||(Hy(n)?(m=zE(t),p=ps(m)):g0()===null?(d=!1,m=YE(t),p=ps(m)):t[Sn]&&(fs(t[Sn]),t[Sn]=null));try{C_(t),DT(n.bindingStartIndex),e!==null&&Ry(n,t,e,2,i);let v=(r&3)===3;if(!o)if(v){let C=n.preOrderCheckHooks;C!==null&&El(t,C,null)}else{let C=n.preOrderHooks;C!==null&&Il(t,C,0,null),_p(t,0)}if(s||XE(t),zy(t),Gy(t,0),n.contentQueries!==null&&py(n,t),!o)if(v){let C=n.contentCheckHooks;C!==null&&El(t,C)}else{let C=n.contentHooks;C!==null&&Il(t,C,1),_p(t,1)}t2(n,t);let _=n.components;_!==null&&Yy(t,_,0);let S=n.viewQuery;if(S!==null&&Jp(2,S,i),!o)if(v){let C=n.viewCheckHooks;C!==null&&El(t,C)}else{let C=n.viewHooks;C!==null&&Il(t,C,2),_p(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[vp]){for(let C of t[vp])C();t[vp]=null}o||(jy(t),t[ae]&=-73)}catch(v){throw o||Mo(t),v}finally{m!==null&&(ja(m,p),d&&GE(m)),im()}}function Gy(n,t){for(let e=ry(n);e!==null;e=oy(e))for(let i=Rt;i<e.length;i++){let r=e[i];Wy(r,t)}}function XE(n){for(let t=ry(n);t!==null;t=oy(t)){if(!(t[ae]&2))continue;let e=t[xo];for(let i=0;i<e.length;i++){let r=e[i];x_(r)}}}function e2(n,t,e){Re(18);let i=ii(t,n);Wy(i,e),Re(19,i[_t])}function Wy(n,t){Qf(n)&&df(n,t)}function df(n,t){let i=n[de],r=n[ae],o=n[Sn],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&$a(o)),s||=!1,o&&(o.dirty=!1),n[ae]&=-9217,s)JE(i,n,i.template,n[_t]);else if(r&8192){zy(n),Gy(n,1);let d=i.components;d!==null&&Yy(n,d,1),jy(n)}}function Yy(n,t,e){for(let i=0;i<t.length;i++)e2(n,t[i],e)}function t2(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)Ar(~r);else{let o=r,s=e[++i],d=e[++i];MT(s,o);let p=t[o];Re(24,p),d(2,p),Re(25,p)}}}finally{Ar(-1)}}function Om(n,t){let e=P_()?64:1088;for(n[_i].changeDetectionScheduler?.notify(t);n;){n[ae]|=e;let i=Or(n);if(Ll(n)&&!i)return n;n=i}return null}function Zy(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function Qy(n,t){let e=Rt+t;if(e<n.length)return n[e]}function Bs(n,t,e,i=!0){let r=t[de];if(n2(r,t,n,e),i){let s=cf(e,n),d=t[Qe],p=d.parentNode(n[Mr]);p!==null&&AE(r,n[rn],d,t,p,s)}let o=t[Co];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ky(n,t){let e=Es(n,t);return e!==void 0&&_c(e[de],e),e}function Es(n,t){if(n.length<=Rt)return;let e=Rt+t,i=n[e];if(i){let r=i[Dr];r!==null&&r!==n&&km(r,i),t>0&&(n[e-1][Un]=i[Un]);let o=Rl(n,Rt+t);OE(i[de],i);let s=o[yi];s!==null&&s.detachView(o[de]),i[Nt]=null,i[Un]=null,i[ae]&=-129}return i}function n2(n,t,e,i){let r=Rt+i,o=e.length;i>0&&(e[r-1][Un]=t),i<o-Rt?(t[Un]=e[r],s_(e,Rt+i,t)):(e.push(t),t[Un]=null),t[Nt]=e;let s=t[Dr];s!==null&&e!==s&&Jy(s,t);let d=t[yi];d!==null&&d.insertView(n),Lp(t),t[ae]|=128}function Jy(n,t){let e=n[xo],i=t[Nt];if(Gi(i))n[ae]|=2;else{let r=i[Nt][un];t[un]!==r&&(n[ae]|=2)}e===null?n[xo]=[t]:e.push(t)}var Is=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[de];return Wl(e,t,e.firstChild,[])}constructor(t,e,i=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=i}get context(){return this._lView[_t]}set context(t){this._lView[_t]=t}get destroyed(){return Os(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Nt];if(wi(t)){let e=t[Vl],i=e?e.indexOf(this):-1;i>-1&&(Es(t,i),Rl(e,i))}this._attachedToViewContainer=!1}_c(this._lView[de],this._lView)}onDestroy(t){w_(this._lView,t)}markForCheck(){Om(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ae]&=-129}reattach(){Lp(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,qy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ll(this._lView),e=this._lView[Dr];e!==null&&!t&&km(e,this._lView),Fy(this._lView[de],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=t;let e=Ll(this._lView),i=this._lView[Dr];i!==null&&!e&&Jy(i,this._lView),Lp(this._lView)}};var Fr=(()=>{class n{static __NG_ELEMENT_ID__=o2}return n})(),i2=Fr,r2=class extends i2{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){let r=Ls(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:i});return new Is(r)}};function o2(){return Am(Vt(),ie())}function Am(n,t){return n.type&4?new r2(t,n,Ao(n,t)):null}function Us(n,t,e,i,r){let o=n.data[t];if(o===null)o=s2(n,t,e,i,r),kT()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let s=PT();o.injectorIndex=s===null?-1:s.injectorIndex}return Lr(o,!0),o}function s2(n,t,e,i,r){let o=I_(),s=Jf(),d=s?o:o&&o.parent,p=n.data[t]=l2(n,d,e,t,i,r);return a2(n,p,o,s),p}function a2(n,t,e,i){n.firstChild===null&&(n.firstChild=t),e!==null&&(i?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function l2(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,d=0;return E_()&&(d|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:d,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var lG=new RegExp(`^(\\d+)*(${vS}|${gS})*(.*)`);var c2=()=>null;function So(n,t){return c2(n,t)}var d2=class{},Xy=class{},uf=class{resolveComponentFactory(t){throw Error(`No component factory found for ${tn(t)}.`)}},Fo=class{static NULL=new uf},Yi=class{},In=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>u2()}return n})();function u2(){let n=ie(),t=Vt(),e=ii(t.index,n);return(Gi(e)?e:n)[Qe]}var p2=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>null})}return n})();function pf(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let d=t[s];if(typeof d=="number")o=d;else if(o==1)r=kp(r,d);else if(o==2){let p=d,m=t[++s];i=kp(i,p+": "+m+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function R(n,t=he.Default){let e=ie();if(e===null)return L(n,t);let i=Vt();return q_(i,e,Ht(n),t)}function e1(){let n="invalid";throw new Error(n)}function Rm(n,t,e,i,r){let o=i===null?null:{"":-1},s=r(n,e);if(s!==null){let d,p=null,m=null,v=m2(s);v===null?d=s:[d,p,m]=v,v2(n,t,e,d,o,p,m)}o!==null&&i!==null&&f2(e,i,o)}function f2(n,t,e){let i=n.localNames=[];for(let r=0;r<t.length;r+=2){let o=e[t[r+1]];if(o==null)throw new A(-301,!1);i.push(t[r],o)}}function m2(n){let t=null,e=!1;for(let s=0;s<n.length;s++){let d=n[s];if(s===0&&jn(d)&&(t=d),d.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let i=null,r=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,h2(s,i,o,r)),s===t&&(i??=[],i.push(s));return i!==null?(i.push(...t===null?n:n.slice(1)),[i,r,o]):null}function h2(n,t,e,i){let r=t.length;n.findHostDirectiveDefs(n,t,i),e.set(n,[r,t.length-1])}function g2(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function v2(n,t,e,i,r,o,s){let d=i.length,p=!1;for(let S=0;S<d;S++){let C=i[S];!p&&jn(C)&&(p=!0,g2(n,e,S)),Hp(Hl(e,t),n,C.type)}w2(e,n.data.length,d);for(let S=0;S<d;S++){let C=i[S];C.providersResolver&&C.providersResolver(C)}let m=!1,v=!1,_=Oy(n,t,d,null);d>0&&(e.directiveToIndex=new Map);for(let S=0;S<d;S++){let C=i[S];if(e.mergedAttrs=wo(e.mergedAttrs,C.hostAttrs),y2(n,e,t,_,C),x2(_,C,r),s!==null&&s.has(C)){let[D,F]=s.get(C);e.directiveToIndex.set(C.type,[_,D+e.directiveStart,F+e.directiveStart])}else(o===null||!o.has(C))&&e.directiveToIndex.set(C.type,_);C.contentQueries!==null&&(e.flags|=4),(C.hostBindings!==null||C.hostAttrs!==null||C.hostVars!==0)&&(e.flags|=64);let I=C.type.prototype;!m&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),m=!0),!v&&(I.ngOnChanges||I.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),v=!0),_++}_2(n,e,o)}function _2(n,t,e){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=n.data[i];if(e===null||!e.has(r))Mv(0,t,r,i),Mv(1,t,r,i),Av(t,i,!1);else{let o=e.get(r);Ov(0,t,o,i),Ov(1,t,o,i),Av(t,i,!0)}}}function Mv(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(i),t1(t,o)}}function Ov(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],d;n===0?d=t.hostDirectiveInputs??={}:d=t.hostDirectiveOutputs??={},d[s]??=[],d[s].push(i,o),t1(t,s)}}function t1(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function Av(n,t,e){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!e&&r===null||e&&o===null||bm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,d=0;for(;d<i.length;){let p=i[d];if(p===0){d+=4;continue}else if(p===5){d+=2;continue}else if(typeof p=="number")break;if(!e&&r.hasOwnProperty(p)){let m=r[p];for(let v of m)if(v===t){s??=[],s.push(p,i[d+1]);break}}else if(e&&o.hasOwnProperty(p)){let m=o[p];for(let v=0;v<m.length;v+=2)if(m[v]===t){s??=[],s.push(m[v+1],i[d+1]);break}}d+=2}n.initialInputs??=[],n.initialInputs.push(s)}function y2(n,t,e,i,r){n.data[i]=r;let o=r.factory||(r.factory=Er(r.type,!0)),s=new Rr(o,jn(r),R);n.blueprint[i]=s,e[i]=s,b2(n,t,i,Oy(n,e,r.hostVars,wt),r)}function b2(n,t,e,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let d=~t.index;C2(s)!=d&&s.push(d),s.push(e,i,o)}}function C2(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function x2(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;jn(t)&&(e[""]=n)}}function w2(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function n1(n,t,e,i,r,o,s,d){let p=t.consts,m=Wi(p,s),v=Us(t,n,2,i,m);return o&&Rm(t,e,v,Wi(p,d),r),v.mergedAttrs=wo(v.mergedAttrs,v.attrs),v.attrs!==null&&pf(v,v.attrs,!1),v.mergedAttrs!==null&&pf(v,v.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,v),v}function i1(n,t){rm(n,t),Wf(t)&&n.queries.elementEnd(t)}var Yl=class extends Fo{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Pr(t);return new Eo(e,this.ngModule)}};function T2(n){return Object.keys(n).map(t=>{let[e,i,r]=n[t],o={propName:e,templateName:t,isSignal:(i&hc.SignalBased)!==0};return r&&(o.transform=r),o})}function S2(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function E2(n,t,e){let i=t instanceof zt?t:t?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new jp(e,i):e}function I2(n){let t=n.get(Yi,null);if(t===null)throw new A(407,!1);let e=n.get(p2,null),i=n.get(Nr,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:i}}function P2(n,t){let e=(n.selectors[0][0]||"div").toLowerCase();return Py(t,e,e==="svg"?hT:e==="math"?gT:null)}var Eo=class extends Xy{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=T2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=S2(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=oE(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,i,r){Re(22);let o=_e(null);try{let s=this.componentDef,d=i?["ng-version","19.2.2"]:sE(this.componentDef.selectors[0]),p=Cm(0,null,null,1,0,null,null,null,null,[d],null),m=E2(s,r||this.ngModule,t),v=I2(m),_=v.rendererFactory.createRenderer(null,s),S=i?gE(_,i,s.encapsulation,m):P2(s,_),C=xm(null,p,null,512|My(s),null,null,v,_,m,null,uy(S,m,!0));C[yt]=S,nm(C);let I=null;try{let D=n1(yt,p,C,"#host",()=>[this.componentDef],!0,0);S&&(ky(_,S,D),Ro(S,C)),gc(p,C,D),vm(p,D,C),i1(p,D),e!==void 0&&D2(D,this.ngContentSelectors,e),I=ii(D.index,C),C[_t]=I[_t],Im(p,C,null)}catch(D){throw I!==null&&Zp(I),Zp(C),D}finally{Re(23),im()}return new ff(this.componentType,C)}finally{_e(o)}}},ff=class extends d2{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e){super(),this._rootLView=e,this._tNode=Yf(e[de],yt),this.location=Ao(this._tNode,e),this.instance=ii(this._tNode.index,e)[_t],this.hostView=this.changeDetectorRef=new Is(e,void 0,!1),this.componentType=t}setInput(t,e){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let r=this._rootLView,o=Em(i,r[de],r,t,e);this.previousInputValues.set(t,e);let s=ii(i.index,r);Om(s,1)}get injector(){return new Sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function D2(n,t,e){let i=n.projection=[];for(let r=0;r<t.length;r++){let o=e[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Ji=(()=>{class n{static __NG_ELEMENT_ID__=k2}return n})();function k2(){let n=Vt();return o1(n,ie())}var M2=Ji,r1=class extends M2{_lContainer;_hostTNode;_hostLView;constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Ao(this._hostTNode,this._hostLView)}get injector(){return new Sr(this._hostTNode,this._hostLView)}get parentInjector(){let t=om(this._hostTNode,this._hostLView);if(B_(t)){let e=jl(t,this._hostLView),i=Ul(t),r=e[de].data[i+8];return new Sr(r,e)}else return new Sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=Rv(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(t,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=So(this._lContainer,t.ssrId),d=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(d,r,To(this._hostTNode,s)),d}createComponent(t,e,i,r,o){let s=t&&!uT(t),d;if(s)d=e;else{let I=e||{};d=I.index,i=I.injector,r=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}let p=s?t:new Eo(Pr(t)),m=i||this.parentInjector;if(!o&&p.ngModule==null){let D=(s?m:this.parentInjector).get(zt,null);D&&(o=D)}let v=Pr(p.componentType??{}),_=So(this._lContainer,v?.id??null),S=_?.firstChild??null,C=p.create(m,r,S,o);return this.insertImpl(C.hostView,d,To(this._hostTNode,_)),C}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let r=t._lView;if(yT(r)){let d=this.indexOf(t);if(d!==-1)this.detach(d);else{let p=r[Nt],m=new r1(p,p[rn],p[Nt]);m.detach(m.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return Bs(s,r,o,i),t.attachToViewContainerRef(),s_(xp(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=Rv(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=Es(this._lContainer,e);i&&(Rl(xp(this._lContainer),e),_c(i[de],i))}detach(t){let e=this._adjustIndex(t,-1),i=Es(this._lContainer,e);return i&&Rl(xp(this._lContainer),e)!=null?new Is(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function Rv(n){return n[Vl]}function xp(n){return n[Vl]||(n[Vl]=[])}function o1(n,t){let e,i=t[n.index];return wi(i)?e=i:(e=Zy(i,t,null,n),t[n.index]=e,wm(t,e)),A2(e,t,n,i),new r1(e,n,t)}function O2(n,t){let e=n[Qe],i=e.createComment(""),r=ai(t,n),o=e.parentNode(r);return Gl(e,o,i,e.nextSibling(r),!1),i}var A2=F2,R2=()=>!1;function N2(n,t,e){return R2(n,t,e)}function F2(n,t,e,i){if(n[Mr])return;let r;e.type&8?r=ni(i):r=O2(t,e),n[Mr]=r}var mf=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},hf=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let s=e.getByIndex(o),d=this.queries[s.indexInDeclarationView];r.push(d.clone())}return new n(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)Nm(t,e).matches!==null&&this.queries[e].setDirty()}},Zl=class{flags;read;predicate;constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=z2(t):this.predicate=t}},gf=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},vf=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,e,V2(e,o)),this.matchTNodeWithReadOption(t,e,Pl(e,t,o,!1,!1))}else i===Fr?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Pl(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===st||r===Ji||r===Fr&&e.type&4)this.addMatch(e.index,-2);else{let o=Pl(e,t,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function V2(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function L2(n,t){return n.type&11?Ao(n,t):n.type&4?Am(n,t):null}function B2(n,t,e,i){return e===-1?L2(t,n):e===-2?U2(n,t,i):Ts(n,n[de],e,t)}function U2(n,t,e){if(e===st)return Ao(t,n);if(e===Fr)return Am(t,n);if(e===Ji)return o1(t,n)}function s1(n,t,e,i){let r=t[yi].queries[i];if(r.matches===null){let o=n.data,s=e.matches,d=[];for(let p=0;s!==null&&p<s.length;p+=2){let m=s[p];if(m<0)d.push(null);else{let v=o[m];d.push(B2(t,v,s[p+1],e.metadata.read))}}r.matches=d}return r.matches}function _f(n,t,e,i){let r=n.queries.getByIndex(e),o=r.matches;if(o!==null){let s=s1(n,t,r,e);for(let d=0;d<o.length;d+=2){let p=o[d];if(p>0)i.push(s[d/2]);else{let m=o[d+1],v=t[-p];for(let _=Rt;_<v.length;_++){let S=v[_];S[Dr]===S[Nt]&&_f(S[de],S,m,i)}if(v[xo]!==null){let _=v[xo];for(let S=0;S<_.length;S++){let C=_[S];_f(C[de],C,m,i)}}}}}return i}function j2(n,t){return n[yi].queries[t].queryList}function a1(n,t,e){let i=new Yp((e&4)===4);return xT(n,t,i,i.destroy),(t[yi]??=new hf).queries.push(new mf(i))-1}function $2(n,t,e){let i=Ke();return i.firstCreatePass&&(l1(i,new Zl(n,t,e),-1),(t&2)===2&&(i.staticViewQueries=!0)),a1(i,ie(),t)}function H2(n,t,e,i){let r=Ke();if(r.firstCreatePass){let o=Vt();l1(r,new Zl(t,e,i),o.index),q2(r,n),(e&2)===2&&(r.staticContentQueries=!0)}return a1(r,ie(),e)}function z2(n){return n.split(",").map(t=>t.trim())}function l1(n,t,e){n.queries===null&&(n.queries=new gf),n.queries.track(new vf(t,e))}function q2(n,t){let e=n.contentQueries||(n.contentQueries=[]),i=e.length?e[e.length-1]:-1;t!==i&&e.push(n.queries.length-1,t)}function Nm(n,t){return n.queries.getByIndex(t)}function G2(n,t){let e=n[de],i=Nm(e,t);return i.crossesNgTemplate?_f(e,n,t,[]):s1(e,n,i,t)}var Io=class{},Fm=class{};var yf=class extends Io{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Yl(this);constructor(t,e,i,r=!0){super(),this.ngModuleType=t,this._parent=e;let o=c_(t);this._bootstrapComponents=Sy(o.bootstrap),this._r3Injector=Y_(t,e,[{provide:Io,useValue:this},{provide:Fo,useValue:this.componentFactoryResolver},...i],tn(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},bf=class extends Fm{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new yf(this.moduleType,t,[])}};var Ql=class extends Io{injector;componentFactoryResolver=new Yl(this);instance=null;constructor(t){super();let e=new Cs([...t.providers,{provide:Io,useValue:this},{provide:Fo,useValue:this.componentFactoryResolver}],t.parent||zf(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Cc(n,t,e=null){return new Ql({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var W2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=d_(!1,e.type),r=i.length>0?Cc([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=N({token:n,providedIn:"environment",factory:()=>new n(L(zt))})}return n})();function z(n){return ks(()=>{let t=c1(n),e=Z(O({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ny.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(W2).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ri.Emulated,styles:n.styles||en,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Qi("NgStandalone"),d1(e);let i=n.dependencies;return e.directiveDefs=Nv(i,!1),e.pipeDefs=Nv(i,!0),e.id=J2(e),e})}function Y2(n){return Pr(n)||eT(n)}function Z2(n){return n!==null}function Lt(n){return ks(()=>({type:n.type,bootstrap:n.bootstrap||en,declarations:n.declarations||en,imports:n.imports||en,exports:n.exports||en,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Q2(n,t){if(n==null)return Ir;let e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,d,p;Array.isArray(r)?(d=r[0],o=r[1],s=r[2]??o,p=r[3]||null):(o=r,s=r,d=hc.None,p=null),e[o]=[i,d,p],t[o]=s}return e}function K2(n){if(n==null)return Ir;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function Te(n){return ks(()=>{let t=c1(n);return d1(t),t})}function Xi(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function c1(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||Ir,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||en,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Q2(n.inputs,t),outputs:K2(n.outputs),debugInfo:null}}function d1(n){n.features?.forEach(t=>t(n))}function Nv(n,t){if(!n)return null;let e=t?tT:Y2;return()=>(typeof n=="function"?n():n).map(i=>e(i)).filter(Z2)}function J2(n){let t=0,e=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function X2(n){return Object.getPrototypeOf(n.prototype).constructor}function bt(n){let t=X2(n.type),e=!0,i=[n];for(;t;){let r;if(jn(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new A(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);let s=n;s.inputs=wp(n.inputs),s.declaredInputs=wp(n.declaredInputs),s.outputs=wp(n.outputs);let d=r.hostBindings;d&&rI(n,d);let p=r.viewQuery,m=r.contentQueries;if(p&&nI(n,p),m&&iI(n,m),eI(n,r),Mw(n.outputs,r.outputs),jn(r)&&r.data.animation){let v=n.data;v.animation=(v.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let d=o[s];d&&d.ngInherit&&d(n),d===bt&&(e=!1)}}t=Object.getPrototypeOf(t)}tI(i)}function eI(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e])}}function tI(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=wo(r.hostAttrs,e=wo(e,r.hostAttrs))}}function wp(n){return n===Ir?{}:n===en?[]:n}function nI(n,t){let e=n.viewQuery;e?n.viewQuery=(i,r)=>{t(i,r),e(i,r)}:n.viewQuery=t}function iI(n,t){let e=n.contentQueries;e?n.contentQueries=(i,r,o)=>{t(i,r,o),e(i,r,o)}:n.contentQueries=t}function rI(n,t){let e=n.hostBindings;e?n.hostBindings=(i,r)=>{t(i,r),e(i,r)}:n.hostBindings=t}function u1(n){return sI(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function oI(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),i;for(;!(i=e.next()).done;)t(i.value)}}function sI(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function xc(n,t,e){return n[t]=e}function aI(n,t){return n[t]}function pn(n,t,e){let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function Ps(n,t,e,i){let r=pn(n,t,e);return pn(n,t+1,i)||r}function p1(n,t,e,i,r){let o=Ps(n,t,e,i);return pn(n,t+2,r)||o}function lI(n,t,e,i,r,o){let s=Ps(n,t,e,i);return Ps(n,t+2,r,o)||s}function cI(n,t,e,i,r,o,s,d,p){let m=t.consts,v=Us(t,n,4,s||null,d||null);Kf()&&Rm(t,e,v,Wi(m,p),Sm),v.mergedAttrs=wo(v.mergedAttrs,v.attrs),rm(t,v);let _=v.tView=Cm(2,v,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m,null);return t.queries!==null&&(t.queries.template(t,v),_.queries=t.queries.embeddedTView(v)),v}function Kl(n,t,e,i,r,o,s,d,p,m){let v=e+yt,_=t.firstCreatePass?cI(v,t,n,i,r,o,s,d,p):t.data[v];Lr(_,!1);let S=dI(t,n,_,e);uc()&&yc(t,n,S,_),Ro(S,n);let C=Zy(S,n,S,_);return n[v]=C,wm(n,C),N2(C,_,n),cc(_)&&gc(t,n,_),p!=null&&Tm(n,_,m),_}function y(n,t,e,i,r,o,s,d){let p=ie(),m=Ke(),v=Wi(m.consts,o);return Kl(p,m,n,t,e,i,r,v,s,d),y}var dI=uI;function uI(n,t,e,i){return pc(!0),t[Qe].createComment("")}var Vm=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var f1=new $("");var m1=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>new Cf})}return n})(),Cf=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let e=t.zone,i=this.queues.get(e);i.has(t)&&(i.delete(t),this.queuedEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(t)||(this.queuedEffectCount++,i.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}};function Ur(n){return!!n&&typeof n.then=="function"}function h1(n){return!!n&&typeof n.subscribe=="function"}var wc=new $("");var g1=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=E(wc,{optional:!0})??[];injector=E(dt);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=nn(this.injector,r);if(Ur(o))e.push(o);else if(h1(o)){let s=new Promise((d,p)=>{o.subscribe({complete:d,error:p})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),js=new $("");function pI(){E0(()=>{throw new A(600,!1)})}function fI(n){return n.isBoundToModule}var mI=10;var fn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(oS);afterRenderManager=E(dy);zonelessEnabled=E(am);rootEffectScheduler=E(m1);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new be;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=E(Zi).hasPendingTasks.pipe(W(e=>!e));constructor(){E(No,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=E(zt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){Re(10);let r=e instanceof Xy;if(!this._injector.get(g1).done){let S="";throw new A(405,S)}let s;r?s=e:s=this._injector.get(Fo).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let d=fI(s)?void 0:this._injector.get(Io),p=i||s.selector,m=s.create(dt.NULL,[],p,d),v=m.location.nativeElement,_=m.injector.get(f1,null);return _?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),Dl(this.components,m),_?.unregisterApplication(v)}),this._loadComponent(m),Re(11,m),m}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Re(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(mm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new A(101,!1);let e=_e(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,_e(e),this.afterTick.next(),Re(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Yi,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<mI;)Re(14),this.synchronizeOnce(),Re(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)hI(i,r,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>dc(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;Dl(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(js,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Dl(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new A(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dl(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function hI(n,t,e,i){if(!e&&!dc(n))return;qy(n,t,e&&!i?0:1)}function Pt(n,t,e,i){let r=ie(),o=Br();if(pn(r,o,t)){let s=Ke(),d=Ns();TE(d,r,n,t,e,i)}return Pt}function Lm(n,t,e,i){return pn(n,Br(),e)?t+Xt(e)+i:wt}function gI(n,t,e,i,r,o){let s=em(),d=Ps(n,s,e,r);return Rs(2),d?t+Xt(e)+i+Xt(r)+o:wt}function vI(n,t,e,i,r,o,s,d){let p=em(),m=p1(n,p,e,r,s);return Rs(3),m?t+Xt(e)+i+Xt(r)+o+Xt(s)+d:wt}function _I(n,t,e,i,r,o,s,d,p,m){let v=em(),_=lI(n,v,e,r,s,p);return Rs(4),_?t+Xt(e)+i+Xt(r)+o+Xt(s)+d+Xt(p)+m:wt}function Tl(n,t){return n<<17|t<<2}function Vr(n){return n>>17&32767}function yI(n){return(n&2)==2}function bI(n,t){return n&131071|t<<17}function xf(n){return n|2}function Po(n){return(n&131068)>>2}function Tp(n,t){return n&-131069|t<<2}function CI(n){return(n&1)===1}function wf(n){return n|1}function xI(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,d=Vr(s),p=Po(s);n[i]=e;let m=!1,v;if(Array.isArray(e)){let _=e;v=_[1],(v===null||Ms(_,v)>0)&&(m=!0)}else v=e;if(r)if(p!==0){let S=Vr(n[d+1]);n[i+1]=Tl(S,d),S!==0&&(n[S+1]=Tp(n[S+1],i)),n[d+1]=bI(n[d+1],i)}else n[i+1]=Tl(d,0),d!==0&&(n[d+1]=Tp(n[d+1],i)),d=i;else n[i+1]=Tl(p,0),d===0?d=i:n[p+1]=Tp(n[p+1],i),p=i;m&&(n[i+1]=xf(n[i+1])),Fv(n,v,i,!0),Fv(n,v,i,!1),wI(t,v,n,i,o),s=Tl(d,p),o?t.classBindings=s:t.styleBindings=s}function wI(n,t,e,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Ms(o,t)>=0&&(e[i+1]=wf(e[i+1]))}function Fv(n,t,e,i){let r=n[e+1],o=t===null,s=i?Vr(r):Po(r),d=!1;for(;s!==0&&(d===!1||o);){let p=n[s],m=n[s+1];TI(p,t)&&(d=!0,n[s+1]=i?wf(m):xf(m)),s=i?Vr(m):Po(m)}d&&(n[e+1]=i?xf(r):wf(r))}function TI(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Ms(n,t)>=0:!1}var Bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function SI(n){return n.substring(Bn.key,Bn.keyEnd)}function EI(n){return II(n),v1(n,_1(n,0,Bn.textEnd))}function v1(n,t){let e=Bn.textEnd;return e===t?-1:(t=Bn.keyEnd=PI(n,Bn.key=t,e),_1(n,t,e))}function II(n){Bn.key=0,Bn.keyEnd=0,Bn.value=0,Bn.valueEnd=0,Bn.textEnd=n.length}function _1(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function PI(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function f(n,t,e){let i=ie(),r=Br();if(pn(i,r,t)){let o=Ke(),s=Ns();vc(o,s,i,n,t,i[Qe],e,!1)}return f}function Tf(n,t,e,i,r){Em(t,n,e,r?"class":"style",i)}function oe(n,t,e){return b1(n,t,e,!1),oe}function M(n,t){return b1(n,t,null,!0),M}function De(n){C1(RI,y1,n,!0)}function y1(n,t){for(let e=EI(t);e>=0;e=v1(t,e))sc(n,SI(t),!0)}function b1(n,t,e,i){let r=ie(),o=Ke(),s=Rs(2);if(o.firstUpdatePass&&w1(o,n,s,i),t!==wt&&pn(r,s,t)){let d=o.data[$n()];T1(o,d,r,r[Qe],n,r[s+1]=FI(t,e),i,s)}}function C1(n,t,e,i){let r=Ke(),o=Rs(2);r.firstUpdatePass&&w1(r,null,o,i);let s=ie();if(e!==wt&&pn(s,o,e)){let d=r.data[$n()];if(S1(d,i)&&!x1(r,o)){let p=i?d.classesWithoutHost:d.stylesWithoutHost;p!==null&&(e=kp(p,e||"")),Tf(r,d,s,e,i)}else NI(r,d,s,s[Qe],s[o+1],s[o+1]=AI(n,t,e),i,o)}}function x1(n,t){return t>=n.expandoStartIndex}function w1(n,t,e,i){let r=n.data;if(r[e+1]===null){let o=r[$n()],s=x1(n,e);S1(o,i)&&t===null&&!s&&(t=!1),t=DI(r,o,t,i),xI(r,o,t,e,s,i)}}function DI(n,t,e,i){let r=D_(n),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(e=Sp(null,n,t,e,i),e=Ds(e,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==r)if(e=Sp(r,n,t,e,i),o===null){let p=kI(n,t,i);p!==void 0&&Array.isArray(p)&&(p=Sp(null,n,t,p[1],i),p=Ds(p,t.attrs,i),MI(n,t,i,p))}else o=OI(n,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),e}function kI(n,t,e){let i=e?t.classBindings:t.styleBindings;if(Po(i)!==0)return n[Vr(i)]}function MI(n,t,e,i){let r=e?t.classBindings:t.styleBindings;n[Vr(r)]=i}function OI(n,t,e){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Ds(i,s,e)}return Ds(i,t.attrs,e)}function Sp(n,t,e,i,r){let o=null,s=e.directiveEnd,d=e.directiveStylingLast;for(d===-1?d=e.directiveStart:d++;d<s&&(o=t[d],i=Ds(i,o.hostAttrs,r),o!==n);)d++;return n!==null&&(e.directiveStylingLast=d),i}function Ds(n,t,e){let i=e?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),sc(n,s,e?!0:t[++o]))}return n===void 0?null:n}function AI(n,t,e){if(e==null||e==="")return en;let i=[],r=En(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function RI(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&sc(n,i,e)}function NI(n,t,e,i,r,o,s,d){r===wt&&(r=en);let p=0,m=0,v=0<r.length?r[0]:null,_=0<o.length?o[0]:null;for(;v!==null||_!==null;){let S=p<r.length?r[p+1]:void 0,C=m<o.length?o[m+1]:void 0,I=null,D;v===_?(p+=2,m+=2,S!==C&&(I=_,D=C)):_===null||v!==null&&v<_?(p+=2,I=v):(m+=2,I=_,D=C),I!==null&&T1(n,t,e,i,I,D,s,d),v=p<r.length?r[p]:null,_=m<o.length?o[m]:null}}function T1(n,t,e,i,r,o,s,d){if(!(t.type&3))return;let p=n.data,m=p[d+1],v=CI(m)?Vv(p,t,e,r,Po(m),s):void 0;if(!Jl(v)){Jl(o)||yI(m)&&(o=Vv(p,null,e,r,d,s));let _=b_($n(),e);$E(i,s,_,r,o)}}function Vv(n,t,e,i,r,o){let s=t===null,d;for(;r>0;){let p=n[r],m=Array.isArray(p),v=m?p[1]:p,_=v===null,S=e[r+1];S===wt&&(S=_?en:void 0);let C=_?hp(S,i):v===i?S:void 0;if(m&&!Jl(C)&&(C=hp(p,i)),Jl(C)&&(d=C,s))return d;let I=n[r+1];r=s?Vr(I):Po(I)}if(t!==null){let p=o?t.residualClasses:t.residualStyles;p!=null&&(d=hp(p,i))}return d}function Jl(n){return n!==void 0}function FI(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=tn(En(n)))),n}function S1(n,t){return(n.flags&(t?8:16))!==0}function E1(n,t,e){let i=ie(),r=Lm(i,n,t,e);C1(sc,y1,r,!0)}var Sf=class{destroy(t){}updateValue(t,e){}swap(t,e){let i=Math.min(t,e),r=Math.max(t,e),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(t,e){this.attach(e,this.detach(t))}};function Ep(n,t,e,i,r){return n===e&&Object.is(t,i)?1:Object.is(r(n,t),r(e,i))?-1:0}function VI(n,t,e){let i,r,o=0,s=n.length-1,d=void 0;if(Array.isArray(t)){let p=t.length-1;for(;o<=s&&o<=p;){let m=n.at(o),v=t[o],_=Ep(o,m,o,v,e);if(_!==0){_<0&&n.updateValue(o,v),o++;continue}let S=n.at(s),C=t[p],I=Ep(s,S,p,C,e);if(I!==0){I<0&&n.updateValue(s,C),s--,p--;continue}let D=e(o,m),F=e(s,S),B=e(o,v);if(Object.is(B,F)){let j=e(p,C);Object.is(j,D)?(n.swap(o,s),n.updateValue(s,C),p--,s--):n.move(s,o),n.updateValue(o,v),o++;continue}if(i??=new Xl,r??=Bv(n,o,s,e),Ef(n,i,o,B))n.updateValue(o,v),o++,s++;else if(r.has(B))i.set(D,n.detach(o)),s--;else{let j=n.create(o,t[o]);n.attach(o,j),o++,s++}}for(;o<=p;)Lv(n,i,e,o,t[o]),o++}else if(t!=null){let p=t[Symbol.iterator](),m=p.next();for(;!m.done&&o<=s;){let v=n.at(o),_=m.value,S=Ep(o,v,o,_,e);if(S!==0)S<0&&n.updateValue(o,_),o++,m=p.next();else{i??=new Xl,r??=Bv(n,o,s,e);let C=e(o,_);if(Ef(n,i,o,C))n.updateValue(o,_),o++,s++,m=p.next();else if(!r.has(C))n.attach(o,n.create(o,_)),o++,s++,m=p.next();else{let I=e(o,v);i.set(I,n.detach(o)),s--}}}for(;!m.done;)Lv(n,i,e,n.length,m.value),m=p.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(p=>{n.destroy(p)})}function Ef(n,t,e,i){return t!==void 0&&t.has(i)?(n.attach(e,t.get(i)),t.delete(i),!0):!1}function Lv(n,t,e,i,r){if(Ef(n,t,i,e(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function Bv(n,t,e,i){let r=new Set;for(let o=t;o<=e;o++)r.add(i(o,n.at(o)));return r}var Xl=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,e)}}};function on(n,t){Qi("NgControlFlow");let e=ie(),i=Br(),r=e[i]!==wt?e[i]:-1,o=r!==-1?ec(e,yt+r):void 0,s=0;if(pn(e,i,n)){let d=_e(null);try{if(o!==void 0&&Ky(o,s),n!==-1){let p=yt+n,m=ec(e,p),v=kf(e[de],p),_=So(m,v.tView.ssrId),S=Ls(e,v,t,{dehydratedView:_});Bs(m,S,s,To(v,_))}}finally{_e(d)}}else if(o!==void 0){let d=Qy(o,s);d!==void 0&&(d[_t]=t)}}var If=class{lContainer;$implicit;$index;constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-Rt}};function I1(n){return n}var Pf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}};function $s(n,t,e,i,r,o,s,d,p,m,v,_,S){Qi("NgControlFlow");let C=ie(),I=Ke(),D=p!==void 0,F=ie(),B=d?s.bind(F[un][_t]):s,j=new Pf(D,B);F[yt+n]=j,Kl(C,I,n+1,t,e,i,r,Wi(I.consts,o)),D&&Kl(C,I,n+2,p,m,v,_,Wi(I.consts,S))}var Df=class extends Sf{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-Rt}at(t){return this.getLView(t)[_t].$implicit}attach(t,e){let i=e[Co];this.needsIndexUpdate||=t!==this.length,Bs(this.lContainer,e,t,To(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,LI(this.lContainer,t)}create(t,e){let i=So(this.lContainer,this.templateTNode.tView.ssrId),r=Ls(this.hostLView,this.templateTNode,new If(this.lContainer,e,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(t){_c(t[de],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[_t].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[_t].$index=t}getLView(t){return BI(this.lContainer,t)}};function Hs(n){let t=_e(null),e=$n();try{let i=ie(),r=i[de],o=i[e],s=e+1,d=ec(i,s);if(o.liveCollection===void 0){let m=kf(r,s);o.liveCollection=new Df(d,i,m)}else o.liveCollection.reset();let p=o.liveCollection;if(VI(p,n,o.trackByFn),p.updateIndexes(),o.hasEmptyBlock){let m=Br(),v=p.length===0;if(pn(i,m,v)){let _=e+2,S=ec(i,_);if(v){let C=kf(r,_),I=So(S,C.tView.ssrId),D=Ls(i,C,void 0,{dehydratedView:I});Bs(S,D,0,To(C,I))}else Ky(S,0)}}}finally{_e(t)}}function ec(n,t){return n[t]}function LI(n,t){return Es(n,t)}function BI(n,t){return Qy(n,t)}function kf(n,t){return Yf(n,t)}function a(n,t,e,i){let r=ie(),o=Ke(),s=yt+n,d=r[Qe],p=o.firstCreatePass?n1(s,o,r,t,Sm,Kf(),e,i):o.data[s],m=UI(o,r,p,d,t,n);r[s]=m;let v=cc(p);return Lr(p,!0),ky(d,m,p),!Dm(p)&&uc()&&yc(o,r,m,p),(wT()===0||v)&&Ro(m,r),TT(),v&&(gc(o,r,p),vm(o,p,r)),i!==null&&Tm(r,p),a}function l(){let n=Vt();Jf()?Xf():(n=n.parent,Lr(n,!1));let t=n;ET(t)&&IT(),ST();let e=Ke();return e.firstCreatePass&&i1(e,t),t.classesWithoutHost!=null&&LT(t)&&Tf(e,t,ie(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&BT(t)&&Tf(e,t,ie(),t.stylesWithoutHost,!1),l}function g(n,t,e,i){return a(n,t,e,i),l(),g}var UI=(n,t,e,i,r,o)=>(pc(!0),Py(i,r,NT()));function jI(n,t,e,i,r){let o=t.consts,s=Wi(o,i),d=Us(t,n,8,"ng-container",s);s!==null&&pf(d,s,!0);let p=Wi(o,r);return Kf()&&Rm(t,e,d,p,Sm),d.mergedAttrs=wo(d.mergedAttrs,d.attrs),t.queries!==null&&t.queries.elementStart(t,d),d}function er(n,t,e){let i=ie(),r=Ke(),o=n+yt,s=r.firstCreatePass?jI(o,r,i,t,e):r.data[o];Lr(s,!0);let d=$I(r,i,s,n);return i[o]=d,uc()&&yc(r,i,d,s),Ro(d,i),cc(s)&&(gc(r,i,s),vm(r,s,i)),e!=null&&Tm(i,s),er}function tr(){let n=Vt(),t=Ke();return Jf()?Xf():(n=n.parent,Lr(n,!1)),t.firstCreatePass&&(rm(t,n),Wf(n)&&t.queries.elementEnd(n)),tr}var $I=(n,t,e,i)=>(pc(!0),cE(t[Qe],""));function P(){return ie()}function Bm(n,t,e){let i=ie(),r=Br();if(pn(i,r,t)){let o=Ke(),s=Ns(),d=D_(o.data),p=IE(d,s,i);vc(o,s,i,n,t,p,e,!0)}return Bm}var wr=void 0;function HI(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var zI=["en",[["a","p"],["AM","PM"],wr],[["AM","PM"],wr,wr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wr,"{1} 'at' {0}",wr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",HI],Ip={};function Pn(n){let t=qI(n),e=Uv(t);if(e)return e;let i=t.split("-")[0];if(e=Uv(i),e)return e;if(i==="en")return zI;throw new A(701,!1)}function Uv(n){return n in Ip||(Ip[n]=vi.ng&&vi.ng.common&&vi.ng.common.locales&&vi.ng.common.locales[n]),Ip[n]}var at=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(at||{});function qI(n){return n.toLowerCase().replace(/_/g,"-")}var tc="en-US";var GI=tc;function WI(n){typeof n=="string"&&(GI=n.toLowerCase().replace(/_/g,"-"))}var YI=(n,t,e)=>{};function b(n,t,e,i){let r=ie(),o=Ke(),s=Vt();return P1(o,r,r[Qe],s,n,t,i),b}function ZI(n,t,e,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===e&&r[o+1]===i){let d=t[Fl],p=r[o+2];return d.length>p?d[p]:null}typeof s=="string"&&(o+=2)}return null}function P1(n,t,e,i,r,o,s){let d=cc(i),m=n.firstCreatePass?S_(n):null,v=t[_t],_=T_(t),S=!0;if(i.type&3||s){let C=ai(i,t),I=s?s(C):C,D=_.length,F=s?j=>s(ni(j[i.index])):i.index,B=null;if(!s&&d&&(B=ZI(n,t,r,i.index)),B!==null){let j=B.__ngLastListenerFn__||B;j.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,S=!1}else{o=Hv(i,t,v,o),YI(I,r,o);let j=e.listen(I,r,o);_.push(o,j),m&&m.push(r,F,D,D+1)}}else o=Hv(i,t,v,o);if(S){let C=i.outputs?.[r],I=i.hostDirectiveOutputs?.[r];if(I&&I.length)for(let D=0;D<I.length;D+=2){let F=I[D],B=I[D+1];jv(i,n,t,F,B,r,o,_,m)}if(C&&C.length)for(let D of C)jv(i,n,t,D,r,r,o,_,m)}}function jv(n,t,e,i,r,o,s,d,p){let m=e[i],_=t.data[i].outputs[r],C=m[_].subscribe(s),I=d.length;d.push(s,C),p&&p.push(o,n.index,I,-(I+1))}function $v(n,t,e,i){let r=_e(null);try{return Re(6,t,e),e(i)!==!1}catch(o){return Ny(n,o),!1}finally{Re(7,t,e),_e(r)}}function Hv(n,t,e,i){return function r(o){if(o===Function)return i;let s=ko(n)?ii(n.index,t):t;Om(s,5);let d=$v(t,e,i,o),p=r.__ngNextListenerFn__;for(;p;)d=$v(t,e,p,o)&&d,p=p.__ngNextListenerFn__;return d}}function h(n=1){return RT(n)}function QI(n,t){let e=null,i=eE(n);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){e=r;continue}if(i===null?Iy(n,o,!0):iE(i,o))return r}return e}function D1(n){let t=ie()[un][rn];if(!t.projection){let e=n?n.length:1,i=t.projection=Kw(e,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=n?QI(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function k1(n,t=0,e,i,r,o){let s=ie(),d=Ke(),p=i?n+1:null;p!==null&&Kl(s,d,p,i,r,o,null,e);let m=Us(d,yt+n,16,null,e||null);m.projection===null&&(m.projection=t),Xf();let _=!s[Co]||E_();s[un][rn].projection[m.projection]===null&&p!==null?KI(s,d,p):_&&!Dm(m)&&UE(d,s,m)}function KI(n,t,e){let i=yt+e,r=t.data[i],o=n[i],s=So(o,r.tView.ssrId),d=Ls(n,r,void 0,{dehydratedView:s});Bs(o,d,0,To(r,s))}function Um(n,t,e){return Tc(n,"",t,"",e),Um}function Tc(n,t,e,i,r){let o=ie(),s=Lm(o,t,e,i);if(s!==wt){let d=Ke(),p=Ns();vc(d,p,o,n,s,o[Qe],r,!1)}return Tc}function M1(n,t,e,i){H2(n,t,e,i)}function Sc(n,t,e){$2(n,t,e)}function Vo(n){let t=ie(),e=Ke(),i=k_();tm(i+1);let r=Nm(e,i);if(n.dirty&&_T(t)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=G2(t,i);n.reset(o,lS),n.notifyOnChanges()}return!0}return!1}function Lo(){return j2(ie(),k_())}function JI(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}function u(n,t=""){let e=ie(),i=Ke(),r=n+yt,o=i.firstCreatePass?Us(i,r,1,t,null):i.data[r],s=XI(i,e,o,t,n);e[r]=s,uc()&&yc(i,e,s,o),Lr(o,!1)}var XI=(n,t,e,i,r)=>(pc(!0),aE(t[Qe],i));function k(n){return x("",n,""),k}function x(n,t,e){let i=ie(),r=Lm(i,n,t,e);return r!==wt&&Ec(i,$n(),r),x}function q(n,t,e,i,r){let o=ie(),s=gI(o,n,t,e,i,r);return s!==wt&&Ec(o,$n(),s),q}function jr(n,t,e,i,r,o,s){let d=ie(),p=vI(d,n,t,e,i,r,o,s);return p!==wt&&Ec(d,$n(),p),jr}function zs(n,t,e,i,r,o,s,d,p){let m=ie(),v=_I(m,n,t,e,i,r,o,s,d,p);return v!==wt&&Ec(m,$n(),v),zs}function Ec(n,t,e){let i=b_(t,n);lE(n[Qe],i,e)}function Ue(n,t,e){ey(t)&&(t=t());let i=ie(),r=Br();if(pn(i,r,t)){let o=Ke(),s=Ns();vc(o,s,i,n,t,i[Qe],e,!1)}return Ue}function We(n,t){let e=ey(n);return e&&n.set(t),e}function je(n,t){let e=ie(),i=Ke(),r=Vt();return P1(i,e,e[Qe],r,n,t),je}function eP(n,t,e){let i=Ke();if(i.firstCreatePass){let r=jn(n);Mf(e,i.data,i.blueprint,r,!0),Mf(t,i.data,i.blueprint,r,!1)}}function Mf(n,t,e,i,r){if(n=Ht(n),Array.isArray(n))for(let o=0;o<n.length;o++)Mf(n[o],t,e,i,r);else{let o=Ke(),s=ie(),d=Vt(),p=bo(n)?n:Ht(n.provide),m=f_(n),v=d.providerIndexes&1048575,_=d.directiveStart,S=d.providerIndexes>>20;if(bo(n)||!n.multi){let C=new Rr(m,r,R),I=Dp(p,t,r?v:v+S,_);I===-1?(Hp(Hl(d,s),o,p),Pp(o,n,t.length),t.push(p),d.directiveStart++,d.directiveEnd++,r&&(d.providerIndexes+=1048576),e.push(C),s.push(C)):(e[I]=C,s[I]=C)}else{let C=Dp(p,t,v+S,_),I=Dp(p,t,v,v+S),D=C>=0&&e[C],F=I>=0&&e[I];if(r&&!F||!r&&!D){Hp(Hl(d,s),o,p);let B=iP(r?nP:tP,e.length,r,i,m);!r&&F&&(e[I].providerFactory=B),Pp(o,n,t.length,0),t.push(p),d.directiveStart++,d.directiveEnd++,r&&(d.providerIndexes+=1048576),e.push(B),s.push(B)}else{let B=O1(e[r?I:C],m,!r&&i);Pp(o,n,C>-1?C:I,B)}!r&&i&&F&&e[I].componentProviders++}}}function Pp(n,t,e,i){let r=bo(t),o=oT(t);if(r||o){let p=(o?Ht(t.useClass):t).prototype.ngOnDestroy;if(p){let m=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){let v=m.indexOf(e);v===-1?m.push(e,[i,p]):m[v+1].push(i,p)}else m.push(e,p)}}}function O1(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Dp(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function tP(n,t,e,i){return Of(this.multi,[])}function nP(n,t,e,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,d=Ts(e,e[de],this.providerFactory.index,i);o=d.slice(0,s),Of(r,o);for(let p=s;p<d.length;p++)o.push(d[p])}else o=[],Of(r,o);return o}function Of(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function iP(n,t,e,i,r){let o=new Rr(n,e,R);return o.multi=[],o.index=t,o.componentProviders=0,O1(o,r,i&&!e),o}function Gt(n,t=[]){return e=>{e.providersResolver=(i,r)=>eP(i,r?r(n):n,t)}}function $e(n,t,e){let i=As()+n,r=ie();return r[i]===wt?xc(r,i,e?t.call(e):t()):aI(r,i)}function Ic(n,t,e,i,r,o){return A1(ie(),As(),n,t,e,i,r,o)}function jm(n,t){let e=n[t];return e===wt?void 0:e}function rP(n,t,e,i,r,o){let s=t+e;return pn(n,s,r)?xc(n,s+1,o?i.call(o,r):i(r)):jm(n,s+1)}function oP(n,t,e,i,r,o,s){let d=t+e;return Ps(n,d,r,o)?xc(n,d+2,s?i.call(s,r,o):i(r,o)):jm(n,d+2)}function A1(n,t,e,i,r,o,s,d){let p=t+e;return p1(n,p,r,o,s)?xc(n,p+3,d?i.call(d,r,o,s):i(r,o,s)):jm(n,p+3)}function et(n,t){let e=Ke(),i,r=n+yt;e.firstCreatePass?(i=sP(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=Er(i.type,!0)),s,d=Jt(R);try{let p=$l(!1),m=o();return $l(p),JI(e,ie(),r,m),m}finally{Jt(d)}}function sP(n,t){if(t)for(let e=t.length-1;e>=0;e--){let i=t[e];if(n===i.name)return i}}function $r(n,t,e){let i=n+yt,r=ie(),o=Zf(r,i);return $m(r,i)?rP(r,As(),t,o.transform,e,o):o.transform(e)}function qs(n,t,e,i){let r=n+yt,o=ie(),s=Zf(o,r);return $m(o,r)?oP(o,As(),t,s.transform,e,i,s):s.transform(e,i)}function gn(n,t,e,i,r){let o=n+yt,s=ie(),d=Zf(s,o);return $m(s,o)?A1(s,As(),t,d.transform,e,i,r,d):d.transform(e,i,r)}function $m(n,t){return n[de].data[t].pure}var Af=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},Pc=(()=>{class n{compileModuleSync(e){return new bf(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=c_(e),o=Sy(r.declarations).reduce((s,d)=>{let p=Pr(d);return p&&s.push(new Eo(p)),s},[]);return new Af(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var aP=(()=>{class n{zone=E(Ve);changeDetectionScheduler=E(Nr);applicationRef=E(fn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lP({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Ve(Z(O({},cP()),{scheduleInRootZone:e})),[{provide:Ve,useFactory:n},{provide:yo,multi:!0,useFactory:()=>{let i=E(aP,{optional:!0});return()=>i.initialize()}},{provide:yo,multi:!0,useFactory:()=>{let i=E(dP);return()=>{i.initialize()}}},t===!0?{provide:Q_,useValue:!0}:[],{provide:K_,useValue:e??Z_}]}function cP(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var dP=(()=>{class n{subscription=new nt;initialized=!1;zone=E(Ve);pendingTasks=E(Zi);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var uP=(()=>{class n{appRef=E(fn);taskService=E(Zi);ngZone=E(Ve);zonelessEnabled=E(am);tracing=E(No,{optional:!0});disableScheduling=E(Q_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new nt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ql):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(K_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Wp||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let i=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?gv:J_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ql+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(e),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pP(){return typeof $localize<"u"&&$localize.locale||tc}var Dc=new $("",{providedIn:"root",factory:()=>E(Dc,he.Optional|he.SkipSelf)||pP()});var Rf=new $(""),fP=new $("");function vs(n){return!n.moduleRef}function mP(n){let t=vs(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Ve);return e.run(()=>{vs(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(bi,null),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:o=>{i.handleError(o)}})}),vs(n)){let o=()=>t.destroy(),s=n.platformInjector.get(Rf);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Rf);s.add(o),n.moduleRef.onDestroy(()=>{Dl(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return gP(i,e,()=>{let o=t.get(g1);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Dc,tc);if(WI(s||tc),!t.get(fP,!0))return vs(n)?t.get(fn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(vs(n)){let p=t.get(fn);return n.rootComponent!==void 0&&p.bootstrap(n.rootComponent),p}else return hP(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function hP(n,t){let e=n.injector.get(fn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>e.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new A(-403,!1);t.push(n)}function gP(n,t,e){try{let i=e();return Ur(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}var kl=null;function vP(n=[],t){return dt.create({name:t,providers:[{provide:ac,useValue:"platform"},{provide:Rf,useValue:new Set([()=>kl=null])},...n]})}function _P(n=[]){if(kl)return kl;let t=vP(n);return kl=t,pI(),yP(t),t}function yP(n){let t=n.get(um,null);nn(n,()=>{t?.forEach(e=>e())})}var Dn=(()=>{class n{static __NG_ELEMENT_ID__=bP}return n})();function bP(n){return CP(Vt(),ie(),(n&16)===16)}function CP(n,t,e){if(ko(n)&&!e){let i=ii(n.index,t);return new Is(i,i)}else if(n.type&175){let i=t[un];return new Is(i,t)}return null}var Nf=class{constructor(){}supports(t){return u1(t)}create(t){return new Ff(t)}},xP=(n,t)=>t,Ff=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||xP}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let s=!i||e&&e.currentIndex<zv(i,r,o)?e:i,d=zv(s,r,o),p=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,s.previousIndex==null)r++;else{o||(o=[]);let m=d-r,v=p-r;if(m!=v){for(let S=0;S<m;S++){let C=S<o.length?o[S]:o[S]=0,I=C+S;v<=I&&I<m&&(o[S]=C+1)}let _=s.previousIndex;o[_]=v-m}}d!==p&&t(s,d,p)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!u1(t))throw new A(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)o=t[d],s=this._trackByFn(d,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,d),i=!0):(i&&(e=this._verifyReinsertion(e,o,s,d)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,oI(t,d=>{s=this._trackByFn(r,d),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,d,s,r),i=!0):(i&&(e=this._verifyReinsertion(e,d,s,r)),Object.is(e.item,d)||this._addIdentityChange(e,d)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new Vf(e,i),o,r)),t}_verifyReinsertion(t,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){let r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new nc),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Vf=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Lf=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},nc=class{map=new Map;put(t){let e=t.trackById,i=this.map.get(e);i||(i=new Lf,this.map.set(e,i)),i.add(t)}get(t,e){let i=t,r=this.map.get(i);return r?r.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function zv(n,t,e){let i=n.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}function qv(){return new Hm([new Nf])}var Hm=(()=>{class n{factories;static \u0275prov=N({token:n,providedIn:"root",factory:qv});constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||qv()),deps:[[n,new Yw,new o_]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new A(901,!1)}}return n})();function R1(n){Re(8);try{let{rootComponent:t,appProviders:e,platformProviders:i}=n,r=_P(i),o=[lP({}),{provide:Nr,useExisting:uP},...e||[]],s=new Ql({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return mP({r3Injector:s.injector,platformInjector:r,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Re(9)}}function nr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ii(n){let t=_e(null);try{return n()}finally{_e(t)}}function Wt(n,t){let e=w0(n);return t?.equal&&(e[cn].equal=t.equal),e}var Bf=class{[cn];constructor(t){this[cn]=t}destroy(){this[cn].destroy()}};function Hn(n,t){!t?.injector&&qf(Hn);let e=t?.injector??E(dt),i=t?.manualCleanup!==!0?e.get(Oo):null,r,o=e.get(hm,null,{optional:!0}),s=e.get(Nr);return o!==null&&!t?.forceRoot?(r=SP(o.view,s,n),i instanceof zl&&i._lView===o.view&&(i=null)):r=EP(n,e.get(m1),s),r.injector=e,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new Bf(r)}var N1=Z(O({},io),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Ss,run(){if(this.dirty=!1,this.hasRun&&!$a(this))return;this.hasRun=!0;let n=i=>(this.cleanupFns??=[]).push(i),t=ps(this),e=Bl(!1);try{this.maybeCleanup(),this.fn(n)}finally{Bl(e),ja(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),wP=Z(O({},N1),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){fs(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),TP=Z(O({},N1),{consumerMarkedDirty(){this.view[ae]|=8192,Mo(this.view),this.notifier.notify(13)},destroy(){fs(this),this.onDestroyFn(),this.maybeCleanup(),this.view[kr]?.delete(this)}});function SP(n,t,e){let i=Object.create(TP);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=e,n[kr]??=new Set,n[kr].add(i),i.consumerMarkedDirty(i),i}function EP(n,t,e){let i=Object.create(wP);return i.fn=n,i.scheduler=t,i.notifier=e,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.schedule(i),i.notifier.notify(12),i}function F1(n){let t=Pr(n);if(!t)return null;let e=new Eo(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var H1=null;function ki(){return H1}function z1(n){H1??=n}var Lc=class{};var ze=new $(""),Jm=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>E(IP),providedIn:"platform"})}return n})(),q1=new $(""),IP=(()=>{class n extends Jm{_location;_history;_doc=E(ze);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ki().getBaseHref(this._doc)}onPopState(e){let i=ki().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=ki().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Xm(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function V1(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function Di(n){return n&&n[0]!=="?"?`?${n}`:n}var Mi=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>E(eh),providedIn:"root"})}return n})(),G1=new $(""),eh=(()=>{class n extends Mi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Xm(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+Di(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Di(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Di(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(L(Jm),L(G1,8))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),W1=(()=>{class n extends Mi{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=Xm(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Di(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Di(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(L(Jm),L(G1,8))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Uo=(()=>{class n{_subject=new be;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=kP(V1(L1(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Di(i))}normalize(e){return n.stripTrailingSlash(DP(this._basePath,L1(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Di(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Di(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Di;static joinWithSlash=Xm;static stripTrailingSlash=V1;static \u0275fac=function(i){return new(i||n)(L(Mi))};static \u0275prov=N({token:n,factory:()=>PP(),providedIn:"root"})}return n})();function PP(){return new Uo(L(Mi))}function DP(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function L1(n){return n.replace(/\/index.html$/,"")}function kP(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Yt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Yt||{}),Be=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Be||{}),vn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(vn||{}),ir={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function MP(n){return Pn(n)[at.LocaleId]}function OP(n,t,e){let i=Pn(n),r=[i[at.DayPeriodsFormat],i[at.DayPeriodsStandalone]],o=kn(r,t);return kn(o,e)}function AP(n,t,e){let i=Pn(n),r=[i[at.DaysFormat],i[at.DaysStandalone]],o=kn(r,t);return kn(o,e)}function RP(n,t,e){let i=Pn(n),r=[i[at.MonthsFormat],i[at.MonthsStandalone]],o=kn(r,t);return kn(o,e)}function NP(n,t){let i=Pn(n)[at.Eras];return kn(i,t)}function kc(n,t){let e=Pn(n);return kn(e[at.DateFormat],t)}function Mc(n,t){let e=Pn(n);return kn(e[at.TimeFormat],t)}function Oc(n,t){let i=Pn(n)[at.DateTimeFormat];return kn(i,t)}function Uc(n,t){let e=Pn(n),i=e[at.NumberSymbols][t];if(typeof i>"u"){if(t===ir.CurrencyDecimal)return e[at.NumberSymbols][ir.Decimal];if(t===ir.CurrencyGroup)return e[at.NumberSymbols][ir.Group]}return i}function Y1(n){if(!n[at.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[at.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function FP(n){let t=Pn(n);return Y1(t),(t[at.ExtraData][2]||[]).map(i=>typeof i=="string"?zm(i):[zm(i[0]),zm(i[1])])}function VP(n,t,e){let i=Pn(n);Y1(i);let r=[i[at.ExtraData][0],i[at.ExtraData][1]],o=kn(r,t)||[];return kn(o,e)||[]}function kn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function zm(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var LP=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ac={},BP=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function UP(n,t,e,i){let r=ZP(n);t=Pi(e,t)||t;let s=[],d;for(;t;)if(d=BP.exec(t),d){s=s.concat(d.slice(1));let v=s.pop();if(!v)break;t=v}else{s.push(t);break}let p=r.getTimezoneOffset();i&&(p=Q1(i,p),r=YP(r,i));let m="";return s.forEach(v=>{let _=GP(v);m+=_?_(r,e,p):v==="''"?"'":v.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function Bc(n,t,e){let i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Pi(n,t){let e=MP(n);if(Ac[e]??={},Ac[e][t])return Ac[e][t];let i="";switch(t){case"shortDate":i=kc(n,vn.Short);break;case"mediumDate":i=kc(n,vn.Medium);break;case"longDate":i=kc(n,vn.Long);break;case"fullDate":i=kc(n,vn.Full);break;case"shortTime":i=Mc(n,vn.Short);break;case"mediumTime":i=Mc(n,vn.Medium);break;case"longTime":i=Mc(n,vn.Long);break;case"fullTime":i=Mc(n,vn.Full);break;case"short":let r=Pi(n,"shortTime"),o=Pi(n,"shortDate");i=Rc(Oc(n,vn.Short),[r,o]);break;case"medium":let s=Pi(n,"mediumTime"),d=Pi(n,"mediumDate");i=Rc(Oc(n,vn.Medium),[s,d]);break;case"long":let p=Pi(n,"longTime"),m=Pi(n,"longDate");i=Rc(Oc(n,vn.Long),[p,m]);break;case"full":let v=Pi(n,"fullTime"),_=Pi(n,"fullDate");i=Rc(Oc(n,vn.Full),[v,_]);break}return i&&(Ac[e][t]=i),i}function Rc(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return t!=null&&i in t?t[i]:e})),n}function zn(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function jP(n,t){return zn(n,3).substring(0,t)}function ut(n,t,e=0,i=!1,r=!1){return function(o,s){let d=$P(n,o);if((e>0||d>-e)&&(d+=e),n===3)d===0&&e===-12&&(d=12);else if(n===6)return jP(d,t);let p=Uc(s,ir.MinusSign);return zn(d,t,p,i,r)}}function $P(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function He(n,t,e=Yt.Format,i=!1){return function(r,o){return HP(r,o,n,t,e,i)}}function HP(n,t,e,i,r,o){switch(e){case 2:return RP(t,r,i)[n.getMonth()];case 1:return AP(t,r,i)[n.getDay()];case 0:let s=n.getHours(),d=n.getMinutes();if(o){let m=FP(t),v=VP(t,r,i),_=m.findIndex(S=>{if(Array.isArray(S)){let[C,I]=S,D=s>=C.hours&&d>=C.minutes,F=s<I.hours||s===I.hours&&d<I.minutes;if(C.hours<I.hours){if(D&&F)return!0}else if(D||F)return!0}else if(S.hours===s&&S.minutes===d)return!0;return!1});if(_!==-1)return v[_]}return OP(t,r,i)[s<12?0:1];case 3:return NP(t,i)[n.getFullYear()<=0?0:1];default:let p=e;throw new Error(`unexpected translation type ${p}`)}}function Nc(n){return function(t,e,i){let r=-1*i,o=Uc(e,ir.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+zn(s,2,o)+zn(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+zn(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+zn(s,2,o)+":"+zn(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+zn(s,2,o)+":"+zn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var zP=0,Vc=4;function qP(n){let t=Bc(n,zP,1).getDay();return Bc(n,0,1+(t<=Vc?Vc:Vc+7)-t)}function Z1(n){let t=n.getDay(),e=t===0?-3:Vc-t;return Bc(n.getFullYear(),n.getMonth(),n.getDate()+e)}function qm(n,t=!1){return function(e,i){let r;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{let o=Z1(e),s=qP(o.getFullYear()),d=o.getTime()-s.getTime();r=1+Math.round(d/6048e5)}return zn(r,n,Uc(i,ir.MinusSign))}}function Fc(n,t=!1){return function(e,i){let o=Z1(e).getFullYear();return zn(o,n,Uc(i,ir.MinusSign),t)}}var Gm={};function GP(n){if(Gm[n])return Gm[n];let t;switch(n){case"G":case"GG":case"GGG":t=He(3,Be.Abbreviated);break;case"GGGG":t=He(3,Be.Wide);break;case"GGGGG":t=He(3,Be.Narrow);break;case"y":t=ut(0,1,0,!1,!0);break;case"yy":t=ut(0,2,0,!0,!0);break;case"yyy":t=ut(0,3,0,!1,!0);break;case"yyyy":t=ut(0,4,0,!1,!0);break;case"Y":t=Fc(1);break;case"YY":t=Fc(2,!0);break;case"YYY":t=Fc(3);break;case"YYYY":t=Fc(4);break;case"M":case"L":t=ut(1,1,1);break;case"MM":case"LL":t=ut(1,2,1);break;case"MMM":t=He(2,Be.Abbreviated);break;case"MMMM":t=He(2,Be.Wide);break;case"MMMMM":t=He(2,Be.Narrow);break;case"LLL":t=He(2,Be.Abbreviated,Yt.Standalone);break;case"LLLL":t=He(2,Be.Wide,Yt.Standalone);break;case"LLLLL":t=He(2,Be.Narrow,Yt.Standalone);break;case"w":t=qm(1);break;case"ww":t=qm(2);break;case"W":t=qm(1,!0);break;case"d":t=ut(2,1);break;case"dd":t=ut(2,2);break;case"c":case"cc":t=ut(7,1);break;case"ccc":t=He(1,Be.Abbreviated,Yt.Standalone);break;case"cccc":t=He(1,Be.Wide,Yt.Standalone);break;case"ccccc":t=He(1,Be.Narrow,Yt.Standalone);break;case"cccccc":t=He(1,Be.Short,Yt.Standalone);break;case"E":case"EE":case"EEE":t=He(1,Be.Abbreviated);break;case"EEEE":t=He(1,Be.Wide);break;case"EEEEE":t=He(1,Be.Narrow);break;case"EEEEEE":t=He(1,Be.Short);break;case"a":case"aa":case"aaa":t=He(0,Be.Abbreviated);break;case"aaaa":t=He(0,Be.Wide);break;case"aaaaa":t=He(0,Be.Narrow);break;case"b":case"bb":case"bbb":t=He(0,Be.Abbreviated,Yt.Standalone,!0);break;case"bbbb":t=He(0,Be.Wide,Yt.Standalone,!0);break;case"bbbbb":t=He(0,Be.Narrow,Yt.Standalone,!0);break;case"B":case"BB":case"BBB":t=He(0,Be.Abbreviated,Yt.Format,!0);break;case"BBBB":t=He(0,Be.Wide,Yt.Format,!0);break;case"BBBBB":t=He(0,Be.Narrow,Yt.Format,!0);break;case"h":t=ut(3,1,-12);break;case"hh":t=ut(3,2,-12);break;case"H":t=ut(3,1);break;case"HH":t=ut(3,2);break;case"m":t=ut(4,1);break;case"mm":t=ut(4,2);break;case"s":t=ut(5,1);break;case"ss":t=ut(5,2);break;case"S":t=ut(6,1);break;case"SS":t=ut(6,2);break;case"SSS":t=ut(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Nc(0);break;case"ZZZZZ":t=Nc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Nc(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Nc(2);break;default:return null}return Gm[n]=t,t}function Q1(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function WP(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function YP(n,t,e){let r=n.getTimezoneOffset(),o=Q1(t,r);return WP(n,-1*(o-r))}function ZP(n){if(B1(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(d=>+d);return Bc(r,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(LP))return QP(i)}let t=new Date(n);if(!B1(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function QP(n){let t=new Date(0),e=0,i=0,r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,d=Number(n[5]||0)-i,p=Number(n[6]||0),m=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,d,p,m),t}function B1(n){return n instanceof Date&&!isNaN(n.valueOf())}function jc(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Wm=/\s+/,U1=[],Bt=(()=>{class n{_ngEl;_renderer;initialClasses=U1;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(Wm):U1}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Wm):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(Wm).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(R(st),R(In))};static \u0275dir=Te({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Ym=class{$implicit;ngForOf;index;count;constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Se=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Ym(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let d=i.get(o);i.move(d,s),j1(d,r)}});for(let r=0,o=i.length;r<o;r++){let d=i.get(r).context;d.index=r,d.count=o,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);j1(o,r)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(R(Ji),R(Fr),R(Hm))};static \u0275dir=Te({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function j1(n,t){n.context.$implicit=t.item}var ee=(()=>{class n{_viewContainer;_context=new Zm;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){$1(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){$1(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(R(Ji),R(Fr))};static \u0275dir=Te({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Zm=class{$implicit=null;ngIf=null};function $1(n,t){if(n&&!n.createEmbeddedView)throw new A(2020,!1)}function K1(n,t){return new A(2100,!1)}var KP="mediumDate",JP=new $(""),XP=new $(""),$c=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(e==null||e===""||e!==e)return null;try{let s=i??this.defaultOptions?.dateFormat??KP,d=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return UP(e,s,o||this.locale,d)}catch(s){throw K1(n,s.message)}}static \u0275fac=function(i){return new(i||n)(R(Dc,16),R(JP,24),R(XP,24))};static \u0275pipe=Xi({name:"date",type:n,pure:!0})}return n})();var J1=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=Xi({name:"json",type:n,pure:!1})}return n})();var rr=(()=>{class n{transform(e,i,r){if(e==null)return null;if(!(typeof e=="string"||Array.isArray(e)))throw K1(n,e);return e.slice(i,r)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=Xi({name:"slice",type:n,pure:!1})}return n})();var Y=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Lt({type:n});static \u0275inj=Ft({})}return n})(),th="browser",eD="server";function X1(n){return n===th}function nh(n){return n===eD}var eb=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>new Qm(E(ze),window)})}return n})(),Qm=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=tD(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function tD(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var Bo=class{};var Ws=class{},zc=class{},Dt=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(d=>o.indexOf(d)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var rh=class{encodeKey(t){return tb(t)}encodeValue(t){return tb(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function nD(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,d]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],p=e.get(s)||[];p.push(d),e.set(s,p)}),e}var iD=/%(\d[a-f0-9])/gi,rD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tb(n){return encodeURIComponent(n).replace(iD,(t,e)=>rD[e]??t)}function Hc(n){return`${n}`}var sn=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new rh,t.fromString){if(t.fromObject)throw new A(2805,!1);this.map=nD(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(Hc):[Hc(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Hc(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Hc(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var oh=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function oD(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function nb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ib(n){return typeof Blob<"u"&&n instanceof Blob}function rb(n){return typeof FormData<"u"&&n instanceof FormData}function sD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ob="Content-Type",sb="Accept",cb="X-Request-URL",db="text/plain",ub="application/json",aD=`${ub}, ${db}, */*`,Gs=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,i,r){this.url=e,this.method=t.toUpperCase();let o;if(oD(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Dt,this.context??=new oh,!this.params)this.params=new sn,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let d=e.indexOf("?"),p=d===-1?"?":d<e.length-1?"&":"";this.urlWithParams=e+p+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||nb(this.body)||ib(this.body)||rb(this.body)||sD(this.body)?this.body:this.body instanceof sn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||rb(this.body)?null:ib(this.body)?this.body.type||null:nb(this.body)?null:typeof this.body=="string"?db:this.body instanceof sn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?ub:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,d=t.withCredentials??this.withCredentials,p=t.reportProgress??this.reportProgress,m=t.headers||this.headers,v=t.params||this.params,_=t.context??this.context;return t.setHeaders!==void 0&&(m=Object.keys(t.setHeaders).reduce((S,C)=>S.set(C,t.setHeaders[C]),m)),t.setParams&&(v=Object.keys(t.setParams).reduce((S,C)=>S.set(C,t.setParams[C]),v)),new n(e,i,s,{params:v,headers:m,context:_,reportProgress:p,responseType:r,withCredentials:d,transferCache:o})}},jo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(jo||{}),Ys=class{headers;status;statusText;url;ok;type;constructor(t,e=200,i="OK"){this.headers=t.headers||new Dt,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},sh=class n extends Ys{constructor(t={}){super(t)}type=jo.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},qc=class n extends Ys{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=jo.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Gc=class extends Ys{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},lD=200,cD=204;function ih(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ve=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Gs)o=e;else{let p;r.headers instanceof Dt?p=r.headers:p=new Dt(r.headers);let m;r.params&&(r.params instanceof sn?m=r.params:m=new sn({fromObject:r.params})),o=new Gs(e,i,r.body!==void 0?r.body:null,{headers:p,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=H(o).pipe(gi(p=>this.handler.handle(p)));if(e instanceof Gs||r.observe==="events")return s;let d=s.pipe(Pe(p=>p instanceof qc));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe(W(p=>{if(p.body!==null&&!(p.body instanceof ArrayBuffer))throw new A(2806,!1);return p.body}));case"blob":return d.pipe(W(p=>{if(p.body!==null&&!(p.body instanceof Blob))throw new A(2807,!1);return p.body}));case"text":return d.pipe(W(p=>{if(p.body!==null&&typeof p.body!="string")throw new A(2808,!1);return p.body}));case"json":default:return d.pipe(W(p=>p.body))}case"response":return d;default:throw new A(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new sn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,ih(r,i))}post(e,i,r={}){return this.request("POST",e,ih(r,i))}put(e,i,r={}){return this.request("PUT",e,ih(r,i))}static \u0275fac=function(i){return new(i||n)(L(Ws))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var dD=new $("");function uD(n,t){return t(n)}function pD(n,t,e){return(i,r)=>nn(e,()=>t(i,o=>n(o,r)))}var pb=new $(""),ah=new $(""),fD=new $(""),mD=new $("",{providedIn:"root",factory:()=>!0});var ab=(()=>{class n extends Ws{backend;injector;chain=null;pendingTasks=E(Zi);contributeToStability=E(mD);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(ah),...this.injector.get(fD,[])]));this.chain=i.reduceRight((r,o)=>pD(r,o,this.injector),uD)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(ei(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(L(zc),L(zt))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var hD=/^\)\]\}',?\n/,gD=RegExp(`^${cb}:`,"m");function vD(n){return"responseURL"in n&&n.responseURL?n.responseURL:gD.test(n.getAllResponseHeaders())?n.getResponseHeader(cb):null}var lb=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new A(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ie(i.\u0275loadImpl()):H(null)).pipe(vt(()=>new ye(o=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((D,F)=>s.setRequestHeader(D,F.join(","))),e.headers.has(sb)||s.setRequestHeader(sb,aD),!e.headers.has(ob)){let D=e.detectContentTypeHeader();D!==null&&s.setRequestHeader(ob,D)}if(e.responseType){let D=e.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let d=e.serializeBody(),p=null,m=()=>{if(p!==null)return p;let D=s.statusText||"OK",F=new Dt(s.getAllResponseHeaders()),B=vD(s)||e.url;return p=new sh({headers:F,status:s.status,statusText:D,url:B}),p},v=()=>{let{headers:D,status:F,statusText:B,url:j}=m(),me=null;F!==cD&&(me=typeof s.response>"u"?s.responseText:s.response),F===0&&(F=me?lD:0);let Ye=F>=200&&F<300;if(e.responseType==="json"&&typeof me=="string"){let Zn=me;me=me.replace(hD,"");try{me=me!==""?JSON.parse(me):null}catch(jt){me=Zn,Ye&&(Ye=!1,me={error:jt,text:me})}}Ye?(o.next(new qc({body:me,headers:D,status:F,statusText:B,url:j||void 0})),o.complete()):o.error(new Gc({error:me,headers:D,status:F,statusText:B,url:j||void 0}))},_=D=>{let{url:F}=m(),B=new Gc({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:F||void 0});o.error(B)},S=!1,C=D=>{S||(o.next(m()),S=!0);let F={type:jo.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(F.total=D.total),e.responseType==="text"&&s.responseText&&(F.partialText=s.responseText),o.next(F)},I=D=>{let F={type:jo.UploadProgress,loaded:D.loaded};D.lengthComputable&&(F.total=D.total),o.next(F)};return s.addEventListener("load",v),s.addEventListener("error",_),s.addEventListener("timeout",_),s.addEventListener("abort",_),e.reportProgress&&(s.addEventListener("progress",C),d!==null&&s.upload&&s.upload.addEventListener("progress",I)),s.send(d),o.next({type:jo.Sent}),()=>{s.removeEventListener("error",_),s.removeEventListener("abort",_),s.removeEventListener("load",v),s.removeEventListener("timeout",_),e.reportProgress&&(s.removeEventListener("progress",C),d!==null&&s.upload&&s.upload.removeEventListener("progress",I)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(L(Bo))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),fb=new $(""),_D="XSRF-TOKEN",yD=new $("",{providedIn:"root",factory:()=>_D}),bD="X-XSRF-TOKEN",CD=new $("",{providedIn:"root",factory:()=>bD}),Wc=class{},xD=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=jc(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)(L(ze),L(Ti),L(yD))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function wD(n,t){let e=n.url.toLowerCase();if(!E(fb)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=E(Wc).getToken(),r=E(CD);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var mb=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(mb||{});function TD(n,t){return{\u0275kind:n,\u0275providers:t}}function hb(...n){let t=[ve,lb,ab,{provide:Ws,useExisting:ab},{provide:zc,useFactory:()=>E(dD,{optional:!0})??E(lb)},{provide:ah,useValue:wD,multi:!0},{provide:fb,useValue:!0},{provide:Wc,useClass:xD}];for(let e of n)t.push(...e.\u0275providers);return oi(t)}function gb(n){return TD(mb.Interceptors,n.map(t=>({provide:ah,useValue:t,multi:!0})))}var dh=class extends Lc{supportsDOMEvents=!0},uh=class n extends dh{static makeCurrent(){z1(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=SD();return e==null?null:ED(e)}resetBaseElement(){Zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return jc(document.cookie,t)}},Zs=null;function SD(){return Zs=Zs||document.querySelector("base"),Zs?Zs.getAttribute("href"):null}function ED(n){return new URL(n,document.baseURI).pathname}var ID=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),ph=new $(""),Cb=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(L(ph),L(Ve))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Zc=class{_doc;constructor(t){this._doc=t}manager},Yc="ng-app-id";function vb(n){for(let t of n)t.remove()}function _b(n,t){let e=t.createElement("style");return e.textContent=n,e}function PD(n,t,e,i){let r=n.head?.querySelectorAll(`style[${Yc}="${t}"],link[${Yc}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Yc),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function fh(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var xb=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.isServer=nh(o),PD(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,_b);i?.forEach(r=>this.addUsage(r,this.external,fh))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(vb(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])vb(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,_b(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,fh(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Yc,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(L(ze),L(dm),L(fm,8),L(Ti))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),ch={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hh=/%COMP%/g;var wb="%COMP%",DD=`_nghost-${wb}`,kD=`_ngcontent-${wb}`,MD=!0,OD=new $("",{providedIn:"root",factory:()=>MD});function AD(n){return kD.replace(hh,n)}function RD(n){return DD.replace(hh,n)}function Tb(n,t){return t.map(e=>e.replace(hh,n))}var Qc=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,o,s,d,p,m=null,v=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=d,this.ngZone=p,this.nonce=m,this.tracingService=v,this.platformIsServer=nh(d),this.defaultRenderer=new Qs(e,s,p,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ri.ShadowDom&&(i=Z(O({},i),{encapsulation:ri.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof Kc?r.applyToHost(e):r instanceof Ks&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,d=this.ngZone,p=this.eventManager,m=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,_=this.platformIsServer,S=this.tracingService;switch(i.encapsulation){case ri.Emulated:o=new Kc(p,m,i,this.appId,v,s,d,_,S);break;case ri.ShadowDom:return new mh(p,m,e,i,s,d,this.nonce,_,S);default:o=new Ks(p,m,i,v,s,d,_,S);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(L(Cb),L(xb),L(dm),L(OD),L(ze),L(Ti),L(Ve),L(fm),L(No,8))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Qs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(ch[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(yb(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(yb(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new A(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=ch[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=ch[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(xi.DashCase|xi.Important)?t.style.setProperty(e,i,r&xi.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&xi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=ki().getGlobalEventTarget(this.doc,t),!t))throw new A(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function yb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var mh=class extends Qs{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,r,o,s,d,p,m){super(t,o,s,p,m),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let v=r.styles;v=Tb(r.id,v);for(let S of v){let C=document.createElement("style");d&&C.setAttribute("nonce",d),C.textContent=S,this.shadowRoot.appendChild(C)}let _=r.getExternalStyles?.();if(_)for(let S of _){let C=fh(S,o);d&&C.setAttribute("nonce",d),this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ks=class extends Qs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,o,s,d,p,m){super(t,o,s,d,p),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let v=i.styles;this.styles=m?Tb(m,v):v,this.styleUrls=i.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Kc=class extends Ks{contentAttr;hostAttr;constructor(t,e,i,r,o,s,d,p,m){let v=r+"-"+i.id;super(t,e,i,o,s,d,p,m,v),this.contentAttr=AD(v),this.hostAttr=RD(v)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},ND=(()=>{class n extends Zc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(L(ze))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),bb=["alt","control","meta","shift"],FD={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VD={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},LD=(()=>{class n extends Zc{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,o){let s=n.parseEventName(i),d=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ki().onAndCancel(e,s.domEventName,d,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),s="code."),bb.forEach(m=>{let v=i.indexOf(m);v>-1&&(i.splice(v,1),s+=m+".")}),s+=o,i.length!=0||o.length===0)return null;let p={};return p.domEventName=r,p.fullKey=s,p}static matchEventFullKeyCode(e,i){let r=FD[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),bb.forEach(s=>{if(s!==r){let d=VD[s];d(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(L(ze))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function Sb(n,t){return R1(O({rootComponent:n},BD(t)))}function BD(n){return{appProviders:[...zD,...n?.providers??[]],platformProviders:HD}}function UD(){uh.makeCurrent()}function jD(){return new bi}function $D(){return ay(document),document}var HD=[{provide:Ti,useValue:th},{provide:um,useValue:UD,multi:!0},{provide:ze,useFactory:$D,deps:[]}];var zD=[{provide:ac,useValue:"root"},{provide:bi,useFactory:jD,deps:[]},{provide:ph,useClass:ND,multi:!0,deps:[ze]},{provide:ph,useClass:LD,multi:!0,deps:[ze]},Qc,xb,Cb,{provide:Yi,useExisting:Qc},{provide:Bo,useClass:ID,deps:[]},[]];var Eb=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(L(ze))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Js=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=L(qD),r},providedIn:"root"})}return n})(),qD=(()=>{class n extends Js{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case hn.NONE:return i;case hn.HTML:return Si(i,"HTML")?En(i):_m(this._doc,String(i)).toString();case hn.STYLE:return Si(i,"Style")?En(i):i;case hn.SCRIPT:if(Si(i,"Script"))return En(i);throw new A(5200,!1);case hn.URL:return Si(i,"URL")?En(i):mc(String(i));case hn.RESOURCE_URL:if(Si(i,"ResourceURL"))return En(i);throw new A(5201,!1);default:throw new A(5202,!1)}}bypassSecurityTrustHtml(e){return my(e)}bypassSecurityTrustStyle(e){return hy(e)}bypassSecurityTrustScript(e){return gy(e)}bypassSecurityTrustUrl(e){return vy(e)}bypassSecurityTrustResourceUrl(e){return _y(e)}static \u0275fac=function(i){return new(i||n)(L(ze))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fe="primary",pa=Symbol("RouteTitle"),Ch=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Wo(n){return new Ch(n)}function GD(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],d=n[o];if(s[0]===":")r[s.substring(1)]=d;else if(s!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function WD(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!li(n[e],t[e]))return!1;return!0}function li(n,t){let e=n?xh(n):void 0,i=t?xh(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Fb(n[r],t[r]))return!1;return!0}function xh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Fb(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function Vb(n){return n.length>0?n[n.length-1]:null}function sr(n){return op(n)?n:Ur(n)?Ie(Promise.resolve(n)):H(n)}var YD={exact:Bb,subset:Ub},Lb={exact:ZD,subset:QD,ignored:()=>!0};function Ib(n,t,e){return YD[e.paths](n.root,t.root,e.matrixParams)&&Lb[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function ZD(n,t){return li(n,t)}function Bb(n,t,e){if(!zr(n.segments,t.segments)||!ed(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!Bb(n.children[i],t.children[i],e))return!1;return!0}function QD(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Fb(n[e],t[e]))}function Ub(n,t,e){return jb(n,t,t.segments,e)}function jb(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!zr(r,e)||t.hasChildren()||!ed(r,e,i))}else if(n.segments.length===e.length){if(!zr(n.segments,e)||!ed(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!Ub(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!zr(n.segments,r)||!ed(n.segments,r,i)||!n.children[fe]?!1:jb(n.children[fe],t,o,i)}}function ed(n,t,e){return t.every((i,r)=>Lb[e](n[r].parameters,i.parameters))}var Ai=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ke([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Wo(this.queryParams),this._queryParamMap}toString(){return XD.serialize(this)}},ke=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return td(this)}},Hr=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Wo(this.parameters),this._parameterMap}toString(){return Hb(this)}};function KD(n,t){return zr(n,t)&&n.every((e,i)=>li(e.parameters,t[i].parameters))}function zr(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function JD(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===fe&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==fe&&(e=e.concat(t(r,i)))}),e}var fa=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>new Yo,providedIn:"root"})}return n})(),Yo=class{parse(t){let e=new Th(t);return new Ai(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Xs(t.root,!0)}`,i=nk(t.queryParams),r=typeof t.fragment=="string"?`#${ek(t.fragment)}`:"";return`${e}${i}${r}`}},XD=new Yo;function td(n){return n.segments.map(t=>Hb(t)).join("/")}function Xs(n,t){if(!n.hasChildren())return td(n);if(t){let e=n.children[fe]?Xs(n.children[fe],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==fe&&i.push(`${r}:${Xs(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=JD(n,(i,r)=>r===fe?[Xs(n.children[fe],!1)]:[`${r}:${Xs(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[fe]!=null?`${td(n)}/${e[0]}`:`${td(n)}/(${e.join("//")})`}}function $b(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jc(n){return $b(n).replace(/%3B/gi,";")}function ek(n){return encodeURI(n)}function wh(n){return $b(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nd(n){return decodeURIComponent(n)}function Pb(n){return nd(n.replace(/\+/g,"%20"))}function Hb(n){return`${wh(n.path)}${tk(n.parameters)}`}function tk(n){return Object.entries(n).map(([t,e])=>`;${wh(t)}=${wh(e)}`).join("")}function nk(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${Jc(e)}=${Jc(r)}`).join("&"):`${Jc(e)}=${Jc(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var ik=/^[^\/()?;#]+/;function vh(n){let t=n.match(ik);return t?t[0]:""}var rk=/^[^\/()?;=#]+/;function ok(n){let t=n.match(rk);return t?t[0]:""}var sk=/^[^=?&#]+/;function ak(n){let t=n.match(sk);return t?t[0]:""}var lk=/^[^&#]+/;function ck(n){let t=n.match(lk);return t?t[0]:""}var Th=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[fe]=new ke(t,e)),i}parseSegment(){let t=vh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(t),new Hr(nd(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=ok(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=vh(this.remaining);r&&(i=r,this.capture(i))}t[nd(e)]=nd(i)}parseQueryParam(t){let e=ak(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=ck(this.remaining);s&&(i=s,this.capture(i))}let r=Pb(e),o=Pb(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=vh(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new A(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=fe);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[fe]:new ke([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new A(4011,!1)}};function zb(n){return n.segments.length>0?new ke([],{[fe]:n}):n}function qb(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=qb(r);if(i===fe&&o.segments.length===0&&o.hasChildren())for(let[s,d]of Object.entries(o.children))t[s]=d;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new ke(n.segments,t);return dk(e)}function dk(n){if(n.numberOfChildren===1&&n.children[fe]){let t=n.children[fe];return new ke(n.segments.concat(t.segments),t.children)}return n}function qr(n){return n instanceof Ai}function uk(n,t,e=null,i=null){let r=Gb(n);return Wb(r,t,e,i)}function Gb(n){let t;function e(o){let s={};for(let p of o.children){let m=e(p);s[p.outlet]=m}let d=new ke(o.url,s);return o===n&&(t=d),d}let i=e(n.root),r=zb(i);return t??r}function Wb(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return _h(r,r,r,e,i);let o=pk(t);if(o.toRoot())return _h(r,r,new ke([],{}),e,i);let s=fk(o,r,n),d=s.processChildren?ta(s.segmentGroup,s.index,o.commands):Zb(s.segmentGroup,s.index,o.commands);return _h(r,s.segmentGroup,d,e,i)}function id(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ra(n){return typeof n=="object"&&n!=null&&n.outlets}function _h(n,t,e,i,r){let o={};i&&Object.entries(i).forEach(([p,m])=>{o[p]=Array.isArray(m)?m.map(v=>`${v}`):`${m}`});let s;n===t?s=e:s=Yb(n,t,e);let d=zb(qb(s));return new Ai(d,o,r)}function Yb(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=Yb(o,t,e)}),new ke(n.segments,i)}var rd=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&id(i[0]))throw new A(4003,!1);let r=i.find(ra);if(r&&r!==Vb(i))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pk(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new rd(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let d={};return Object.entries(o.outlets).forEach(([p,m])=>{d[p]=typeof m=="string"?m.split("/"):m}),[...r,{outlets:d}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((d,p)=>{p==0&&d==="."||(p==0&&d===""?e=!0:d===".."?t++:d!=""&&r.push(d))}),r):[...r,o]},[]);return new rd(e,t,i)}var zo=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function fk(n,t,e){if(n.isAbsolute)return new zo(t,!0,0);if(!e)return new zo(t,!1,NaN);if(e.parent===null)return new zo(e,!0,0);let i=id(n.commands[0])?0:1,r=e.segments.length-1+i;return mk(e,r,n.numberOfDoubleDots)}function mk(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new A(4005,!1);r=i.segments.length}return new zo(i,!1,r-o)}function hk(n){return ra(n[0])?n[0].outlets:{[fe]:n}}function Zb(n,t,e){if(n??=new ke([],{}),n.segments.length===0&&n.hasChildren())return ta(n,t,e);let i=gk(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new ke(n.segments.slice(0,i.pathIndex),{});return o.children[fe]=new ke(n.segments.slice(i.pathIndex),n.children),ta(o,0,r)}else return i.match&&r.length===0?new ke(n.segments,{}):i.match&&!n.hasChildren()?Sh(n,t,e):i.match?ta(n,0,r):Sh(n,t,e)}function ta(n,t,e){if(e.length===0)return new ke(n.segments,{});{let i=hk(e),r={};if(Object.keys(i).some(o=>o!==fe)&&n.children[fe]&&n.numberOfChildren===1&&n.children[fe].segments.length===0){let o=ta(n.children[fe],t,e);return new ke(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Zb(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new ke(n.segments,r)}}function gk(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let s=n.segments[r],d=e[i];if(ra(d))break;let p=`${d}`,m=i<e.length-1?e[i+1]:null;if(r>0&&p===void 0)break;if(p&&m&&typeof m=="object"&&m.outlets===void 0){if(!kb(p,m,s))return o;i+=2}else{if(!kb(p,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Sh(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(ra(o)){let p=vk(o.outlets);return new ke(i,p)}if(r===0&&id(e[0])){let p=n.segments[t];i.push(new Hr(p.path,Db(e[0]))),r++;continue}let s=ra(o)?o.outlets[fe]:`${o}`,d=r<e.length-1?e[r+1]:null;s&&d&&id(d)?(i.push(new Hr(s,Db(d))),r+=2):(i.push(new Hr(s,{})),r++)}return new ke(i,{})}function vk(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=Sh(new ke([],{}),0,i))}),t}function Db(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function kb(n,t,e){return n==e.path&&li(t,e.parameters)}var na="imperative",St=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(St||{}),Mn=class{id;url;constructor(t,e){this.id=t,this.url=e}},Zo=class extends Mn{type=St.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bn=class extends Mn{urlAfterRedirects;type=St.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(yn||{}),od=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(od||{}),Oi=class extends Mn{reason;code;type=St.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},or=class extends Mn{reason;code;type=St.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},oa=class extends Mn{error;target;type=St.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sd=class extends Mn{urlAfterRedirects;state;type=St.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eh=class extends Mn{urlAfterRedirects;state;type=St.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ih=class extends Mn{urlAfterRedirects;state;shouldActivate;type=St.GuardsCheckEnd;constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ph=class extends Mn{urlAfterRedirects;state;type=St.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dh=class extends Mn{urlAfterRedirects;state;type=St.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kh=class{route;type=St.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mh=class{route;type=St.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Oh=class{snapshot;type=St.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ah=class{snapshot;type=St.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rh=class{snapshot;type=St.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nh=class{snapshot;type=St.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ad=class{routerEvent;position;anchor;type=St.Scroll;constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},sa=class{},Qo=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function _k(n,t){return n.providers&&!n._injector&&(n._injector=Cc(n.providers,t,`Route: ${n.path}`)),n._injector??t}function qn(n){return n.outlet||fe}function yk(n,t){let e=n.filter(i=>qn(i)===t);return e.push(...n.filter(i=>qn(i)!==t)),e}function ma(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Fh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ma(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ha(this.rootInjector)}},ha=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Fh(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(L(zt))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ld=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Vh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=Vh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Lh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Lh(t,this._root).map(e=>e.value)}};function Vh(n,t){if(n===t.value)return t;for(let e of t.children){let i=Vh(n,e);if(i)return i}return null}function Lh(n,t){if(n===t.value)return[t];for(let e of t.children){let i=Lh(n,e);if(i.length)return i.unshift(t),i}return[]}var _n=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ho(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var cd=class extends ld{snapshot;constructor(t,e){super(t),this.snapshot=e,Wh(this,t)}toString(){return this.snapshot.toString()}};function Qb(n){let t=bk(n),e=new gt([new Hr("",{})]),i=new gt({}),r=new gt({}),o=new gt({}),s=new gt(""),d=new Ne(e,i,o,s,r,fe,n,t.root);return d.snapshot=t.root,new cd(new _n(d,[]),t)}function bk(n){let t={},e={},i={},r="",o=new qo([],t,i,r,e,fe,n,null,{});return new ud("",new _n(o,[]))}var Ne=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,o,s,d,p){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=d,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(W(m=>m[pa]))??H(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(t=>Wo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(t=>Wo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function dd(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:O(O({},t.params),n.params),data:O(O({},t.data),n.data),resolve:O(O(O(O({},n.data),t.data),r?.data),n._resolvedData)}:i={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},r&&Jb(r)&&(i.resolve[pa]=r.title),i}var qo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[pa]}constructor(t,e,i,r,o,s,d,p,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=d,this.routeConfig=p,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},ud=class extends ld{url;constructor(t,e){super(e),this.url=t,Wh(this,e)}toString(){return Kb(this._root)}};function Wh(n,t){t.value._routerState=n,t.children.forEach(e=>Wh(n,e))}function Kb(n){let t=n.children.length>0?` { ${n.children.map(Kb).join(", ")} } `:"";return`${n.value}${t}`}function yh(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,li(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),li(t.params,e.params)||n.paramsSubject.next(e.params),WD(t.url,e.url)||n.urlSubject.next(e.url),li(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Bh(n,t){let e=li(n.params,t.params)&&KD(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||Bh(n.parent,t.parent))}function Jb(n){return typeof n.title=="string"||n.title===null}var Ck=new $(""),ga=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=fe;activateEvents=new ot;deactivateEvents=new ot;attachEvents=new ot;detachEvents=new ot;routerOutletData=Fs(void 0);parentContexts=E(ha);location=E(Ji);changeDetector=E(Dn);inputBinder=E(hd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new Uh(e,d,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:p,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Te({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mn]})}return n})(),Uh=class n{route;childContexts;parent;outletData;__ngOutletInjector(t){return new n(this.route,this.childContexts,t,this.outletData)}constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===Ne?this.route:t===ha?this.childContexts:t===Ck?this.outletData:this.parent.get(t,e)}},hd=new $(""),Mb=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=xr([i.queryParams,i.params,i.data]).pipe(vt(([o,s,d],p)=>(d=O(O(O({},o),s),d),p===0?H(d):Promise.resolve(d)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=F1(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:d}of s.inputs)e.activatedComponentRef.setInput(d,o[d])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function xk(n,t,e){let i=aa(n,t._root,e?e._root:void 0);return new cd(i,t)}function aa(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=wk(n,t,e);return new _n(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(d=>aa(n,d)),s}}let i=Tk(t.value),r=t.children.map(o=>aa(n,o));return new _n(i,r)}}function wk(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return aa(n,i,r);return aa(n,i)})}function Tk(n){return new Ne(new gt(n.url),new gt(n.params),new gt(n.queryParams),new gt(n.fragment),new gt(n.data),n.outlet,n.component,n)}var la=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Xb="ngNavigationCancelingError";function pd(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=qr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=eC(!1,yn.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function eC(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Xb]=!0,e.cancellationCode=t,e}function Sk(n){return tC(n)&&qr(n.url)}function tC(n){return!!n&&n[Xb]}var Ek=(n,t,e,i)=>W(r=>(new jh(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),jh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),yh(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=Ho(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ho(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ho(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=Ho(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Nh(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Ah(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(yh(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(d.contexts),s.attachRef=d.componentRef,s.route=d.route.value,s.outlet&&s.outlet.attach(d.componentRef,d.route.value),yh(d.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},fd=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Go=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Ik(n,t,e){let i=n._root,r=t?t._root:null;return ea(i,r,e,[i.value])}function Pk(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Jo(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!Kv(n)?n:t.get(n):i}function ea(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ho(t);return n.children.forEach(s=>{Dk(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,d])=>ia(d,e.getContext(s),r)),r}function Dk(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let p=kk(s,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new fd(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ea(n,t,d?d.children:null,i,r):ea(n,t,e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Go(d.outlet.component,s))}else s&&ia(t,d,r),r.canActivateChecks.push(new fd(i)),o.component?ea(n,null,d?d.children:null,i,r):ea(n,null,e,i,r);return r}function kk(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!zr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!zr(n.url,t.url)||!li(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bh(n,t)||!li(n.queryParams,t.queryParams);case"paramsChange":default:return!Bh(n,t)}}function ia(n,t,e){let i=Ho(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?t?ia(s,t.children.getContext(o),e):ia(s,null,e):ia(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Go(t.outlet.component,r)):e.canDeactivateChecks.push(new Go(null,r)):e.canDeactivateChecks.push(new Go(null,r))}function va(n){return typeof n=="function"}function Mk(n){return typeof n=="boolean"}function Ok(n){return n&&va(n.canLoad)}function Ak(n){return n&&va(n.canActivate)}function Rk(n){return n&&va(n.canActivateChild)}function Nk(n){return n&&va(n.canDeactivate)}function Fk(n){return n&&va(n.canMatch)}function nC(n){return n instanceof Vn||n?.name==="EmptyError"}var Xc=Symbol("INITIAL_VALUE");function Ko(){return vt(n=>xr(n.map(t=>t.pipe(Kt(1),mp(Xc)))).pipe(W(t=>{for(let e of t)if(e!==!0){if(e===Xc)return Xc;if(e===!1||Vk(e))return e}return!0}),Pe(t=>t!==Xc),Kt(1)))}function Vk(n){return qr(n)||n instanceof la}function Lk(n,t){return Ze(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?H(Z(O({},e),{guardsResult:!0})):Bk(s,i,r,n).pipe(Ze(d=>d&&Mk(d)?Uk(i,o,n,t):H(d)),W(d=>Z(O({},e),{guardsResult:d})))})}function Bk(n,t,e,i){return Ie(n).pipe(Ze(r=>qk(r.component,r.route,e,t,i)),dn(r=>r!==!0,!0))}function Uk(n,t,e,i){return Ie(t).pipe(gi(r=>Hi($k(r.route.parent,i),jk(r.route,i),zk(n,r.path,e),Hk(n,r.route,e))),dn(r=>r!==!0,!0))}function jk(n,t){return n!==null&&t&&t(new Rh(n)),H(!0)}function $k(n,t){return n!==null&&t&&t(new Oh(n)),H(!0)}function Hk(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return H(!0);let r=i.map(o=>_l(()=>{let s=ma(t)??e,d=Jo(o,s),p=Ak(d)?d.canActivate(t,n):nn(s,()=>d(t,n));return sr(p).pipe(dn())}));return H(r).pipe(Ko())}function zk(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Pk(s)).filter(s=>s!==null).map(s=>_l(()=>{let d=s.guards.map(p=>{let m=ma(s.node)??e,v=Jo(p,m),_=Rk(v)?v.canActivateChild(i,n):nn(m,()=>v(i,n));return sr(_).pipe(dn())});return H(d).pipe(Ko())}));return H(o).pipe(Ko())}function qk(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(d=>{let p=ma(t)??r,m=Jo(d,p),v=Nk(m)?m.canDeactivate(n,t,e,i):nn(p,()=>m(n,t,e,i));return sr(v).pipe(dn())});return H(s).pipe(Ko())}function Gk(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return H(!0);let o=r.map(s=>{let d=Jo(s,n),p=Ok(d)?d.canLoad(t,e):nn(n,()=>d(t,e));return sr(p)});return H(o).pipe(Ko(),iC(i))}function iC(n){return Xu(Ae(t=>{if(typeof t!="boolean")throw pd(n,t)}),W(t=>t===!0))}function Wk(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return H(!0);let o=r.map(s=>{let d=Jo(s,n),p=Fk(d)?d.canMatch(t,e):nn(n,()=>d(t,e));return sr(p)});return H(o).pipe(Ko(),iC(i))}var ca=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},da=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function $o(n){return Ge(new ca(n))}function Yk(n){return Ge(new A(4e3,!1))}function Zk(n){return Ge(eC(!1,yn.GuardRejected))}var $h=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return H(i);if(r.numberOfChildren>1||!r.children[fe])return Yk(`${t.redirectTo}`);r=r.children[fe]}}applyRedirectCommands(t,e,i,r,o){if(typeof e!="string"){let d=e,{queryParams:p,fragment:m,routeConfig:v,url:_,outlet:S,params:C,data:I,title:D}=r,F=nn(o,()=>d({params:C,data:I,queryParams:p,fragment:m,routeConfig:v,url:_,outlet:S,title:D}));if(F instanceof Ai)throw new da(F);e=F}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new da(s);return s}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new Ai(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let d=o.substring(1);i[r]=e[d]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),s={};return Object.entries(e.children).forEach(([d,p])=>{s[d]=this.createSegmentGroup(t,p,i,r)}),new ke(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new A(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}},Hh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qk(n,t,e,i,r){let o=rC(n,t,e);return o.matched?(i=_k(t,i),Wk(i,t,e,r).pipe(W(s=>s===!0?o:O({},Hh)))):H(o)}function rC(n,t,e){if(t.path==="**")return Kk(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?O({},Hh):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||GD)(e,n,t);if(!r)return O({},Hh);let o={};Object.entries(r.posParams??{}).forEach(([d,p])=>{o[d]=p.path});let s=r.consumed.length>0?O(O({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Kk(n){return{matched:!0,parameters:n.length>0?Vb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Ob(n,t,e,i){return e.length>0&&eM(n,e,i)?{segmentGroup:new ke(t,Xk(i,new ke(e,n.children))),slicedSegments:[]}:e.length===0&&tM(n,e,i)?{segmentGroup:new ke(n.segments,Jk(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new ke(n.segments,n.children),slicedSegments:e}}function Jk(n,t,e,i){let r={};for(let o of e)if(gd(n,t,o)&&!i[qn(o)]){let s=new ke([],{});r[qn(o)]=s}return O(O({},i),r)}function Xk(n,t){let e={};e[fe]=t;for(let i of n)if(i.path===""&&qn(i)!==fe){let r=new ke([],{});e[qn(i)]=r}return e}function eM(n,t,e){return e.some(i=>gd(n,t,i)&&qn(i)!==fe)}function tM(n,t,e){return e.some(i=>gd(n,t,i))}function gd(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function nM(n,t,e){return t.length===0&&!n.children[e]}var zh=class{};function iM(n,t,e,i,r,o,s="emptyOnly"){return new qh(n,t,e,i,r,s,o).recognize()}var rM=31,qh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,o,s,d){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=d,this.applyRedirects=new $h(this.urlSerializer,this.urlTree)}noMatchError(t){return new A(4002,`'${t.segmentGroup}'`)}recognize(){let t=Ob(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(W(({children:e,rootSnapshot:i})=>{let r=new _n(i,e),o=new ud("",r),s=uk(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new qo([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,fe,e).pipe(W(i=>({children:i,rootSnapshot:e})),Ce(i=>{if(i instanceof da)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ca?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(W(s=>s instanceof _n?[s]:[]))}processChildren(t,e,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Ie(o).pipe(gi(s=>{let d=i.children[s],p=yk(e,s);return this.processSegmentGroup(t,p,d,s,r)}),fp((s,d)=>(s.push(...d),s)),zi(null),pp(),Ze(s=>{if(s===null)return $o(i);let d=oC(s);return oM(d),H(d)}))}processSegment(t,e,i,r,o,s,d){return Ie(e).pipe(gi(p=>this.processSegmentAgainstRoute(p._injector??t,e,p,i,r,o,s,d).pipe(Ce(m=>{if(m instanceof ca)return H(null);throw m}))),dn(p=>!!p),Ce(p=>{if(nC(p))return nM(i,r,o)?H(new zh):$o(i);throw p}))}processSegmentAgainstRoute(t,e,i,r,o,s,d,p){return qn(i)!==s&&(s===fe||!gd(r,o,i))?$o(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,p):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s,p):$o(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s,d){let{matched:p,parameters:m,consumedSegments:v,positionalParamSegments:_,remainingSegments:S}=rC(e,r,o);if(!p)return $o(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rM&&(this.allowRedirects=!1));let C=new qo(o,m,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Ab(r),qn(r),r.component??r._loadedComponent??null,r,Rb(r)),I=dd(C,d,this.paramsInheritanceStrategy);C.params=Object.freeze(I.params),C.data=Object.freeze(I.data);let D=this.applyRedirects.applyRedirectCommands(v,r.redirectTo,_,C,t);return this.applyRedirects.lineralizeSegments(r,D).pipe(Ze(F=>this.processSegment(t,i,e,F.concat(S),s,!1,d)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let d=Qk(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),d.pipe(vt(p=>p.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(vt(({routes:m})=>{let v=i._loadedInjector??t,{parameters:_,consumedSegments:S,remainingSegments:C}=p,I=new qo(S,_,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Ab(i),qn(i),i.component??i._loadedComponent??null,i,Rb(i)),D=dd(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(D.params),I.data=Object.freeze(D.data);let{segmentGroup:F,slicedSegments:B}=Ob(e,S,C,m);if(B.length===0&&F.hasChildren())return this.processChildren(v,m,F,I).pipe(W(me=>new _n(I,me)));if(m.length===0&&B.length===0)return H(new _n(I,[]));let j=qn(i)===o;return this.processSegment(v,m,F,B,j?fe:o,!0,I).pipe(W(me=>new _n(I,me instanceof _n?[me]:[])))}))):$o(e)))}getChildConfig(t,e,i){return e.children?H({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?H({routes:e._loadedRoutes,injector:e._loadedInjector}):Gk(t,e,i,this.urlSerializer).pipe(Ze(r=>r?this.configLoader.loadChildren(t,e).pipe(Ae(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):Zk(e))):H({routes:[],injector:t})}};function oM(n){n.sort((t,e)=>t.value.outlet===fe?-1:e.value.outlet===fe?1:t.value.outlet.localeCompare(e.value.outlet))}function sM(n){let t=n.value.routeConfig;return t&&t.path===""}function oC(n){let t=[],e=new Set;for(let i of n){if(!sM(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=oC(i.children);t.push(new _n(i.value,r))}return t.filter(i=>!e.has(i))}function Ab(n){return n.data||{}}function Rb(n){return n.resolve||{}}function aM(n,t,e,i,r,o){return Ze(s=>iM(n,t,e,i,s.extractedUrl,r,o).pipe(W(({state:d,tree:p})=>Z(O({},s),{targetSnapshot:d,urlAfterRedirects:p}))))}function lM(n,t){return Ze(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return H(e);let o=new Set(r.map(p=>p.route)),s=new Set;for(let p of o)if(!s.has(p))for(let m of sC(p))s.add(m);let d=0;return Ie(s).pipe(gi(p=>o.has(p)?cM(p,i,n,t):(p.data=dd(p,p.parent,n).resolve,H(void 0))),Ae(()=>d++),po(1),Ze(p=>d===s.size?H(e):Ot))})}function sC(n){let t=n.children.map(e=>sC(e)).flat();return[n,...t]}function cM(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!Jb(r)&&(o[pa]=r.title),dM(o,n,t,i).pipe(W(s=>(n._resolvedData=s,n.data=dd(n,n.parent,e).resolve,null)))}function dM(n,t,e,i){let r=xh(n);if(r.length===0)return H({});let o={};return Ie(r).pipe(Ze(s=>uM(n[s],t,e,i).pipe(dn(),Ae(d=>{if(d instanceof la)throw pd(new Yo,d);o[s]=d}))),po(1),W(()=>o),Ce(s=>nC(s)?Ot:Ge(s)))}function uM(n,t,e,i){let r=ma(t)??i,o=Jo(n,r),s=o.resolve?o.resolve(t,e):nn(r,()=>o(t,e));return sr(s)}function bh(n){return vt(t=>{let e=n(t);return e?Ie(e).pipe(W(()=>t)):H(t)})}var aC=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===fe);return i}getResolvedTitleForRoute(e){return e.data[pa]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>E(pM),providedIn:"root"})}return n})(),pM=(()=>{class n extends aC{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(L(Eb))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_a=new $("",{providedIn:"root",factory:()=>({})}),fM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&g(0,"router-outlet")},dependencies:[ga],encapsulation:2})}return n})();function Yh(n){let t=n.children&&n.children.map(Yh),e=t?Z(O({},n),{children:t}):O({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==fe&&(e.component=fM),e}var ua=new $(""),Zh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(Pc);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return H(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=sr(e.loadComponent()).pipe(W(lC),Ae(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),ei(()=>{this.componentLoaders.delete(e)})),r=new lo(i,()=>new be).pipe(ao());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return H({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=mM(i,this.compiler,e,this.onLoadEndListener).pipe(ei(()=>{this.childrenLoaders.delete(i)})),s=new lo(o,()=>new be).pipe(ao());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mM(n,t,e,i){return sr(n.loadChildren()).pipe(W(lC),Ze(r=>r instanceof Fm||Array.isArray(r)?H(r):Ie(t.compileModuleAsync(r))),W(r=>{i&&i(n);let o,s,d=!1;return Array.isArray(r)?(s=r,d=!0):(o=r.create(e).injector,s=o.get(ua,[],{optional:!0,self:!0}).flat()),{routes:s.map(Yh),injector:o}}))}function hM(n){return n&&typeof n=="object"&&"default"in n}function lC(n){return hM(n)?n.default:n}var Qh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>E(gM),providedIn:"root"})}return n})(),gM=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cC=new $(""),dC=new $("");function vM(n,t,e){let i=n.get(dC),r=n.get(ze);return n.get(Ve).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(m=>setTimeout(m));let o,s=new Promise(m=>{o=m}),d=r.startViewTransition(()=>(o(),_M(n))),{onViewTransitionCreated:p}=i;return p&&nn(n,()=>p({transition:d,from:t,to:e})),s})}function _M(n){return new Promise(t=>{gm({read:()=>setTimeout(t)},{injector:n})})}var uC=new $(""),Kh=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new be;transitionAbortSubject=new be;configLoader=E(Zh);environmentInjector=E(zt);destroyRef=E(Oo);urlSerializer=E(fa);rootContexts=E(ha);location=E(Uo);inputBindingEnabled=E(hd,{optional:!0})!==null;titleStrategy=E(aC);options=E(_a,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(Qh);createViewTransition=E(cC,{optional:!0});navigationErrorHandler=E(uC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new kh(r)),i=r=>this.events.next(new Mh(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(Z(O(O({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new gt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:na,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pe(o=>o.id!==0),W(o=>Z(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),vt(o=>{let s=!1,d=!1;return H(o).pipe(vt(p=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",yn.SupersededByNewNavigation),Ot;this.currentTransition=o,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,targetBrowserUrl:typeof p.extras.browserUrl=="string"?this.urlSerializer.parse(p.extras.browserUrl):p.extras.browserUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Z(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=p.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!m&&v!=="reload"){let _="";return this.events.next(new or(p.id,this.urlSerializer.serialize(p.rawUrl),_,od.IgnoredSameUrlNavigation)),p.resolve(!1),Ot}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return H(p).pipe(vt(_=>{let S=this.transitions?.getValue();return this.events.next(new Zo(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),S!==this.transitions?.getValue()?Ot:Promise.resolve(_)}),aM(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ae(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=Z(O({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let S=new sd(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(S)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:_,extractedUrl:S,source:C,restoredState:I,extras:D}=p,F=new Zo(_,this.urlSerializer.serialize(S),C,I);this.events.next(F);let B=Qb(this.rootComponentType).snapshot;return this.currentTransition=o=Z(O({},p),{targetSnapshot:B,urlAfterRedirects:S,extras:Z(O({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,H(o)}else{let _="";return this.events.next(new or(p.id,this.urlSerializer.serialize(p.extractedUrl),_,od.IgnoredByUrlHandlingStrategy)),p.resolve(!1),Ot}}),Ae(p=>{let m=new Eh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}),W(p=>(this.currentTransition=o=Z(O({},p),{guards:Ik(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),o)),Lk(this.environmentInjector,p=>this.events.next(p)),Ae(p=>{if(o.guardsResult=p.guardsResult,p.guardsResult&&typeof p.guardsResult!="boolean")throw pd(this.urlSerializer,p.guardsResult);let m=new Ih(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(m)}),Pe(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",yn.GuardRejected),!1)),bh(p=>{if(p.guards.canActivateChecks.length)return H(p).pipe(Ae(m=>{let v=new Ph(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),vt(m=>{let v=!1;return H(m).pipe(lM(this.paramsInheritanceStrategy,this.environmentInjector),Ae({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(m,"",yn.NoDataFromResolver)}}))}),Ae(m=>{let v=new Dh(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}))}),bh(p=>{let m=v=>{let _=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(v.routeConfig).pipe(Ae(S=>{v.component=S}),W(()=>{})));for(let S of v.children)_.push(...m(S));return _};return xr(m(p.targetSnapshot.root)).pipe(zi(null),Kt(1))}),bh(()=>this.afterPreactivation()),vt(()=>{let{currentSnapshot:p,targetSnapshot:m}=o,v=this.createViewTransition?.(this.environmentInjector,p.root,m.root);return v?Ie(v).pipe(W(()=>o)):H(o)}),W(p=>{let m=xk(e.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=o=Z(O({},p),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,o}),Ae(()=>{this.events.next(new sa)}),Ek(this.rootContexts,e.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Kt(1),Ae({next:p=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bn(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{s=!0}}),gs(this.transitionAbortSubject.pipe(Ae(p=>{throw p}))),ei(()=>{!s&&!d&&this.cancelNavigationTransition(o,"",yn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ce(p=>{if(this.destroyed)return o.resolve(!1),Ot;if(d=!0,tC(p))this.events.next(new Oi(o.id,this.urlSerializer.serialize(o.extractedUrl),p.message,p.cancellationCode)),Sk(p)?this.events.next(new Qo(p.url,p.navigationBehaviorOptions)):o.resolve(!1);else{let m=new oa(o.id,this.urlSerializer.serialize(o.extractedUrl),p,o.targetSnapshot??void 0);try{let v=nn(this.environmentInjector,()=>this.navigationErrorHandler?.(m));if(v instanceof la){let{message:_,cancellationCode:S}=pd(this.urlSerializer,v);this.events.next(new Oi(o.id,this.urlSerializer.serialize(o.extractedUrl),_,S)),this.events.next(new Qo(v.redirectTo,v.navigationBehaviorOptions))}else throw this.events.next(m),p}catch(v){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(v)}}return Ot}))}))}cancelNavigationTransition(e,i,r){let o=new Oi(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yM(n){return n!==na}var bM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>E(CM),providedIn:"root"})}return n})(),Gh=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},CM=(()=>{class n extends Gh{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(n)))(r||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>E(xM),providedIn:"root"})}return n})(),xM=(()=>{class n extends pC{location=E(Uo);urlSerializer=E(fa);options=E(_a,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=E(Qh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ai;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Qb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Zo)this.stateMemento=this.createStateMemento();else if(e instanceof or)this.rawUrlTree=i.initialUrl;else if(e instanceof sd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof sa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof Oi&&(e.code===yn.GuardRejected||e.code===yn.NoDataFromResolver)?this.restoreHistory(i):e instanceof oa?this.restoreHistory(i,!0):e instanceof bn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=e instanceof Ai?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(n)))(r||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fC(n,t){n.events.pipe(Pe(e=>e instanceof bn||e instanceof Oi||e instanceof oa||e instanceof or),W(e=>e instanceof bn||e instanceof or?0:(e instanceof Oi?e.code===yn.Redirect||e.code===yn.SupersededByNewNavigation:!1)?2:1),Pe(e=>e!==2),Kt(1)).subscribe(()=>{t()})}var wM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},J=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(Vm);stateManager=E(pC);options=E(_a,{optional:!0})||{};pendingTasks=E(Zi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(Kh);urlSerializer=E(fa);location=E(Uo);urlHandlingStrategy=E(Qh);_events=new be;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(bM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E(ua,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E(hd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new nt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Oi&&i.code!==yn.Redirect&&i.code!==yn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof bn)this.navigated=!0;else if(i instanceof Qo){let s=i.navigationBehaviorOptions,d=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),p=O({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||yM(r.source)},s);this.scheduleNavigation(d,na,null,p,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}EM(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),na,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let p=O({},r);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(o.state=p)}let d=this.parseUrl(e);this.scheduleNavigation(d,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Yh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:d,preserveFragment:p}=i,m=p?this.currentUrlTree.fragment:s,v=null;switch(d??this.options.defaultQueryParamsHandling){case"merge":v=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=o||null}v!==null&&(v=this.removeEmptyProps(v));let _;try{let S=r?r.snapshot:this.routerState.snapshot.root;_=Gb(S)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),_=this.currentUrlTree.root}return Wb(_,e,v,m??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=qr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,na,null,i)}navigate(e,i={skipLocationChange:!1}){return SM(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=O({},wM):i===!1?r=O({},TM):r=i,qr(e))return Ib(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Ib(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let d,p,m;s?(d=s.resolve,p=s.reject,m=s.promise):m=new Promise((_,S)=>{d=_,p=S});let v=this.pendingTasks.add();return fC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:d,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(_=>Promise.reject(_))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SM(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new A(4008,!1)}function EM(n){return!(n instanceof sa)&&!(n instanceof Qo)}var Tt=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new be;constructor(e,i,r,o,s,d){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=d;let p=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=p==="a"||p==="area",this.isAnchorElement?this.subscription=e.events.subscribe(m=>{m instanceof bn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(qr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,s){let d=this.urlTree;if(d===null||this.isAnchorElement&&(e!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let p={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,p),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:Ty(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:qr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(R(J),R(Ne),sm("tabindex"),R(In),R(st),R(Mi))};static \u0275dir=Te({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&b("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Pt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",nr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",nr],replaceUrl:[2,"replaceUrl","replaceUrl",nr],routerLink:"routerLink"},features:[mn]})}return n})(),mC=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ot;constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=e.events.subscribe(d=>{d instanceof bn&&this.update()})}ngAfterContentInit(){H(this.links.changes,H(null)).pipe(Jn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Ie(e).pipe(Jn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=IM(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||n)(R(J),R(st),R(In),R(Dn),R(Tt,8))};static \u0275dir=Te({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&M1(o,Tt,5),i&2){let s;Vo(s=Lo())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[mn]})}return n})();function IM(n){return!!n.paths}var md=class{};var PM=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Pe(e=>e instanceof bn),gi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Cc(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,d=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(d,o.children??o._loadedRoutes))}return Ie(r).pipe(Jn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=H(null);let o=r.pipe(Ze(s=>s===null?H(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Ie([o,s]).pipe(Jn())}else return o})}static \u0275fac=function(i){return new(i||n)(L(J),L(Pc),L(zt),L(md),L(Zh))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hC=new $(""),DM=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Zo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof bn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof or&&e.code===od.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ad&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ad(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){e1()};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function gC(n,...t){return oi([{provide:ua,multi:!0,useValue:n},[],{provide:Ne,useFactory:vC,deps:[J]},{provide:js,multi:!0,useFactory:_C},t.map(e=>e.\u0275providers)])}function vC(n){return n.routerState.root}function ya(n,t){return{\u0275kind:n,\u0275providers:t}}function _C(){let n=E(dt);return t=>{let e=n.get(fn);if(t!==e.components[0])return;let i=n.get(J),r=n.get(yC);n.get(Jh)===1&&i.initialNavigation(),n.get(bC,null,he.Optional)?.setUpPreloading(),n.get(hC,null,he.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var yC=new $("",{factory:()=>new be}),Jh=new $("",{providedIn:"root",factory:()=>1});function kM(){return ya(2,[{provide:Jh,useValue:0},{provide:wc,multi:!0,deps:[dt],useFactory:t=>{let e=t.get(q1,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=t.get(J),o=t.get(yC);fC(r,()=>{i(!0)}),t.get(Kh).afterPreactivation=()=>(i(!0),o.closed?H(void 0):o),r.initialNavigation()}))}}])}function MM(){return ya(3,[{provide:wc,multi:!0,useFactory:()=>{let t=E(J);return()=>{t.setUpLocationChangeListener()}}},{provide:Jh,useValue:2}])}var bC=new $("");function OM(n){return ya(0,[{provide:bC,useExisting:PM},{provide:md,useExisting:n}])}function AM(){return ya(8,[Mb,{provide:hd,useExisting:Mb}])}function RM(n){let t=[{provide:cC,useValue:vM},{provide:dC,useValue:O({skipNextTransition:!!n?.skipInitialTransition},n)}];return ya(9,t)}var NM=[Uo,{provide:fa,useClass:Yo},J,ha,{provide:Ne,useFactory:vC,deps:[J]},Zh,[]],it=(()=>{class n{constructor(){}static forRoot(e,i){return{ngModule:n,providers:[NM,[],{provide:ua,multi:!0,useValue:e},[],i?.errorHandler?{provide:uC,useValue:i.errorHandler}:[],{provide:_a,useValue:i||{}},i?.useHash?VM():LM(),FM(),i?.preloadingStrategy?OM(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?BM(i):[],i?.bindToComponentInputs?AM().\u0275providers:[],i?.enableViewTransitions?RM().\u0275providers:[],UM()]}}static forChild(e){return{ngModule:n,providers:[{provide:ua,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Lt({type:n});static \u0275inj=Ft({})}return n})();function FM(){return{provide:hC,useFactory:()=>{let n=E(eb),t=E(Ve),e=E(_a),i=E(Kh),r=E(fa);return e.scrollOffset&&n.setOffset(e.scrollOffset),new DM(r,i,n,t,e)}}}function VM(){return{provide:Mi,useClass:W1}}function LM(){return{provide:Mi,useClass:eh}}function BM(n){return[n.initialNavigation==="disabled"?MM().\u0275providers:[],n.initialNavigation==="enabledBlocking"?kM().\u0275providers:[]]}var Nb=new $("");function UM(){return[{provide:Nb,useFactory:_C},{provide:js,multi:!0,useExisting:Nb}]}var ue=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ue||{}),ci="*";function Xo(n,t){return{type:ue.Trigger,name:n,definitions:t,options:{}}}function Ri(n,t=null){return{type:ue.Animate,styles:t,timings:n}}function CC(n,t=null){return{type:ue.Sequence,steps:n,options:t}}function an(n){return{type:ue.Style,styles:n,offset:null}}function Ni(n,t,e){return{type:ue.State,name:n,styles:t,options:e}}function Fi(n,t,e=null){return{type:ue.Transition,expr:n,animation:t,options:e}}var ar=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},ba=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,d)=>Math.max(s,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},vd="!";function xC(n){return new A(3e3,!1)}function jM(){return new A(3100,!1)}function $M(){return new A(3101,!1)}function HM(n){return new A(3001,!1)}function zM(n){return new A(3003,!1)}function qM(n){return new A(3004,!1)}function GM(n,t){return new A(3005,!1)}function WM(){return new A(3006,!1)}function YM(){return new A(3007,!1)}function ZM(n,t){return new A(3008,!1)}function QM(n){return new A(3002,!1)}function KM(n,t,e,i,r){return new A(3010,!1)}function JM(){return new A(3011,!1)}function XM(){return new A(3012,!1)}function eO(){return new A(3200,!1)}function tO(){return new A(3202,!1)}function nO(){return new A(3013,!1)}function iO(n){return new A(3014,!1)}function rO(n){return new A(3015,!1)}function oO(n){return new A(3016,!1)}function sO(n,t){return new A(3404,!1)}function aO(n){return new A(3502,!1)}function lO(n){return new A(3503,!1)}function cO(){return new A(3300,!1)}function dO(n){return new A(3504,!1)}function uO(n){return new A(3301,!1)}function pO(n,t){return new A(3302,!1)}function fO(n){return new A(3303,!1)}function mO(n,t){return new A(3400,!1)}function hO(n){return new A(3401,!1)}function gO(n){return new A(3402,!1)}function vO(n,t){return new A(3505,!1)}function lr(n){switch(n.length){case 0:return new ar;case 1:return n[0];default:return new ba(n)}}function FC(n,t,e=new Map,i=new Map){let r=[],o=[],s=-1,d=null;if(t.forEach(p=>{let m=p.get("offset"),v=m==s,_=v&&d||new Map;p.forEach((S,C)=>{let I=C,D=S;if(C!=="offset")switch(I=n.normalizePropertyName(I,r),D){case vd:D=e.get(C);break;case ci:D=i.get(C);break;default:D=n.normalizeStyleValue(C,I,D,r);break}_.set(I,D)}),v||o.push(_),d=_,s=m}),r.length)throw aO(r);return o}function bg(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Xh(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Xh(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Xh(e,"destroy",n)));break}}function Xh(n,t,e){let i=e.totalTime,r=!!e.disabled,o=Cg(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function Cg(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function xn(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function wC(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var _O=typeof document>"u"?null:document.documentElement;function xg(n){let t=n.parentNode||n.host||null;return t===_O?null:t}function yO(n){return n.substring(1,6)=="ebkit"}var Gr=null,TC=!1;function bO(n){Gr||(Gr=CO()||{},TC=Gr.style?"WebkitAppearance"in Gr.style:!1);let t=!0;return Gr.style&&!yO(n)&&(t=n in Gr.style,!t&&TC&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Gr.style)),t}function CO(){return typeof document<"u"?document.body:null}function VC(n,t){for(;t;){if(t===n)return!0;t=xg(t)}return!1}function LC(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var wg=(()=>{class n{validateStyleProperty(e){return bO(e)}containsElement(e,i){return VC(e,i)}getParentElement(e){return xg(e)}query(e,i,r){return LC(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,d=[],p){return new ar(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Zr=class{static NOOP=new wg},Qr=class{};var xO=1e3,BC="{{",wO="}}",UC="ng-enter",og="ng-leave",_d="ng-trigger",wd=".ng-trigger",SC="ng-animating",sg=".ng-animating";function Vi(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ag(parseFloat(t[1]),t[2])}function ag(n,t){switch(t){case"s":return n*xO;default:return n}}function Td(n,t,e){return n.hasOwnProperty("duration")?n:TO(n,t,e)}function TO(n,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof n=="string"){let d=n.match(i);if(d===null)return t.push(xC(n)),{duration:0,delay:0,easing:""};r=ag(parseFloat(d[1]),d[2]);let p=d[3];p!=null&&(o=ag(parseFloat(p),d[4]));let m=d[5];m&&(s=m)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(jM()),d=!0),o<0&&(t.push($M()),d=!0),d&&t.splice(p,0,xC(n))}return{duration:r,delay:o,easing:s}}function SO(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function di(n,t,e){t.forEach((i,r)=>{let o=Tg(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function Yr(n,t){t.forEach((e,i)=>{let r=Tg(i);n.style[r]=""})}function Ca(n){return Array.isArray(n)?n.length==1?n[0]:CC(n):n}function EO(n,t,e){let i=t.params||{},r=jC(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(HM(o))})}var lg=new RegExp(`${BC}\\s*(.+?)\\s*${wO}`,"g");function jC(n){let t=[];if(typeof n=="string"){let e;for(;e=lg.exec(n);)t.push(e[1]);lg.lastIndex=0}return t}function wa(n,t,e){let i=`${n}`,r=i.replace(lg,(o,s)=>{let d=t[s];return d==null&&(e.push(zM(s)),d=""),d.toString()});return r==i?n:r}var IO=/-+([a-z0-9])/g;function Tg(n){return n.replace(IO,(...t)=>t[1].toUpperCase())}function PO(n,t){return n===0||t===0}function DO(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(d=>s.set(d,Sg(n,d)))}}return t}function Cn(n,t,e){switch(t.type){case ue.Trigger:return n.visitTrigger(t,e);case ue.State:return n.visitState(t,e);case ue.Transition:return n.visitTransition(t,e);case ue.Sequence:return n.visitSequence(t,e);case ue.Group:return n.visitGroup(t,e);case ue.Animate:return n.visitAnimate(t,e);case ue.Keyframes:return n.visitKeyframes(t,e);case ue.Style:return n.visitStyle(t,e);case ue.Reference:return n.visitReference(t,e);case ue.AnimateChild:return n.visitAnimateChild(t,e);case ue.AnimateRef:return n.visitAnimateRef(t,e);case ue.Query:return n.visitQuery(t,e);case ue.Stagger:return n.visitStagger(t,e);default:throw qM(t.type)}}function Sg(n,t){return window.getComputedStyle(n)[t]}var kO=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Sd=class extends Qr{normalizePropertyName(t,e){return Tg(t)}normalizeStyleValue(t,e,i,r){let o="",s=i.toString().trim();if(kO.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&d[1].length==0&&r.push(GM(t,i))}return s+o}};var Ed="*";function MO(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>OO(i,e,t)):e.push(n),e}function OO(n,t,e){if(n[0]==":"){let p=AO(n,e);if(typeof p=="function"){t.push(p);return}n=p}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(rO(n)),t;let r=i[1],o=i[2],s=i[3];t.push(EC(r,s));let d=r==Ed&&s==Ed;o[0]=="<"&&!d&&t.push(EC(s,r))}function AO(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(oO(n)),"* => *"}}var yd=new Set(["true","1"]),bd=new Set(["false","0"]);function EC(n,t){let e=yd.has(n)||bd.has(n),i=yd.has(t)||bd.has(t);return(r,o)=>{let s=n==Ed||n==r,d=t==Ed||t==o;return!s&&e&&typeof r=="boolean"&&(s=r?yd.has(n):bd.has(n)),!d&&i&&typeof o=="boolean"&&(d=o?yd.has(t):bd.has(t)),s&&d}}var $C=":self",RO=new RegExp(`s*${$C}s*,?`,"g");function HC(n,t,e,i){return new cg(n).build(t,e,i)}var IC="",cg=class{_driver;constructor(t){this._driver=t}build(t,e,i){let r=new dg(e);return this._resetContextStyleTimingState(r),Cn(this,Ca(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=IC,t.collectedStyles=new Map,t.collectedStyles.set(IC,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(WM()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),d.type==ue.State){let p=d,m=p.name;m.toString().split(/\s*,\s*/).forEach(v=>{p.name=v,o.push(this.visitState(p,e))}),p.name=m}else if(d.type==ue.Transition){let p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,s.push(p)}else e.errors.push(YM())}),{type:ue.Trigger,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{jC(p).forEach(m=>{s.hasOwnProperty(m)||o.add(m)})})}),o.size&&e.errors.push(ZM(t.name,[...o.values()]))}return{type:ue.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=Cn(this,Ca(t.animation),e),r=MO(t.expr,e.errors);return{type:ue.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Wr(t.options)}}visitSequence(t,e){return{type:ue.Sequence,steps:t.steps.map(i=>Cn(this,i,e)),options:Wr(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,o=t.steps.map(s=>{e.currentTime=i;let d=Cn(this,s,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:ue.Group,steps:o,options:Wr(t.options)}}visitAnimate(t,e){let i=LO(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:an({});if(o.type==ue.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,d=!1;if(!s){d=!0;let m={};i.easing&&(m.easing=i.easing),s=an(m)}e.currentTime+=i.duration+i.delay;let p=this.visitStyle(s,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:ue.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)typeof d=="string"?d===ci?i.push(d):e.errors.push(QM(d)):i.push(new Map(Object.entries(d)));let o=!1,s=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(s=d.get("easing"),d.delete("easing")),!o)){for(let p of d.values())if(p.toString().indexOf(BC)>=0){o=!0;break}}}),{type:ue.Style,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((d,p)=>{let m=e.collectedStyles.get(e.currentQuerySelector),v=m.get(p),_=!0;v&&(o!=r&&o>=v.startTime&&r<=v.endTime&&(e.errors.push(KM(p,v.startTime,v.endTime,o,r)),_=!1),o=v.startTime),_&&m.set(p,{startTime:o,endTime:r}),e.options&&EO(d,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:ue.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(JM()),i;let r=1,o=0,s=[],d=!1,p=!1,m=0,v=t.steps.map(B=>{let j=this._makeStyleAst(B,e),me=j.offset!=null?j.offset:VO(j.styles),Ye=0;return me!=null&&(o++,Ye=j.offset=me),p=p||Ye<0||Ye>1,d=d||Ye<m,m=Ye,s.push(Ye),j});p&&e.errors.push(XM()),d&&e.errors.push(eO());let _=t.steps.length,S=0;o>0&&o<_?e.errors.push(tO()):o==0&&(S=r/(_-1));let C=_-1,I=e.currentTime,D=e.currentAnimateTimings,F=D.duration;return v.forEach((B,j)=>{let me=S>0?j==C?1:S*j:s[j],Ye=me*F;e.currentTime=I+D.delay+Ye,D.duration=Ye,this._validateStyleAst(B,e),B.offset=me,i.styles.push(B)}),i}visitReference(t,e){return{type:ue.Reference,animation:Cn(this,Ca(t.animation),e),options:Wr(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:ue.AnimateChild,options:Wr(t.options)}}visitAnimateRef(t,e){return{type:ue.AnimateRef,animation:this.visitReference(t.animation,e),options:Wr(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=NO(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,xn(e.collectedStyles,e.currentQuerySelector,new Map);let d=Cn(this,Ca(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:ue.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:d,originalSelector:t.selector,options:Wr(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(nO());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Td(t.timings,e.errors,!0);return{type:ue.Stagger,animation:Cn(this,Ca(t.animation),e),timings:i,options:null}}};function NO(n){let t=!!n.split(/\s*,\s*/).find(e=>e==$C);return t&&(n=n.replace(RO,"")),n=n.replace(/@\*/g,wd).replace(/@\w+/g,e=>wd+"-"+e.slice(1)).replace(/:animating/g,sg),[n,t]}function FO(n){return n?O({},n):null}var dg=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function VO(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function LO(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Td(n,t).duration;return eg(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=eg(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=Td(e,t);return eg(r.duration,r.delay,r.easing)}function Wr(n){return n?(n=O({},n),n.params&&(n.params=FO(n.params))):n={},n}function eg(n,t,e){return{duration:n,delay:t,easing:e}}function Eg(n,t,e,i,r,o,s=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:d}}var Ta=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},BO=1,UO=":enter",jO=new RegExp(UO,"g"),$O=":leave",HO=new RegExp($O,"g");function zC(n,t,e,i,r,o=new Map,s=new Map,d,p,m=[]){return new ug().buildKeyframes(n,t,e,i,r,o,s,d,p,m)}var ug=class{buildKeyframes(t,e,i,r,o,s,d,p,m,v=[]){m=m||new Ta;let _=new pg(t,e,m,r,o,v,[]);_.options=p;let S=p.delay?Vi(p.delay):0;_.currentTimeline.delayNextStep(S),_.currentTimeline.setStyles([s],null,_.errors,p),Cn(this,i,_);let C=_.timelines.filter(I=>I.containsAnimation());if(C.length&&d.size){let I;for(let D=C.length-1;D>=0;D--){let F=C[D];if(F.element===e){I=F;break}}I&&!I.allowOnlyTimelineStyles()&&I.setStyles([d],null,_.errors,p)}return C.length?C.map(I=>I.buildKeyframes()):[Eg(e,[],[],[],0,S,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let o=r?.delay;if(o){let s=typeof o=="number"?o:Vi(wa(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime,s=i.duration!=null?Vi(i.duration):null,d=i.delay!=null?Vi(i.delay):null;return s!==0&&t.forEach(p=>{let m=e.appendInstructionToTimeline(p,s,d);o=Math.max(o,m.duration+m.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Cn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==ue.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Id);let s=Vi(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Cn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Vi(t.options.delay):0;t.steps.forEach(s=>{let d=e.createSubContext(t.options);o&&d.delayNextStep(o),Cn(this,s,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?wa(i,e.params,e.errors):i;return Td(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=t.style;o.type==ue.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{let m=p.offset||0;d.forwardTime(m*o),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Vi(r.delay):0;o&&(e.previousNode.type===ue.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Id);let s=i,d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((m,v)=>{e.currentQueryIndex=v;let _=e.createSubContext(t.options,m);o&&_.delayNextStep(o),m===e.element&&(p=_.currentTimeline),Cn(this,t.animation,_),_.currentTimeline.applyStylesToKeyframe();let S=_.currentTimeline.currentTime;s=Math.max(s,S)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),d=s*(e.currentQueryTotal-1),p=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime;break}let v=e.currentTimeline;p&&v.delayNextStep(p);let _=v.currentTime;Cn(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-_+(r.startTime-i.currentTimeline.startTime)}},Id={},pg=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Id;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,r,o,s,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=d,this.currentTimeline=p||new Pd(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=Vi(i.duration)),i.delay!=null&&(r.delay=Vi(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(d=>{(!e||!s.hasOwnProperty(d))&&(s[d]=wa(o[d],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Id,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new fg(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let d=[];if(r&&d.push(this.element),t.length>0){t=t.replace(jO,"."+this._enterClassName),t=t.replace(HO,"."+this._leaveClassName);let p=i!=1,m=this._driver.query(this.element,t,p);i!==0&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),d.push(...m)}return!o&&d.length==0&&s.push(iO(e)),d}},Pd=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=BO,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ci),this._currentKeyframe.set(e,ci);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=zO(t,this._globalTimelineStyles);for(let[d,p]of s){let m=wa(p,o,i);this._pendingStyles.set(d,m),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??ci),this._updateStyle(d,m)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((d,p)=>{let m=new Map([...this._backFill,...d]);m.forEach((v,_)=>{v===vd?t.add(_):v===ci&&e.add(_)}),i||m.set("offset",p/this.duration),r.push(m)});let o=[...t.values()],s=[...e.values()];if(i){let d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return Eg(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},fg=class extends Pd{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,r,o,s,d=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=i+e,d=e/s,p=new Map(t[0]);p.set("offset",0),o.push(p);let m=new Map(t[0]);m.set("offset",PC(d)),o.push(m);let v=t.length-1;for(let _=1;_<=v;_++){let S=new Map(t[_]),C=S.get("offset"),I=e+C*i;S.set("offset",PC(I/s)),o.push(S)}i=s,e=0,r="",t=o}return Eg(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function PC(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function zO(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let o of i)e.set(o,ci)}else for(let[o,s]of r)e.set(o,s)}),e}function DC(n,t,e,i,r,o,s,d,p,m,v,_,S){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:d,queriedElements:p,preStyleProps:m,postStyleProps:v,totalTime:_,errors:S}}var tg={},Dd=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return qO(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,d,p,m,v){let _=[],S=this.ast.options&&this.ast.options.params||tg,C=d&&d.params||tg,I=this.buildStyles(i,C,_),D=p&&p.params||tg,F=this.buildStyles(r,D,_),B=new Set,j=new Map,me=new Map,Ye=r==="void",Zn={params:qC(D,S),delay:this.ast.options?.delay},jt=v?[]:zC(t,e,this.ast.animation,o,s,I,F,Zn,m,_),$t=0;return jt.forEach(Qt=>{$t=Math.max(Qt.duration+Qt.delay,$t)}),_.length?DC(e,this._triggerName,i,r,Ye,I,F,[],[],j,me,$t,_):(jt.forEach(Qt=>{let fr=Qt.element,no=xn(j,fr,new Set);Qt.preStyleProps.forEach(mr=>no.add(mr));let a0=xn(me,fr,new Set);Qt.postStyleProps.forEach(mr=>a0.add(mr)),fr!==e&&B.add(fr)}),DC(e,this._triggerName,i,r,Ye,I,F,jt,[...B.values()],j,me,$t))}};function qO(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}function qC(n,t){let e=O({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var mg=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=qC(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,d)=>{s&&(s=wa(s,r,e));let p=this.normalizer.normalizePropertyName(d,e);s=this.normalizer.normalizeStyleValue(d,p,s,e),i.set(d,s)})}),i}};function GO(n,t,e){return new hg(n,t,e)}var hg=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new mg(r.style,o,i))}),kC(this.states,"true","1"),kC(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Dd(t,r,this.states))}),this.fallbackTransition=WO(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function WO(n,t,e){let i=[(s,d)=>!0],r={type:ue.Sequence,steps:[],options:null},o={type:ue.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Dd(n,o,t)}function kC(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var YO=new Ta,gg=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],r=[],o=HC(this._driver,e,i,r);if(i.length)throw lO(i);this._animations.set(t,o)}_buildPlayer(t,e,i){let r=t.element,o=FC(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],o=this._animations.get(t),s,d=new Map;if(o?(s=zC(this._driver,e,o,UC,og,new Map,new Map,i,YO,r),s.forEach(v=>{let _=xn(d,v.element,new Map);v.postStyleProps.forEach(S=>_.set(S,null))})):(r.push(cO()),s=[]),r.length)throw dO(r);d.forEach((v,_)=>{v.forEach((S,C)=>{v.set(C,this._driver.computeStyle(_,C,ci))})});let p=s.map(v=>{let _=d.get(v.element);return this._buildPlayer(v,new Map,_)}),m=lr(p);return this._playersById.set(t,m),m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw uO(t);return e}listen(t,e,i,r){let o=Cg(e,"","","");return bg(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},MC="ng-animate-queued",ZO=".ng-animate-queued",ng="ng-animate-disabled",QO=".ng-animate-disabled",KO="ng-star-inserted",JO=".ng-star-inserted",XO=[],GC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gn="__ng_removed",Sa=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=nA(r),i){let o=t,{value:s}=o,d=ju(o,["value"]);this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},xa="void",ig=new Sa(xa),vg=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,An(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw pO(i,e);if(i==null||i.length==0)throw fO(e);if(!iA(i))throw mO(i,e);let o=xn(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);let d=xn(this._engine.statesByElement,t,new Map);return d.has(e)||(An(t,_d),An(t,_d+"-"+e),d.set(e,ig)),()=>{this._engine.afterFlush(()=>{let p=o.indexOf(s);p>=0&&o.splice(p,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw hO(t);return e}trigger(t,e,i,r=!0){let o=this._getTrigger(e),s=new Ea(this.id,e,t),d=this._engine.statesByElement.get(t);d||(An(t,_d),An(t,_d+"-"+e),this._engine.statesByElement.set(t,d=new Map));let p=d.get(e),m=new Sa(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&m.absorbOptions(p.options),d.set(e,m),p||(p=ig),!(m.value===xa)&&p.value===m.value){if(!sA(p.params,m.params)){let D=[],F=o.matchStyles(p.value,p.params,D),B=o.matchStyles(m.value,m.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Yr(t,F),di(t,B)})}return}let S=xn(this._engine.playersByElement,t,[]);S.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let C=o.matchTransition(p.value,m.value,t,m.params),I=!1;if(!C){if(!r)return;C=o.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:C,fromState:p,toState:m,player:s,isFallbackTransition:I}),I||(An(t,MC),s.onStart(()=>{es(t,MC)})),s.onDone(()=>{let D=this.players.indexOf(s);D>=0&&this.players.splice(D,1);let F=this._engine.playersByElement.get(t);if(F){let B=F.indexOf(s);B>=0&&F.splice(B,1)}}),this.players.push(s),S.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,wd,!0);i.forEach(r=>{if(r[Gn])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let d=[];if(o.forEach((p,m)=>{if(s.set(m,p.value),this._triggers.has(m)){let v=this.trigger(t,m,xa,r);v&&d.push(v)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&lr(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let p=this._triggers.get(s).fallbackTransition,m=i.get(s)||ig,v=new Sa(xa),_=new Ea(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:p,fromState:m,toState:v,player:_,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let o=t[Gn];(!o||o===GC)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){An(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(d=>{if(d.name==i.triggerName){let p=Cg(o,i.triggerName,i.fromState.value,i.toState.value);p._data=t,bg(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},_g=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new vg(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,d=this.driver.getParentElement(e);for(;d;){let p=r.get(d);if(p){let m=i.indexOf(p);i.splice(m+1,0,t),s=!0;break}d=this.driver.getParentElement(d)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,i,r){if(Cd(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Cd(e))return;let o=e[Gn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),An(t,ng)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),es(t,ng))}removeNode(t,e,i){if(Cd(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Gn]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Cd(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,wd,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,sg,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return lr(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Gn];if(e&&e.setForRemoval){if(t[Gn]=GC,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(ng)&&this.markElementAsDisabled(t,!1),this.driver.query(t,QO,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];An(r,KO)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?lr(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw gO(t)}_flushAnimations(t,e){let i=new Ta,r=[],o=new Map,s=[],d=new Map,p=new Map,m=new Map,v=new Set;this.disabledNodes.forEach(G=>{v.add(G);let K=this.driver.query(G,ZO,!0);for(let ne=0;ne<K.length;ne++)v.add(K[ne])});let _=this.bodyNode,S=Array.from(this.statesByElement.keys()),C=RC(S,this.collectedEnterElements),I=new Map,D=0;C.forEach((G,K)=>{let ne=UC+D++;I.set(K,ne),G.forEach(we=>An(we,ne))});let F=[],B=new Set,j=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){let K=this.collectedLeaveElements[G],ne=K[Gn];ne&&ne.setForRemoval&&(F.push(K),B.add(K),ne.hasAnimation?this.driver.query(K,JO,!0).forEach(we=>B.add(we)):j.add(K))}let me=new Map,Ye=RC(S,Array.from(B));Ye.forEach((G,K)=>{let ne=og+D++;me.set(K,ne),G.forEach(we=>An(we,ne))}),t.push(()=>{C.forEach((G,K)=>{let ne=I.get(K);G.forEach(we=>es(we,ne))}),Ye.forEach((G,K)=>{let ne=me.get(K);G.forEach(we=>es(we,ne))}),F.forEach(G=>{this.processLeaveNode(G)})});let Zn=[],jt=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(e).forEach(ne=>{let we=ne.player,Ct=ne.element;if(Zn.push(we),this.collectedEnterElements.length){let Mt=Ct[Gn];if(Mt&&Mt.setForMove){if(Mt.previousTriggersValues&&Mt.previousTriggersValues.has(ne.triggerName)){let hr=Mt.previousTriggersValues.get(ne.triggerName),Tn=this.statesByElement.get(ne.element);if(Tn&&Tn.has(ne.triggerName)){let Fa=Tn.get(ne.triggerName);Fa.value=hr,Tn.set(ne.triggerName,Fa)}}we.destroy();return}}let Qn=!_||!this.driver.containsElement(_,Ct),ln=me.get(Ct),Ui=I.get(Ct),Xe=this._buildInstruction(ne,i,Ui,ln,Qn);if(Xe.errors&&Xe.errors.length){jt.push(Xe);return}if(Qn){we.onStart(()=>Yr(Ct,Xe.fromStyles)),we.onDestroy(()=>di(Ct,Xe.toStyles)),r.push(we);return}if(ne.isFallbackTransition){we.onStart(()=>Yr(Ct,Xe.fromStyles)),we.onDestroy(()=>di(Ct,Xe.toStyles)),r.push(we);return}let d0=[];Xe.timelines.forEach(Mt=>{Mt.stretchStartingKeyframe=!0,this.disabledNodes.has(Mt.element)||d0.push(Mt)}),Xe.timelines=d0,i.append(Ct,Xe.timelines);let Wx={instruction:Xe,player:we,element:Ct};s.push(Wx),Xe.queriedElements.forEach(Mt=>xn(d,Mt,[]).push(we)),Xe.preStyleProps.forEach((Mt,hr)=>{if(Mt.size){let Tn=p.get(hr);Tn||p.set(hr,Tn=new Set),Mt.forEach((Fa,Uu)=>Tn.add(Uu))}}),Xe.postStyleProps.forEach((Mt,hr)=>{let Tn=m.get(hr);Tn||m.set(hr,Tn=new Set),Mt.forEach((Fa,Uu)=>Tn.add(Uu))})});if(jt.length){let G=[];jt.forEach(K=>{G.push(vO(K.triggerName,K.errors))}),Zn.forEach(K=>K.destroy()),this.reportError(G)}let $t=new Map,Qt=new Map;s.forEach(G=>{let K=G.element;i.has(K)&&(Qt.set(K,K),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,$t))}),r.forEach(G=>{let K=G.element;this._getPreviousPlayers(K,!1,G.namespaceId,G.triggerName,null).forEach(we=>{xn($t,K,[]).push(we),we.destroy()})});let fr=F.filter(G=>NC(G,p,m)),no=new Map;AC(no,this.driver,j,m,ci).forEach(G=>{NC(G,p,m)&&fr.push(G)});let mr=new Map;C.forEach((G,K)=>{AC(mr,this.driver,new Set(G),p,vd)}),fr.forEach(G=>{let K=no.get(G),ne=mr.get(G);no.set(G,new Map([...K?.entries()??[],...ne?.entries()??[]]))});let Bu=[],l0=[],c0={};s.forEach(G=>{let{element:K,player:ne,instruction:we}=G;if(i.has(K)){if(v.has(K)){ne.onDestroy(()=>di(K,we.toStyles)),ne.disabled=!0,ne.overrideTotalTime(we.totalTime),r.push(ne);return}let Ct=c0;if(Qt.size>1){let ln=K,Ui=[];for(;ln=ln.parentNode;){let Xe=Qt.get(ln);if(Xe){Ct=Xe;break}Ui.push(ln)}Ui.forEach(Xe=>Qt.set(Xe,Ct))}let Qn=this._buildAnimation(ne.namespaceId,we,$t,o,mr,no);if(ne.setRealPlayer(Qn),Ct===c0)Bu.push(ne);else{let ln=this.playersByElement.get(Ct);ln&&ln.length&&(ne.parentPlayer=lr(ln)),r.push(ne)}}else Yr(K,we.fromStyles),ne.onDestroy(()=>di(K,we.toStyles)),l0.push(ne),v.has(K)&&r.push(ne)}),l0.forEach(G=>{let K=o.get(G.element);if(K&&K.length){let ne=lr(K);G.setRealPlayer(ne)}}),r.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<F.length;G++){let K=F[G],ne=K[Gn];if(es(K,og),ne&&ne.hasAnimation)continue;let we=[];if(d.size){let Qn=d.get(K);Qn&&Qn.length&&we.push(...Qn);let ln=this.driver.query(K,sg,!0);for(let Ui=0;Ui<ln.length;Ui++){let Xe=d.get(ln[Ui]);Xe&&Xe.length&&we.push(...Xe)}}let Ct=we.filter(Qn=>!Qn.destroyed);Ct.length?rA(this,K,Ct):this.processLeaveNode(K)}return F.length=0,Bu.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();let K=this.players.indexOf(G);this.players.splice(K,1)}),G.play()}),Bu}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){let d=this.playersByQueriedElement.get(t);d&&(s=d)}else{let d=this.playersByElement.get(t);if(d){let p=!o||o==xa;d.forEach(m=>{m.queued||!p&&m.triggerName!=r||s.push(m)})}}return(i||r)&&(s=s.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),s}_beforeAnimationBuild(t,e,i){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:r;for(let p of e.timelines){let m=p.element,v=m!==o,_=xn(i,m,[]);this._getPreviousPlayers(m,v,s,d,e.toState).forEach(C=>{let I=C.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),C.destroy(),_.push(C)})}Yr(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){let d=e.triggerName,p=e.element,m=[],v=new Set,_=new Set,S=e.timelines.map(I=>{let D=I.element;v.add(D);let F=D[Gn];if(F&&F.removedBeforeQueried)return new ar(I.duration,I.delay);let B=D!==p,j=oA((i.get(D)||XO).map($t=>$t.getRealPlayer())).filter($t=>{let Qt=$t;return Qt.element?Qt.element===D:!1}),me=o.get(D),Ye=s.get(D),Zn=FC(this._normalizer,I.keyframes,me,Ye),jt=this._buildPlayer(I,Zn,j);if(I.subTimeline&&r&&_.add(D),B){let $t=new Ea(t,d,D);$t.setRealPlayer(jt),m.push($t)}return jt});m.forEach(I=>{xn(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>tA(this.playersByQueriedElement,I.element,I))}),v.forEach(I=>An(I,SC));let C=lr(S);return C.onDestroy(()=>{v.forEach(I=>es(I,SC)),di(p,e.toStyles)}),_.forEach(I=>{xn(r,I,[]).push(C)}),C}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ar(t.duration,t.delay)}},Ea=class{namespaceId;triggerName;element;_player=new ar;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>bg(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){xn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function tA(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function nA(n){return n??null}function Cd(n){return n&&n.nodeType===1}function iA(n){return n=="start"||n=="done"}function OC(n,t){let e=n.style.display;return n.style.display=t??"none",e}function AC(n,t,e,i,r){let o=[];e.forEach(p=>o.push(OC(p)));let s=[];i.forEach((p,m)=>{let v=new Map;p.forEach(_=>{let S=t.computeStyle(m,_,r);v.set(_,S),(!S||S.length==0)&&(m[Gn]=eA,s.push(m))}),n.set(m,v)});let d=0;return e.forEach(p=>OC(p,o[d++])),s}function RC(n,t){let e=new Map;if(n.forEach(d=>e.set(d,[])),t.length==0)return e;let i=1,r=new Set(t),o=new Map;function s(d){if(!d)return i;let p=o.get(d);if(p)return p;let m=d.parentNode;return e.has(m)?p=m:r.has(m)?p=i:p=s(m),o.set(d,p),p}return t.forEach(d=>{let p=s(d);p!==i&&e.get(p).push(d)}),e}function An(n,t){n.classList?.add(t)}function es(n,t){n.classList?.remove(t)}function rA(n,t,e){lr(e).onDone(()=>n.processLeaveNode(t))}function oA(n){let t=[];return WC(n,t),t}function WC(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof ba?WC(i.players,t):t.push(i)}}function sA(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function NC(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}var ts=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new _g(t.body,e,i),this._timelineEngine=new gg(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){let s=t+"-"+r,d=this._triggerCache[s];if(!d){let p=[],m=[],v=HC(this._driver,o,p,m);if(p.length)throw sO(r,p);d=GO(r,v,this._normalizer),this._triggerCache[s]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[o,s]=wC(i),d=r;this._timelineEngine.command(o,e,s,d)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if(i.charAt(0)=="@"){let[s,d]=wC(i);return this._timelineEngine.listen(s,e,d,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function aA(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=rg(t[0]),t.length>1&&(i=rg(t[t.length-1]))):t instanceof Map&&(e=rg(t)),e||i?new lA(n,e,i):null}var lA=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&di(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(di(this._element,this._initialStyles),this._endStyles&&(di(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Yr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yr(this._element,this._endStyles),this._endStyles=null),di(this._element,this._initialStyles),this._state=3)}}return n})();function rg(n){let t=null;return n.forEach((e,i)=>{cA(i)&&(t=t||new Map,t.set(i,e))}),t}function cA(n){return n==="display"||n==="position"}var kd=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:Sg(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Md=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return VC(t,e)}getParentElement(t){return xg(t)}query(t,e,i){return LC(t,e,i)}computeStyle(t,e,i){return Sg(t,e)}animate(t,e,i,r,o,s=[]){let d=r==0?"both":"forwards",p={duration:i,delay:r,fill:d};o&&(p.easing=o);let m=new Map,v=s.filter(C=>C instanceof kd);PO(i,r)&&v.forEach(C=>{C.currentSnapshot.forEach((I,D)=>m.set(D,I))});let _=SO(e).map(C=>new Map(C));_=DO(t,_,m);let S=aA(t,_);return new kd(t,_,p,S)}};var xd="@",YC="@.disabled",Od=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==xd&&e==YC?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.delegate.listen(t,e,i,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},yg=class extends Od{factory;constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==xd?e.charAt(1)=="."&&e==YC?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,r){if(e.charAt(0)==xd){let o=dA(t),s=e.slice(1),d="";return s.charAt(0)!=xd&&([s,d]=uA(s)),this.engine.listen(this.namespaceId,o,s,d,p=>{let m=p._data||-1;this.factory.scheduleListenerCallback(m,i,p)})}return this.delegate.listen(t,e,i,r)}};function dA(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function uA(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var Ad=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let i="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let m=this._rendererCache,v=m.get(r);if(!v){let _=()=>m.delete(r);v=new Od(i,r,this.engine,_),m.set(r,v)}return v}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let d=m=>{Array.isArray(m)?m.forEach(d):this.engine.registerTrigger(o,s,t,m.name,m)};return e.data.animation.forEach(d),new yg(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,d]=o;s(d)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var fA=(()=>{class n extends ts{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(L(ze),L(Zr),L(Qr))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function mA(){return new Sd}function hA(n,t,e){return new Ad(n,t,e)}var ZC=[{provide:Qr,useFactory:mA},{provide:ts,useClass:fA},{provide:Yi,useFactory:hA,deps:[Qc,ts,Ve]}],XW=[{provide:Zr,useClass:wg},{provide:pm,useValue:"NoopAnimations"},...ZC],gA=[{provide:Zr,useFactory:()=>new Md},{provide:pm,useFactory:()=>"BrowserAnimations"},...ZC];function QC(){return Qi("NgEagerAnimations"),[...gA]}var Q={production:!0,apiUrl:"api/",clientId:"YOUR_CLIENT_ID.apps.googleusercontent.com"};var Rd=(()=>{class n{constructor(e,i){this.document=e,this.platformId=i,this.documentIsAccessible=X1(this.platformId)}static getCookieRegExp(e){let i=e.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+i+"|;\\s*"+i+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch{return e}}check(e){return this.documentIsAccessible?(e=encodeURIComponent(e),n.getCookieRegExp(e).test(this.document.cookie)):!1}get(e){if(this.check(e)){e=encodeURIComponent(e);let r=n.getCookieRegExp(e).exec(this.document.cookie);return r&&r[1]?n.safeDecodeURIComponent(r[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let e={},i=this.document;return i.cookie&&i.cookie!==""&&i.cookie.split(";").forEach(r=>{let[o,s]=r.split("=");e[n.safeDecodeURIComponent(o.replace(/^ /,""))]=n.safeDecodeURIComponent(s)}),e}set(e,i,r,o,s,d,p,m){if(!this.documentIsAccessible)return;if(typeof r=="number"||r instanceof Date||o||s||d||p){let S={expires:r,path:o,domain:s,secure:d,sameSite:p||"Lax",partitioned:m};this.set(e,i,S);return}let v=encodeURIComponent(e)+"="+encodeURIComponent(i)+";",_=r||{};if(_.expires)if(typeof _.expires=="number"){let S=new Date(new Date().getTime()+_.expires*1e3*60*60*24);v+="expires="+S.toUTCString()+";"}else v+="expires="+_.expires.toUTCString()+";";_.path&&(v+="path="+_.path+";"),_.domain&&(v+="domain="+_.domain+";"),_.secure===!1&&_.sameSite==="None"&&(_.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),_.secure&&(v+="secure;"),_.sameSite||(_.sameSite="Lax"),v+="sameSite="+_.sameSite+";",_.partitioned&&(v+="Partitioned;"),this.document.cookie=v}delete(e,i,r,o,s="Lax"){if(!this.documentIsAccessible)return;let d=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(e,"",{expires:d,path:i,domain:r,secure:o,sameSite:s})}deleteAll(e,i,r,o="Lax"){if(!this.documentIsAccessible)return;let s=this.getAll();for(let d in s)s.hasOwnProperty(d)&&this.delete(d,e,i,r,o)}static{this.\u0275fac=function(i){return new(i||n)(L(ze),L(Ti))}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var KC=["toast-component",""];function vA(n,t){if(n&1){let e=P();a(0,"button",5),b("click",function(){w(e);let r=h();return T(r.remove())}),a(1,"span",6),u(2,"\xD7"),l()()}}function _A(n,t){if(n&1&&(er(0),u(1),tr()),n&2){let e=h(2);c(),x("[",e.duplicatesCount+1,"]")}}function yA(n,t){if(n&1&&(a(0,"div"),u(1),y(2,_A,2,1,"ng-container",4),l()),n&2){let e=h();De(e.options.titleClass),Pt("aria-label",e.title),c(),x(" ",e.title," "),c(),f("ngIf",e.duplicatesCount)}}function bA(n,t){if(n&1&&g(0,"div",7),n&2){let e=h();De(e.options.messageClass),f("innerHTML",e.message,Ki)}}function CA(n,t){if(n&1&&(a(0,"div",8),u(1),l()),n&2){let e=h();De(e.options.messageClass),Pt("aria-label",e.message),c(),x(" ",e.message," ")}}function xA(n,t){if(n&1&&(a(0,"div"),g(1,"div",9),l()),n&2){let e=h();c(),oe("width",e.width()+"%")}}function wA(n,t){if(n&1){let e=P();a(0,"button",5),b("click",function(){w(e);let r=h();return T(r.remove())}),a(1,"span",6),u(2,"\xD7"),l()()}}function TA(n,t){if(n&1&&(er(0),u(1),tr()),n&2){let e=h(2);c(),x("[",e.duplicatesCount+1,"]")}}function SA(n,t){if(n&1&&(a(0,"div"),u(1),y(2,TA,2,1,"ng-container",4),l()),n&2){let e=h();De(e.options.titleClass),Pt("aria-label",e.title),c(),x(" ",e.title," "),c(),f("ngIf",e.duplicatesCount)}}function EA(n,t){if(n&1&&g(0,"div",7),n&2){let e=h();De(e.options.messageClass),f("innerHTML",e.message,Ki)}}function IA(n,t){if(n&1&&(a(0,"div",8),u(1),l()),n&2){let e=h();De(e.options.messageClass),Pt("aria-label",e.message),c(),x(" ",e.message," ")}}function PA(n,t){if(n&1&&(a(0,"div"),g(1,"div",9),l()),n&2){let e=h();c(),oe("width",e.width()+"%")}}var Ig=class{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Pg=class{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},Dg=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new be;_activate=new be;_manualClose=new be;_resetTimeout=new be;_countDuplicate=new be;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},ns=class{toastId;config;message;title;toastType;toastRef;_onTap=new be;_onAction=new be;constructor(t,e,i,r,o,s){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},JC={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},XC=new $("ToastConfig"),kg=class extends Pg{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){let i=this._componentFactoryResolver.resolveComponentFactory(t.component),r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},DA=(()=>{class n{_document=E(ze);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mg=class{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}},kA=(()=>{class n{_overlayContainer=E(DA);_componentFactoryResolver=E(Fo);_appRef=E(fn);_document=E(ze);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new kg(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new Mg(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),re=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,r,o,s){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=s,this.toastrConfig=O(O({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=O(O({},e.default.iconClasses),e.config.iconClasses))}show(e,i,r={},o=""){return this._preBuildNotification(o,e,i,this.applyConfig(r))}success(e,i,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}error(e,i,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}info(e,i,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}warning(e,i,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}clear(e){for(let i of this.toasts)if(e!==void 0){if(i.toastId===e){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(e){let i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,o){let{includeTitleDuplicates:s}=this.toastrConfig;for(let d of this.toasts){let p=s&&d.title===e;if((!s||p)&&d.message===i)return d.toastRef.onDuplicate(r,o),d}return null}applyConfig(e={}){return O(O({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,o)):this._buildNotification(e,i,r,o)}_buildNotification(e,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let s=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&s!==null)return s;this.previousToastMessage=i;let d=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(d=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let p=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let m=i;i&&o.enableHtml&&(m=this.sanitizer.sanitize(hn.HTML,i));let v=new Dg(p),_=new ns(this.index,o,m,r,e,v),S=[{provide:ns,useValue:_}],C=dt.create({providers:S,parent:this._injector}),I=new Ig(o.toastComponent,C),D=p.attach(I,o.newestOnTop);v.componentInstance=D.instance;let F={toastId:this.index,title:r||"",message:i||"",toastRef:v,onShown:v.afterActivate(),onHidden:v.afterClosed(),onTap:_.onTap(),onAction:_.onAction(),portal:D};return d||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{F.toastRef.activate()})),this.toasts.push(F),F}static \u0275fac=function(i){return new(i||n)(L(XC),L(kA),L(dt),L(Js),L(Ve))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MA=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=xe(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=xe({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>Z(O({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>Z(O({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>Z(O({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||n)(R(re),R(ns),R(Ve))};static \u0275cmp=z({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&b("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Bm("@flyInOut",r._state),De(r.toastClasses),oe("display",r.displayStyle))},attrs:KC,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&y(0,vA,3,0,"button",0)(1,yA,3,5,"div",1)(2,bA,1,3,"div",2)(3,CA,2,4,"div",3)(4,xA,2,2,"div",4),i&2&&(f("ngIf",r.options.closeButton),c(),f("ngIf",r.title),c(),f("ngIf",r.message&&r.options.enableHtml),c(),f("ngIf",r.message&&!r.options.enableHtml),c(),f("ngIf",r.options.progressBar))},dependencies:[ee],encapsulation:2,data:{animation:[Xo("flyInOut",[Ni("inactive",an({opacity:0})),Ni("active",an({opacity:1})),Ni("removed",an({opacity:0})),Fi("inactive => active",Ri("{{ easeTime }}ms {{ easing }}")),Fi("active => removed",Ri("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),OA=Z(O({},JC),{toastComponent:MA}),AA=(n={})=>oi([{provide:XC,useValue:{default:OA,config:n}}]),ex=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[AA(e)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Lt({type:n});static \u0275inj=Ft({})}return n})();var RA=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=xe(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=xe("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||n)(R(re),R(ns),R(fn))};static \u0275cmp=z({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&b("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(De(r.toastClasses),oe("display",r.displayStyle))},attrs:KC,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&y(0,wA,3,0,"button",0)(1,SA,3,5,"div",1)(2,EA,1,3,"div",2)(3,IA,2,4,"div",3)(4,PA,2,2,"div",4),i&2&&(f("ngIf",r.options.closeButton),c(),f("ngIf",r.title),c(),f("ngIf",r.message&&r.options.enableHtml),c(),f("ngIf",r.message&&!r.options.enableHtml),c(),f("ngIf",r.options.progressBar))},dependencies:[ee],encapsulation:2,changeDetection:0})}return n})(),yY=Z(O({},JC),{toastComponent:RA});var Fd=class{validateSignature(t){return Promise.resolve(null)}validateAtHash(t){return Promise.resolve(!0)}},Vd=class{};var Ia=class{},NA=(()=>{class n extends Ia{now(){return Date.now()}new(){return new Date}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=qt(n)))(r||n)}})()}static{this.\u0275prov=N({token:n,factory:n.\u0275fac})}}return n})();var Ld=class{},Bd=class{},FA=(()=>{class n{constructor(){this.data=new Map}getItem(e){return this.data.get(e)}removeItem(e){this.data.delete(e)}setItem(e,i){this.data.set(e,i)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac})}}return n})();var Pa=class{constructor(t){this.type=t}},Zt=class extends Pa{constructor(t,e=null){super(t),this.info=e}},Wn=class extends Pa{constructor(t,e=null){super(t),this.info=e}},tt=class extends Pa{constructor(t,e,i=null){super(t),this.reason=e,this.params=i}};function tx(n){let t=n.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function nx(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var is=class{constructor(t){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=e=>{location.href=e},t&&Object.assign(this,t)}},Kr=class{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}},Ud=class{};var ix=(()=>{class n{getHashFragmentParams(e){let i=e||window.location.hash;if(i=decodeURIComponent(i),i.indexOf("#")!==0)return{};let r=i.indexOf("?");return r>-1?i=i.substr(r+1):i=i.substr(1),this.parseQueryString(i)}parseQueryString(e){let i={},r,o,s,d,p,m;if(e===null)return i;let v=e.split("&");for(let _=0;_<v.length;_++)r=v[_],o=r.indexOf("="),o===-1?(s=r,d=null):(s=r.substr(0,o),d=r.substr(o+1)),p=decodeURIComponent(s),m=decodeURIComponent(d),p.substr(0,1)==="/"&&(p=p.substr(1)),i[p]=m;return i}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac})}}return n})(),rx=32,VA=64,LA=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Og(n,t,e,i,r){let o,s,d,p,m,v,_,S,C,I,D,F,B;for(;r>=64;){for(o=t[0],s=t[1],d=t[2],p=t[3],m=t[4],v=t[5],_=t[6],S=t[7],I=0;I<16;I++)D=i+I*4,n[I]=(e[D]&255)<<24|(e[D+1]&255)<<16|(e[D+2]&255)<<8|e[D+3]&255;for(I=16;I<64;I++)C=n[I-2],F=(C>>>17|C<<15)^(C>>>19|C<<13)^C>>>10,C=n[I-15],B=(C>>>7|C<<25)^(C>>>18|C<<14)^C>>>3,n[I]=(F+n[I-7]|0)+(B+n[I-16]|0);for(I=0;I<64;I++)F=(((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&v^~m&_)|0)+(S+(LA[I]+n[I]|0)|0)|0,B=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&d^s&d)|0,S=_,_=v,v=m,m=p+F|0,p=d,d=s,s=o,o=F+B|0;t[0]+=o,t[1]+=s,t[2]+=d,t[3]+=p,t[4]+=m,t[5]+=v,t[6]+=_,t[7]+=S,i+=64,r-=64}return i}var Ag=class{constructor(){this.digestLength=rx,this.blockSize=VA,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(let t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(t,e=t.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let i=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[i++],e--;this.bufferLength===64&&(Og(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(i=Og(this.temp,this.state,t,i,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[i++],e--;return this}finish(t){if(!this.finished){let e=this.bytesHashed,i=this.bufferLength,r=e/536870912|0,o=e<<3,s=e%64<56?64:128;this.buffer[i]=128;for(let d=i+1;d<s-8;d++)this.buffer[d]=0;this.buffer[s-8]=r>>>24&255,this.buffer[s-7]=r>>>16&255,this.buffer[s-6]=r>>>8&255,this.buffer[s-5]=r>>>0&255,this.buffer[s-4]=o>>>24&255,this.buffer[s-3]=o>>>16&255,this.buffer[s-2]=o>>>8&255,this.buffer[s-1]=o>>>0&255,Og(this.temp,this.state,this.buffer,0,s),this.finished=!0}for(let e=0;e<8;e++)t[e*4+0]=this.state[e]>>>24&255,t[e*4+1]=this.state[e]>>>16&255,t[e*4+2]=this.state[e]>>>8&255,t[e*4+3]=this.state[e]>>>0&255;return this}digest(){let t=new Uint8Array(this.digestLength);return this.finish(t),t}_saveState(t){for(let e=0;e<this.state.length;e++)t[e]=this.state[e]}_restoreState(t,e){for(let i=0;i<this.state.length;i++)this.state[i]=t[i];this.bytesHashed=e,this.finished=!1,this.bufferLength=0}};function BA(n){let t=new Ag().update(n),e=t.digest();return t.clean(),e}var kY=new Uint8Array(rx);var jd=class{};function UA(n){if(typeof n!="string")throw new TypeError("expected string");let t=n,e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}function jA(n){let t=[];for(let e=0;e<n.length;e++)t.push(String.fromCharCode(n[e]));return t.join("")}var $A=(()=>{class n{calcHash(e,i){return U(this,null,function*(){return jA(BA(UA(e)))})}toHashString2(e){let i="";for(let r of e)i+=String.fromCharCode(r);return i}toHashString(e){let i=new Uint8Array(e),r="";for(let o of i)r+=String.fromCharCode(o);return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac})}}return n})(),Hd=(()=>{class n extends is{constructor(e,i,r,o,s,d,p,m,v,_){super(),this.ngZone=e,this.http=i,this.config=s,this.urlHelper=d,this.logger=p,this.crypto=m,this.dateTimeService=_,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new be,this.discoveryDocumentLoadedSubject=new be,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=v,s||(s={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),s&&this.configure(s);try{r?this.setStorage(r):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(S){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",S)}if(this.checkLocalStorageAccessable()){let S=window?.navigator?.userAgent;(S?.includes("MSIE ")||S?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let e="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(e,e),localStorage.removeItem(e),!0)}catch{return!1}}configure(e){Object.assign(this,new is,e),this.config=Object.assign({},new is,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(Pe(e=>e.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(e={},i,r=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(Ae(s=>{s.type==="token_received"?o=!0:s.type==="logout"&&(o=!1)}),Pe(s=>s.type==="token_expires"&&(i==null||i==="any"||s.info===i)),uo(1e3)).subscribe(()=>{o&&this.refreshInternal(e,r).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(e,i){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(e,i)}loadDiscoveryDocumentAndTryLogin(e=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(e))}loadDiscoveryDocumentAndLogin(e=null){return e=e||{},this.loadDiscoveryDocumentAndTryLogin(e).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let i=typeof e.state=="string"?e.state:"";return this.initLoginFlow(i),!1}else return!0})}debug(...e){this.showDebugInformation&&this.logger.debug(...e)}validateUrlFromDiscoveryDocument(e){let i=[],r=this.validateUrlForHttps(e),o=this.validateUrlAgainstIssuer(e);return r||i.push("https for all urls required. Also for urls received by discovery."),o||i.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),i}validateUrlForHttps(e){if(!e)return!0;let i=e.toLowerCase();return this.requireHttps===!1||(i.match(/^http:\/\/localhost($|[:/])/)||i.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:i.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(e,i){if(!e)throw new Error(`'${i}' should not be null`);if(!this.validateUrlForHttps(e))throw new Error(`'${i}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(e){return!this.strictDiscoveryDocumentValidation||!e?!0:e.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(Pe(e=>e.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let e=this.getAccessTokenExpiration(),i=this.getAccessTokenStoredAt(),r=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=H(new Wn("token_expires","access_token")).pipe(Xn(r)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){let e=this.getIdTokenExpiration(),i=this.getIdTokenStoredAt(),r=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=H(new Wn("token_expires","id_token")).pipe(Xn(r)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(e,i){let r=this.dateTimeService.now(),o=(i-e)*this.timeoutFactor-(r-e),s=Math.max(0,o),d=2147483647;return s>d?d:s}setStorage(e){this._storage=e,this.configChanged()}loadDiscoveryDocument(e=null){return new Promise((i,r)=>{if(e||(e=this.issuer||"",e.endsWith("/")||(e+="/"),e+=".well-known/openid-configuration"),!this.validateUrlForHttps(e)){r("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(e).subscribe(o=>{if(!this.validateDiscoveryDocument(o)){this.eventsSubject.next(new tt("discovery_document_validation_error",null)),r("discovery_document_validation_error");return}this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(s=>{let d={discoveryDocument:o,jwks:s},p=new Zt("discovery_document_loaded",d);this.eventsSubject.next(p),i(p)}).catch(s=>{this.eventsSubject.next(new tt("discovery_document_load_error",s)),r(s)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new tt("discovery_document_load_error",o)),r(o)})})}loadJwks(){return new Promise((e,i)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(r=>{this.jwks=r,e(r)},r=>{this.logger.error("error loading jwks",r),this.eventsSubject.next(new tt("jwks_load_error",r)),i(r)}):e(null)})}validateDiscoveryDocument(e){let i;return!this.skipIssuerCheck&&e.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1):(i=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint),i.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint),i.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.token_endpoint),i.length>0&&this.logger.error("error validating token_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.revocation_endpoint),i.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint),i.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.jwks_uri),i.length>0?(this.logger.error("error validating jwks_uri in discovery document",i),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(e,i,r=new Dt){return this.fetchTokenUsingPasswordFlow(e,i,r).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((e,i)=>{let r=new Dt().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:r,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let s=JSON.parse(o.body),d=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!d.sub||s.sub!==d.sub)){i(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}s=Object.assign({},d,s),this._storage.setItem("id_token_claims_obj",JSON.stringify(s)),this.eventsSubject.next(new Zt("user_profile_loaded")),e({info:s})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Zt("user_profile_loaded")),e(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new tt("user_profile_load_error",o)),i(o)})})}fetchTokenUsingPasswordFlow(e,i,r=new Dt){let o={username:e,password:i};return this.fetchTokenUsingGrant("password",o,r)}fetchTokenUsingGrant(e,i,r=new Dt){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new sn({encoder:new Kr}).set("grant_type",e).set("scope",this.scope);if(this.useHttpBasicAuth){let s=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+s)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let s of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(s,this.customQueryParams[s]);for(let s of Object.keys(i))o=o.set(s,i[s]);return r=r.set("Content-Type","application/x-www-form-urlencoded"),new Promise((s,d)=>{this.http.post(this.tokenEndpoint,o,{headers:r}).subscribe(p=>{this.debug("tokenResponse",p),this.storeAccessTokenResponse(p.access_token,p.refresh_token,p.expires_in||this.fallbackAccessTokenExpirationTimeInSec,p.scope,this.extractRecognizedCustomParameters(p)),this.oidc&&p.id_token&&this.processIdToken(p.id_token,p.access_token).then(m=>{this.storeIdToken(m),s(p)}),this.eventsSubject.next(new Zt("token_received")),s(p)},p=>{this.logger.error("Error performing ${grantType} flow",p),this.eventsSubject.next(new tt("token_error",p)),d(p)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((e,i)=>{let r=new sn({encoder:new Kr}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=new Dt().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let s=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+s)}if(this.useHttpBasicAuth||(r=r.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(r=r.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let s of Object.getOwnPropertyNames(this.customQueryParams))r=r.set(s,this.customQueryParams[s]);this.http.post(this.tokenEndpoint,r,{headers:o}).pipe(vt(s=>this.oidc&&s.id_token?Ie(this.processIdToken(s.id_token,s.access_token,!0)).pipe(Ae(d=>this.storeIdToken(d)),W(()=>s)):H(s))).subscribe(s=>{this.debug("refresh tokenResponse",s),this.storeAccessTokenResponse(s.access_token,s.refresh_token,s.expires_in||this.fallbackAccessTokenExpirationTimeInSec,s.scope,this.extractRecognizedCustomParameters(s)),this.eventsSubject.next(new Zt("token_received")),this.eventsSubject.next(new Zt("token_refreshed")),e(s)},s=>{this.logger.error("Error refreshing token",s),this.eventsSubject.next(new tt("token_refresh_error",s)),i(s)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=e=>{let i=this.processMessageEventMessage(e);this.checkOrigin&&e.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:i,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(r=>this.debug("tryLogin during silent refresh failed",r))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(e={},i=!0){let r=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(e.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=r.sub;let s=this.document.createElement("iframe");s.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let d=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,d,i,e).then(_=>{s.setAttribute("src",_),this.silentRefreshShowIFrame||(s.style.display="none"),this.document.body.appendChild(s)});let p=this.events.pipe(Pe(_=>_ instanceof tt),dn()),m=this.events.pipe(Pe(_=>_.type==="token_received"),dn()),v=H(new tt("silent_refresh_timeout",null)).pipe(Xn(this.silentRefreshTimeout));return cp([p,m,v]).pipe(W(_=>{if(_ instanceof tt)throw _.type==="silent_refresh_timeout"?this.eventsSubject.next(_):(_=new tt("silent_refresh_error",_),this.eventsSubject.next(_)),_;return _.type==="token_received"&&(_=new Zt("silently_refreshed"),this.eventsSubject.next(_)),_})).toPromise()}initImplicitFlowInPopup(e){return this.initLoginFlowInPopup(e)}initLoginFlowInPopup(e){return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(i=>new Promise((r,o)=>{let d=null;e.windowRef?e.windowRef&&!e.windowRef.closed&&(d=e.windowRef,d.location.href=i):d=window.open(i,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(e));let p,m=I=>{this.tryLogin({customHashFragment:I,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{_(),r(!0)},D=>{_(),o(D)})},v=()=>{(!d||d.closed)&&(_(),o(new tt("popup_closed",{})))};d?p=window.setInterval(v,500):o(new tt("popup_blocked",{}));let _=()=>{window.clearInterval(p),window.removeEventListener("storage",C),window.removeEventListener("message",S),d!==null&&d.close(),d=null},S=I=>{let D=this.processMessageEventMessage(I);D&&D!==null?(window.removeEventListener("storage",C),m(D)):console.log("false event firing")},C=I=>{I.key==="auth_hash"&&(window.removeEventListener("message",S),m(I.newValue))};window.addEventListener("message",S),window.addEventListener("storage",C)}))}calculatePopupFeatures(e){let i=e.height||470,r=e.width||500,o=window.screenLeft+(window.outerWidth-r)/2,s=window.screenTop+(window.outerHeight-i)/2;return`location=no,toolbar=no,width=${r},height=${i},top=${s},left=${o}`}processMessageEventMessage(e){let i="#";if(this.silentRefreshMessagePrefix&&(i+=this.silentRefreshMessagePrefix),!e||!e.data||typeof e.data!="string")return;let r=e.data;if(r.startsWith(i))return"#"+r.substr(i.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=e=>{let i=e.origin.toLowerCase(),r=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!r.startsWith(i)){this.debug("sessionCheckEventListener","wrong origin",i,"expected",r,"event",e);return}switch(e.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",e)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Wn("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Wn("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Wn("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Wn("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(Pe(e=>e.type==="silently_refreshed"||e.type==="silent_refresh_timeout"||e.type==="silent_refresh_error"),dn()).subscribe(e=>{e.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Wn("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Wn("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let e=this.document.getElementById(this.sessionCheckIFrameName);e&&this.document.body.removeChild(e);let i=this.document.createElement("iframe");i.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let r=this.sessionCheckIFrameUrl;i.setAttribute("src",r),i.style.display="none",this.document.body.appendChild(i),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let e=this.document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let i=this.getSessionState();i||this.stopSessionCheckTimer();let r=this.clientId+" "+i;e.contentWindow.postMessage(r,this.issuer)}createLoginUrl(){return U(this,arguments,function*(e="",i="",r="",o=!1,s={}){let d=this,p;r?p=r:p=this.redirectUri;let m=yield this.createAndSaveNonce();if(e?e=m+this.config.nonceStateSeparator+encodeURIComponent(e):e=m,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let v=d.loginUrl.indexOf("?")>-1?"&":"?",_=d.scope;this.oidc&&!_.match(/(^|\s)openid($|\s)/)&&(_="openid "+_);let S=d.loginUrl+v+"response_type="+encodeURIComponent(d.responseType)+"&client_id="+encodeURIComponent(d.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(p)+"&scope="+encodeURIComponent(_);if(this.responseType.includes("code")&&!this.disablePKCE){let[C,I]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",I):this._storage.setItem("PKCE_verifier",I),S+="&code_challenge="+C,S+="&code_challenge_method=S256"}i&&(S+="&login_hint="+encodeURIComponent(i)),d.resource&&(S+="&resource="+encodeURIComponent(d.resource)),d.oidc&&(S+="&nonce="+encodeURIComponent(m)),o&&(S+="&prompt=none");for(let C of Object.keys(s))S+="&"+encodeURIComponent(C)+"="+encodeURIComponent(s[C]);if(this.customQueryParams)for(let C of Object.getOwnPropertyNames(this.customQueryParams))S+="&"+C+"="+encodeURIComponent(this.customQueryParams[C]);return S})}initImplicitFlowInternal(e="",i=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let r={},o=null;typeof i=="string"?o=i:typeof i=="object"&&(r=i),this.createLoginUrl(e,o,null,!1,r).then(this.config.openUri).catch(s=>{console.error("Error in initImplicitFlow",s),this.inImplicitFlow=!1})}initImplicitFlow(e="",i=""){this.loginUrl!==""?this.initImplicitFlowInternal(e,i):this.events.pipe(Pe(r=>r.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(e,i))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(e){let i=this;if(e.onTokenReceived){let r={idClaims:i.getIdentityClaims(),idToken:i.getIdToken(),accessToken:i.getAccessToken(),state:i.state};e.onTokenReceived(r)}}storeAccessTokenResponse(e,i,r,o,s){if(this._storage.setItem("access_token",e),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),r){let d=r*1e3,m=this.dateTimeService.new().getTime()+d;this._storage.setItem("expires_at",""+m)}i&&this._storage.setItem("refresh_token",i),s&&s.forEach((d,p)=>{this._storage.setItem(p,d)})}tryLogin(e=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(e).then(()=>!0):this.tryLoginImplicitFlow(e)}parseQueryString(e){return!e||e.length===0?{}:(e.charAt(0)==="?"&&(e=e.substr(1)),this.urlHelper.parseQueryString(e))}tryLoginCodeFlow(e=null){return U(this,null,function*(){e=e||{};let i=e.customHashFragment?e.customHashFragment.substring(1):window.location.search,r=this.getCodePartsFromUrl(i),o=r.code,s=r.state,d=r.session_state;if(!e.preventClearHashAfterLogin){let v=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,v)}let[p,m]=this.parseState(s);if(this.state=m,r.error){this.debug("error trying to login"),this.handleLoginError(e,r);let v=new tt("code_error",{},r);return this.eventsSubject.next(v),Promise.reject(v)}if(!e.disableNonceCheck){if(!p)return this.saveRequestedRoute(),Promise.resolve();if(!e.disableOAuth2StateCheck&&!this.validateNonce(p)){let _=new tt("invalid_nonce_in_state",null);return this.eventsSubject.next(_),Promise.reject(_)}}return this.storeSessionState(d),o&&(yield this.getTokenFromCode(o,e),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let e=this._storage.getItem("requested_route");e&&history.replaceState(null,"",window.location.origin+e)}getCodePartsFromUrl(e){return!e||e.length===0?this.urlHelper.getHashFragmentParams():(e.charAt(0)==="?"&&(e=e.substr(1)),this.urlHelper.parseQueryString(e))}getTokenFromCode(e,i){let r=new sn({encoder:new Kr}).set("grant_type","authorization_code").set("code",e).set("redirect_uri",i.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?o=localStorage.getItem("PKCE_verifier"):o=this._storage.getItem("PKCE_verifier"),o?r=r.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(r,i)}fetchAndProcessToken(e,i){i=i||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let r=new Dt().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((o,s)=>{if(this.customQueryParams)for(let d of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(d,this.customQueryParams[d]);this.http.post(this.tokenEndpoint,e,{headers:r}).subscribe(d=>{this.debug("refresh tokenResponse",d),this.storeAccessTokenResponse(d.access_token,d.refresh_token,d.expires_in||this.fallbackAccessTokenExpirationTimeInSec,d.scope,this.extractRecognizedCustomParameters(d)),this.oidc&&d.id_token?this.processIdToken(d.id_token,d.access_token,i.disableNonceCheck).then(p=>{this.storeIdToken(p),this.eventsSubject.next(new Zt("token_received")),this.eventsSubject.next(new Zt("token_refreshed")),o(d)}).catch(p=>{this.eventsSubject.next(new tt("token_validation_error",p)),console.error("Error validating tokens"),console.error(p),s(p)}):(this.eventsSubject.next(new Zt("token_received")),this.eventsSubject.next(new Zt("token_refreshed")),o(d))},d=>{console.error("Error getting token",d),this.eventsSubject.next(new tt("token_refresh_error",d)),s(d)})})}tryLoginImplicitFlow(e=null){e=e||{};let i;e.customHashFragment?i=this.urlHelper.getHashFragmentParams(e.customHashFragment):i=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",i);let r=i.state,[o,s]=this.parseState(r);if(this.state=s,i.error){this.debug("error trying to login"),this.handleLoginError(e,i);let _=new tt("token_error",{},i);return this.eventsSubject.next(_),Promise.reject(_)}let d=i.access_token,p=i.id_token,m=i.session_state,v=i.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!d||this.requestAccessToken&&!e.disableOAuth2StateCheck&&!r||this.oidc&&!p)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!m&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!e.disableNonceCheck&&!this.validateNonce(o)){let S=new tt("invalid_nonce_in_state",null);return this.eventsSubject.next(S),Promise.reject(S)}return this.requestAccessToken&&this.storeAccessTokenResponse(d,null,i.expires_in||this.fallbackAccessTokenExpirationTimeInSec,v),this.oidc?this.processIdToken(p,d,e.disableNonceCheck).then(_=>e.validationHandler?e.validationHandler({accessToken:d,idClaims:_.idTokenClaims,idToken:_.idToken,state:r}).then(()=>_):_).then(_=>(this.storeIdToken(_),this.storeSessionState(m),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Zt("token_received")),this.callOnTokenReceivedIfExists(e),this.inImplicitFlow=!1,!0)).catch(_=>(this.eventsSubject.next(new tt("token_validation_error",_)),this.logger.error("Error validating tokens"),this.logger.error(_),Promise.reject(_))):(this.eventsSubject.next(new Zt("token_received")),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(e),Promise.resolve(!0))}parseState(e){let i=e,r="";if(e){let o=e.indexOf(this.config.nonceStateSeparator);o>-1&&(i=e.substr(0,o),r=e.substr(o+this.config.nonceStateSeparator.length))}return[i,r]}validateNonce(e){let i;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?i=localStorage.getItem("nonce"):i=this._storage.getItem("nonce"),i!==e?(console.error("Validating access_token failed, wrong state/nonce.",i,e),!1):!0}storeIdToken(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(e){this._storage.setItem("session_state",e)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(e,i){e.onLoginError&&e.onLoginError(i),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(e=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?e:this.clockSkewInSec*1e3}processIdToken(e,i,r=!1){let o=e.split("."),s=this.padBase64(o[0]),d=tx(s),p=JSON.parse(d),m=this.padBase64(o[1]),v=tx(m),_=JSON.parse(v),S;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?S=localStorage.getItem("nonce"):S=this._storage.getItem("nonce"),Array.isArray(_.aud)){if(_.aud.every(j=>j!==this.clientId)){let j="Wrong audience: "+_.aud.join(",");return this.logger.warn(j),Promise.reject(j)}}else if(_.aud!==this.clientId){let j="Wrong audience: "+_.aud;return this.logger.warn(j),Promise.reject(j)}if(!_.sub){let j="No sub claim in id_token";return this.logger.warn(j),Promise.reject(j)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==_.sub){let j=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${_.sub}`;return this.logger.warn(j),Promise.reject(j)}if(!_.iat){let j="No iat claim in id_token";return this.logger.warn(j),Promise.reject(j)}if(!this.skipIssuerCheck&&_.iss!==this.issuer){let j="Wrong issuer: "+_.iss;return this.logger.warn(j),Promise.reject(j)}if(!r&&_.nonce!==S){let j="Wrong nonce: "+_.nonce;return this.logger.warn(j),Promise.reject(j)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!_.at_hash){let j="An at_hash is needed!";return this.logger.warn(j),Promise.reject(j)}let C=this.dateTimeService.now(),I=_.iat*1e3,D=_.exp*1e3,F=this.getClockSkewInMsec();if(I-F>=C||D+F-this.decreaseExpirationBySec<=C){let j="Token has expired";return console.error(j),console.error({now:C,issuedAtMSec:I,expiresAtMSec:D}),Promise.reject(j)}let B={accessToken:i,idToken:e,jwks:this.jwks,idTokenClaims:_,idTokenHeader:p,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(B).then(()=>({idToken:e,idTokenClaims:_,idTokenClaimsJson:v,idTokenHeader:p,idTokenHeaderJson:d,idTokenExpiresAt:D})):this.checkAtHash(B).then(j=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!j){let me="Wrong at_hash";return this.logger.warn(me),Promise.reject(me)}return this.checkSignature(B).then(()=>{let me=!this.disableAtHashCheck,Ye={idToken:e,idTokenClaims:_,idTokenClaimsJson:v,idTokenHeader:p,idTokenHeaderJson:d,idTokenExpiresAt:D};return me?this.checkAtHash(B).then(Zn=>{if(this.requestAccessToken&&!Zn){let jt="Wrong at_hash";return this.logger.warn(jt),Promise.reject(jt)}else return Ye}):Ye})})}getIdentityClaims(){let e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}getGrantedScopes(){let e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(e){for(;e.length%4!==0;)e+="=";return e}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let e=this._storage.getItem("expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let e=this._storage.getItem("id_token_expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(e){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(e)>=0&&this._storage.getItem(e)!==null?JSON.parse(this._storage.getItem(e)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(e={},i=""){let r=!1;typeof e=="boolean"&&(r=e,e={});let o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(d=>this._storage.removeItem(d)),this.silentRefreshSubject=null,this.eventsSubject.next(new Wn("logout")),!this.logoutUrl||r)return;let s;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)s=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let d=new sn({encoder:new Kr});o&&(d=d.set("id_token_hint",o));let p=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";p&&(d=d.set("post_logout_redirect_uri",p),i&&(d=d.set("state",i)));for(let m in e)d=d.set(m,e[m]);s=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+d.toString()}this.config.openUri(s)}createAndSaveNonce(){let e=this;return this.createNonce().then(function(i){return e.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",i):e._storage.setItem("nonce",i),i})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let e=this.document.getElementById(this.silentRefreshIFrameName);e&&e.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let i=this.document.getElementById(this.sessionCheckIFrameName);i&&i.remove()}createNonce(){return new Promise(e=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=45,o="",s=typeof self>"u"?null:self.crypto||self.msCrypto;if(s){let d=new Uint8Array(r);s.getRandomValues(d),d.map||(d.map=Array.prototype.map),d=d.map(p=>i.charCodeAt(p%i.length)),o=String.fromCharCode.apply(null,d)}else for(;0<r--;)o+=i[Math.random()*i.length|0];e(nx(o))})}checkAtHash(e){return U(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(e="",i={}){return this.responseType==="code"?this.initCodeFlow(e,i):this.initImplicitFlow(e,i)}initCodeFlow(e="",i={}){this.loginUrl!==""?this.initCodeFlowInternal(e,i):this.events.pipe(Pe(r=>r.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(e,i))}initCodeFlowInternal(e="",i={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let r={},o=null;typeof i=="string"?o=i:typeof i=="object"&&(r=i),this.createLoginUrl(e,o,null,!1,r).then(this.config.openUri).catch(s=>{console.error("Error in initAuthorizationCodeFlow"),console.error(s)})}createChallangeVerifierPairForPKCE(){return U(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let e=yield this.createNonce(),i=yield this.crypto.calcHash(e,"sha-256");return[nx(i),e]})}extractRecognizedCustomParameters(e){let i=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(r=>{e[r]&&i.set(r,JSON.stringify(e[r]))}),i}revokeTokenAndLogout(e={},i=!1){let r=this.revocationEndpoint,o=this.getAccessToken(),s=this.getRefreshToken();if(!o)return Promise.resolve();let d=new sn({encoder:new Kr}),p=new Dt().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let m=btoa(`${this.clientId}:${this.dummyClientSecret}`);p=p.set("Authorization","Basic "+m)}if(this.useHttpBasicAuth||(d=d.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(d=d.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let m of Object.getOwnPropertyNames(this.customQueryParams))d=d.set(m,this.customQueryParams[m]);return new Promise((m,v)=>{let _,S;if(o){let C=d.set("token",o).set("token_type_hint","access_token");_=this.http.post(r,C,{headers:p})}else _=H(null);if(s){let C=d.set("token",s).set("token_type_hint","refresh_token");S=this.http.post(r,C,{headers:p})}else S=H(null);i&&(_=_.pipe(Ce(C=>C.status===0?H(null):Ge(C))),S=S.pipe(Ce(C=>C.status===0?H(null):Ge(C)))),xr([_,S]).subscribe(C=>{this.logOut(e),m(C),this.logger.info("Token successfully revoked")},C=>{this.logger.error("Error revoking token",C),this.eventsSubject.next(new tt("token_revoke_error",C)),v(C)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}static{this.\u0275fac=function(i){return new(i||n)(L(Ve),L(ve),L(Bd,8),L(Ud,8),L(is,8),L(ix),L(Ld),L(jd,8),L(ze),L(Ia))}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac})}}return n})(),$d=class{},Rg=class{handleError(t){return Ge(t)}},HA=(()=>{class n{constructor(e,i,r){this.oAuthService=e,this.errorHandler=i,this.moduleConfig=r}checkUrl(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(i=>e.toLowerCase().startsWith(i.toLowerCase())):!0}intercept(e,i){let r=e.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(r)?i.handle(e):this.moduleConfig.resourceServer.sendAccessToken?lp(H(this.oAuthService.getAccessToken()).pipe(Pe(s=>!!s)),this.oAuthService.events.pipe(Pe(s=>s.type==="token_received"),sp(this.oAuthService.waitForTokenInMsec||0),Ce(()=>H(null)),W(()=>this.oAuthService.getAccessToken()))).pipe(Kt(1),Ze(s=>{if(s){let d="Bearer "+s,p=e.headers.set("Authorization",d);e=e.clone({headers:p})}return i.handle(e).pipe(Ce(d=>this.errorHandler.handleError(d)))})):i.handle(e).pipe(Ce(s=>this.errorHandler.handleError(s)))}static{this.\u0275fac=function(i){return new(i||n)(L(Hd),L($d),L(Vd,8))}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac})}}return n})();function zA(){return console}function qA(){return typeof sessionStorage<"u"?sessionStorage:new FA}function GA(n=null,t=Fd){return oi([Hd,ix,{provide:Ld,useFactory:zA},{provide:Bd,useFactory:qA},{provide:Ud,useClass:t},{provide:jd,useClass:$A},{provide:$d,useClass:Rg},{provide:Vd,useValue:n},{provide:pb,useClass:HA,multi:!0},{provide:Ia,useClass:NA}])}var ox=(()=>{class n{static forRoot(e=null,i=Fd){return{ngModule:n,providers:[GA(e,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Lt({type:n})}static{this.\u0275inj=Ft({imports:[Y]})}}return n})();var MY=new $("AUTH_CONFIG");var WA={issuer:"https://accounts.google.com",strictDiscoveryDocumentValidation:!1,redirectUri:window.location.origin,clientId:Q.clientId,scope:"openid profile email"},cr=class n{oAuthService=E(Hd);idToken=xe(null);_isAuthReady=xe(!1);isAuthReady=this._isAuthReady.asReadonly();constructor(){this.oAuthService.configure(WA)}configure(){this.oAuthService.loadDiscoveryDocumentAndTryLogin().then(()=>{if(this.oAuthService.hasValidAccessToken()){let t=this.oAuthService.getIdToken();this.idToken.set(t)}this._isAuthReady.set(!0)})}handleLoginRedirect(){this.oAuthService.loadDiscoveryDocument().then(()=>{this.oAuthService.tryLoginImplicitFlow().then(()=>{if(this.oAuthService.hasValidAccessToken()){let t=this.oAuthService.getIdToken();this.idToken.set(t)}})})}oAuthDiscovery(){this.oAuthService.loadDiscoveryDocumentAndLogin().then(()=>{this.oAuthService.initLoginFlow()})}logOut(){this.oAuthService.logOut()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var pe=class n{currentUser=xe(null);http=E(ve);cookieService=E(Rd);router=E(J);toastr=E(re);googleService=E(cr);baseUrl=Q.apiUrl;roles=Wt(()=>{let t=this.currentUser();if(t&&t.token){let e=JSON.parse(atob(t.token.split(".")[1])).role;return Array.isArray(e)?e:[e]}return[null]});constructor(){this.loadCurrentUser(),Hn(()=>{let t=this.googleService.idToken();t&&this.currentUser()===null?(this.cookieService.set("id_token",t),this.googleAuth(t).subscribe({next:e=>{e&&(this.setCurrentUser(e,!0),e.wasWarnedAboutPasswordChange===!1&&(console.log("User was warned about password change"),this.router.navigate(["/password-change-warning"])))}})):(console.log("No Google ID token found"),this.cookieService.delete("id_token"))})}loadCurrentUser(){let t=this.cookieService.get("user");if(t){let e=JSON.parse(t);return this.currentUser.set(e),H(e)}return H(null)}googleAuth(t){return this.http.post(this.baseUrl+"account/google-auth",{idToken:t}).pipe(W(e=>e?(this.setCurrentUser(e,!0),this.toastr.success("Logged in with Google successfully"),e):null),Ce(e=>(this.toastr.error("Google login failed"),Ge(()=>"Google login failed. Please try again."))))}verifyEmailCode(t){return this.http.post(this.baseUrl+"account/verify-email",t).pipe(W(()=>!0),Ce(e=>(e.status===400?this.toastr.error(e.error):this.toastr.error("Email verification failed"),Ge(()=>"Email verification failed. Please try again."))))}resendVerificationCode(t){let e={userId:t};return this.http.post(this.baseUrl+"account/resend-verification-code",e).pipe(W(()=>!0),Ce(i=>(console.error("Resend error:",i),Ge(()=>i))))}register(t){return console.log("Sending registration request to:",this.baseUrl+"account/register"),console.log("Registration data:",t),this.http.post(this.baseUrl+"account/register",t).pipe(W(e=>(console.log("Raw registration response:",e),e.isRegistered&&this.toastr.success("Registration successful"),e.requiresEmailConfirmation&&console.log("Email confirmation required, userId:",e.userId),e)),Ce(e=>{if(console.error("Registration error in service:",e),e.status===400){if(typeof e.error=="string")return this.toastr.error(e.error),Ge(()=>e.error);if(e.error&&Array.isArray(e.error))return Ge(()=>e.error)}return this.toastr.error("Registration failed"),Ge(()=>"An unexpected error occurred. Please try again later.")}))}login(t){return this.http.post(this.baseUrl+"account/login",t).pipe(W(e=>e?(this.setCurrentUser(e,t.rememberMe),this.toastr.success("Logged in successfully"),e):null),Ce(e=>(console.log(e),e.status===401&&e.error&&typeof e.error=="object"&&e.error.userId?(sessionStorage.setItem("verificationUserId",e.error.userId.toString()),this.toastr.info("Please verify your email to continue"),Ge(()=>({requiresVerification:!0}))):e.status===400||e.status===401?(this.toastr.error(typeof e.error=="string"?e.error:"Invalid credentials"),Ge(()=>e.error)):(this.toastr.error("An unexpected error occurred"),Ge(()=>"An unexpected error occurred")))))}googleLogin(t){return this.http.post(this.baseUrl+"account/google-auth",{idToken:t}).pipe(W(e=>e?(this.setCurrentUser(e,!0),this.toastr.success("Logged in with Google successfully"),e):null),Ce(e=>(this.toastr.error("Google login failed"),Ge(()=>"Google login failed. Please try again."))))}verifyEmail(t,e){return this.http.get(this.baseUrl+`account/confirm-email?id=${t}&token=${e}`).pipe(W(()=>(this.toastr.success("Email verified successfully"),!0)),Ce(i=>(this.toastr.error("Email verification failed"),Ge(()=>"Email verification failed. Please try again."))))}setCurrentUser(t,e=!1){if(t){let i=e?7:1;this.cookieService.set("user",JSON.stringify(t),i),this.currentUser.set(t)}}refreshUserData(){return this.http.get(this.baseUrl+"user").pipe(W(t=>t?(this.setCurrentUser(t,!0),t):null),Ce(t=>(this.toastr.error("Failed to refresh user data"),Ge(()=>t))))}forgotPassword(t){return this.http.post(this.baseUrl+"account/forgot-password",{email:t}).pipe(W(()=>(this.toastr.info("If your email is registered, you will receive a password reset code"),!0)),Ce(e=>(console.error("Forgot password error:",e),this.toastr.error("Failed to process forgot password request"),Ge(()=>"Failed to process forgot password request"))))}resetPassword(t){return this.http.post(this.baseUrl+"account/reset-password",t).pipe(W(()=>(this.toastr.success("Your password has been reset successfully"),!0)),Ce(e=>(console.error("Reset password error:",e),this.toastr.error(e.error||"Failed to reset password"),Ge(()=>e.error||"Failed to reset password"))))}logout(){this.googleService.logOut(),this.cookieService.delete("user"),this.cookieService.delete("id_token"),this.currentUser.set(null),this.router.navigateByUrl("/"),this.toastr.success("Logged out successfully")}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var sx=(n,t)=>{let e=E(pe);return e.currentUser()&&(n=n.clone({setHeaders:{Authorization:`Bearer ${e.currentUser()?.token}`}})),t(n)};var ui=class n{http=E(ve);baseUrl=Q.apiUrl+"category";rootCategories=xe([]);allCategories=xe([]);categoriesLoaded=!1;constructor(){this.getCategories()}ngOnInit(){}getCategories(){this.categoriesLoaded&&this.rootCategories.length>0||this.http.get(this.baseUrl).subscribe({next:t=>{this.allCategories.set(t),this.buildCategoryHierarchy(t),this.categoriesLoaded=!0,console.log("All categories received:",this.allCategories)},error:t=>{console.error("Error fetching categories:",t)}})}buildCategoryHierarchy(t){let e=t.filter(r=>!r.parentCategoryId);console.log("Root categories:",e);let i=e.map(r=>{let o=t.filter(s=>s.parentCategoryId===r.id);return Z(O({},r),{subCategories:o})});this.rootCategories.set(i),console.log("Final root categories with subcategories:",this.rootCategories)}getCategoryTree(){return this.http.get(`${this.baseUrl}/tree`)}getCategory(t){return this.http.get(`${this.baseUrl}/${t}`)}getSubcategories(t){return this.http.get(`${this.baseUrl}/${t}/subcategories`)}createCategory(t){return this.http.post(this.baseUrl,t)}updateCategory(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}deleteCategory(t){return this.http.delete(`${this.baseUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function YA(n,t){if(n&1&&(a(0,"p",20),u(1),l()),n&2){let e=h().$implicit;c(),x(" ",e.description," ")}}function ZA(n,t){if(n&1){let e=P();a(0,"div",14)(1,"div",15),b("mouseenter",function(){let r=w(e).$implicit,o=h();return T(o.hoveredCategory=r.id)})("mouseleave",function(){w(e);let r=h();return T(r.hoveredCategory=null)})("click",function(){let r=w(e).$implicit,o=h();return T(o.onCategoryClick(r))}),a(2,"div",16)(3,"div",17),u(4),l(),a(5,"h3",18),u(6),l(),y(7,YA,2,1,"p",19),l()()()}if(n&2){let e=t.$implicit,i=h();c(),M("active",i.hoveredCategory===e.id),c(2),oe("color",e.displayColor||e.colorCode),c(),x(" ",e.displayIcon||e.iconName," "),c(2),k(e.name),c(),f("ngIf",e.description)}}function QA(n,t){n&1&&(a(0,"div",1)(1,"div",21)(2,"div",22)(3,"span",23),u(4,"Loading categories..."),l()(),a(5,"p",24),u(6,"Loading categories..."),l()()())}function KA(n,t){if(n&1&&(a(0,"div",25)(1,"div",26)(2,"div",27),g(3,"i"),l(),a(4,"h5"),u(5),l(),a(6,"p",20),u(7),l()()()),n&2){let e=t.$implicit;c(3),E1("fa ",e.icon," fa-2x text-primary"),c(2),k(e.title),c(2),k(e.description)}}var zd=class n{router=E(J);categoryService=E(ui);hoveredCategory=null;categories=[];steps=[{id:1,title:"Create",description:"Make your own prediction or join an existing one",icon:"fa-lightbulb-o"},{id:2,title:"Share",description:"Invite friends and see what others think",icon:"fa-users"},{id:3,title:"Track",description:"See results and compare your accuracy",icon:"fa-trophy"}];constructor(){}ngOnInit(){this.loadCategories()}loadCategories(){this.categoryService.getCategories(),setTimeout(()=>{let t=this.categoryService.rootCategories();this.categories=t.map(e=>Z(O({},e),{displayIcon:this.getCategoryIcon(e.name),displayColor:e.colorCode||this.getCategoryColor(e.name)})),console.log("Loaded categories for home page:",this.categories)},100)}getCategoryIcon(t){return{Sports:"\u{1F3C6}",Entertainment:"\u{1F3AC}",Business:"\u{1F4C8}",Technology:"\u{1F4BB}",Politics:"\u{1F3DB}\uFE0F",Science:"\u{1F52C}",Finance:"\u{1F4CA}",Gaming:"\u{1F3AE}",Music:"\u{1F3B5}",Movies:"\u{1F3A5}"}[t]||"\u{1F4CB}"}getCategoryColor(t){return{Sports:"#e74c3c",Entertainment:"#9b59b6",Business:"#2ecc71",Technology:"#3498db",Politics:"#e67e22",Science:"#1abc9c",Finance:"#27ae60",Gaming:"#8e44ad",Music:"#f39c12",Movies:"#c0392b"}[t]||"#6c757d"}onCategoryClick(t){console.log("Category clicked:",t.name,"ID:",t.id),this.router.navigate(["/published-posts"],{queryParams:{category:t.id}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-home"]],decls:20,vars:3,consts:[[1,"container","py-5"],[1,"row","mb-5"],[1,"col-lg-8","mx-auto","text-center"],[1,"display-4","fw-bold","mb-4","text-primary","animation-slide-down"],[1,"lead","mb-5","animation-fade-in"],["routerLink","/create-prediction",1,"btn","btn-primary","btn-lg","px-5","py-3","shadow-lg","animation-bounce"],[1,"text-center","mb-5"],[1,"row","mb-5","justify-content-center"],["class","col-lg-5 col-md-6 mb-4",4,"ngFor","ngForOf"],["class","row mb-5",4,"ngIf"],[1,"row","mt-5","pt-5","border-top"],[1,"mb-4"],[1,"row","g-4"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-lg-5","col-md-6","mb-4"],[1,"card","h-100","border-0","shadow-lg","rounded-lg","overflow-hidden","category-card",2,"cursor","pointer",3,"mouseenter","mouseleave","click"],[1,"card-body","text-center","p-5"],[1,"category-icon","mb-4"],[1,"card-title","h4","mb-3"],["class","text-muted",4,"ngIf"],[1,"text-muted"],[1,"col-12","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"text-muted","mt-2"],[1,"col-md-4"],[1,"step-card"],[1,"p-3","rounded-circle","bg-primary","bg-opacity-10","d-inline-flex","justify-content-center","align-items-center","mb-3",2,"width","70px","height","70px"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),u(4,"Predict. Share. Compare."),l(),a(5,"p",4),u(6,"Create your own predictions or join trending ones from around the world. See how your forecasting skills stack up!"),l(),a(7,"button",5),u(8," Create Prediction "),l()()(),a(9,"h2",6),u(10,"Choose Your Category"),l(),a(11,"div",7),y(12,ZA,8,7,"div",8),l(),y(13,QA,7,0,"div",9),a(14,"div",10)(15,"div",2)(16,"h2",11),u(17,"How It Works"),l(),a(18,"div",12),y(19,KA,8,5,"div",13),l()()()()),e&2&&(c(12),f("ngForOf",i.categories),c(),f("ngIf",i.categories.length===0),c(6),f("ngForOf",i.steps))},dependencies:[Y,Se,ee,it,Tt],styles:['.animation-slide-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .8s ease forwards}.animation-fade-in[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease forwards;animation-delay:.3s}.animation-bounce[_ngcontent-%COMP%]{transition:all .3s ease}.animation-bounce[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003!important}.category-card[_ngcontent-%COMP%]{transition:all .3s ease;cursor:pointer;border:2px solid transparent!important;position:relative;overflow:hidden;min-height:280px}.category-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:3rem 2rem!important}.category-icon[_ngcontent-%COMP%]{font-size:4.5rem!important;transition:all .3s ease;margin-bottom:1.5rem}.category-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem!important;font-weight:600;margin-bottom:1rem;transition:color .3s ease}.category-card[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5}.category-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);transition:left .5s}.category-card[_ngcontent-%COMP%]:hover:before{left:100%}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 15px 35px #0003!important;border-color:#0d6efd4d!important}.category-card.active[_ngcontent-%COMP%]{transform:translateY(-10px);box-shadow:0 20px 40px #00000040!important;border-color:#0d6efd80!important}.category-card[_ngcontent-%COMP%]:active{transform:translateY(-5px) scale(.98);transition:all .1s ease}.category-card[_ngcontent-%COMP%]:hover   .category-icon[_ngcontent-%COMP%]{text-shadow:0 0 25px rgba(13,110,253,.4);transform:scale(1.15);transition:all .3s ease}.category-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{transition:color .3s ease}.category-card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{color:#0d6efd!important}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.step-card[_ngcontent-%COMP%]{transition:all .3s ease}.step-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px)}@media (max-width: 768px){.category-card[_ngcontent-%COMP%]{margin-bottom:1.5rem;min-height:240px}.category-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:2rem 1.5rem!important}.category-icon[_ngcontent-%COMP%]{font-size:3.5rem!important}.category-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.3rem!important}}@media (min-width: 992px){.col-lg-5[_ngcontent-%COMP%]{flex:0 0 auto;width:45%;margin:0 2.5%}}@media (min-width: 1400px){.category-card[_ngcontent-%COMP%]{min-height:320px}.category-icon[_ngcontent-%COMP%]{font-size:5rem!important}}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-30px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}.category-card.loading[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}@media (max-width: 768px){.display-4[_ngcontent-%COMP%]{font-size:2.5rem}.animation-bounce[_ngcontent-%COMP%]:hover{transform:none}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.justify-content-center[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{max-width:90%;margin:0 auto 1.5rem}}'],data:{animation:[Xo("cardHover",[Ni("default",an({transform:"translateY(0)",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"})),Ni("hovered",an({transform:"translateY(-10px)",boxShadow:"0 15px 30px rgba(0, 0, 0, 0.15)"})),Fi("default => hovered",Ri("200ms ease-out")),Fi("hovered => default",Ri("200ms ease-in"))])]}})};var hx=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(R(In),R(st))};static \u0275dir=Te({type:n})}return n})(),as=(()=>{class n extends hx{static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(n)))(r||n)}})();static \u0275dir=Te({type:n,features:[bt]})}return n})(),Li=new $(""),JA={provide:Li,useExisting:It(()=>Xr),multi:!0},Xr=(()=>{class n extends as{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(n)))(r||n)}})();static \u0275dir=Te({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&b("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Gt([JA]),bt]})}return n})(),XA={provide:Li,useExisting:It(()=>qe),multi:!0};function e3(){let n=ki()?ki().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var t3=new $(""),qe=(()=>{class n extends hx{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!e3())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(R(In),R(st),R(t3,8))};static \u0275dir=Te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&b("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Gt([XA]),bt]})}return n})();function jg(n){return n==null||$g(n)===0}function $g(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var ur=new $(""),tu=new $(""),n3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,V=class{static min(t){return gx(t)}static max(t){return vx(t)}static required(t){return _x(t)}static requiredTrue(t){return i3(t)}static email(t){return r3(t)}static minLength(t){return o3(t)}static maxLength(t){return yx(t)}static pattern(t){return s3(t)}static nullValidator(t){return Gd()}static compose(t){return Sx(t)}static composeAsync(t){return Ix(t)}};function gx(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function vx(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function _x(n){return jg(n.value)?{required:!0}:null}function i3(n){return n.value===!0?null:{required:!0}}function r3(n){return jg(n.value)||n3.test(n.value)?null:{email:!0}}function o3(n){return t=>{let e=t.value?.length??$g(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function yx(n){return t=>{let e=t.value?.length??$g(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function s3(n){if(!n)return Gd;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(jg(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Gd(n){return null}function bx(n){return n!=null}function Cx(n){return Ur(n)?Ie(n):n}function xx(n){let t={};return n.forEach(e=>{t=e!=null?O(O({},t),e):t}),Object.keys(t).length===0?null:t}function wx(n,t){return t.map(e=>e(n))}function a3(n){return!n.validate}function Tx(n){return n.map(t=>a3(t)?t:e=>t.validate(e))}function Sx(n){if(!n)return null;let t=n.filter(bx);return t.length==0?null:function(e){return xx(wx(e,t))}}function Ex(n){return n!=null?Sx(Tx(n)):null}function Ix(n){if(!n)return null;let t=n.filter(bx);return t.length==0?null:function(e){let i=wx(e,t).map(Cx);return ap(i).pipe(W(xx))}}function Px(n){return n!=null?Ix(Tx(n)):null}function ax(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Dx(n){return n._rawValidators}function kx(n){return n._rawAsyncValidators}function Fg(n){return n?Array.isArray(n)?n:[n]:[]}function Wd(n,t){return Array.isArray(n)?n.includes(t):n===t}function lx(n,t){let e=Fg(t);return Fg(n).forEach(r=>{Wd(e,r)||e.push(r)}),e}function cx(n,t){return Fg(t).filter(e=>!Wd(n,e))}var Yd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ex(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Px(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Jr=class extends Yd{name;get formDirective(){return null}get path(){return null}},Rn=class extends Yd{_parent=null;name=null;valueAccessor=null},Zd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},l3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},OZ=Z(O({},l3),{"[class.ng-submitted]":"isSubmitted"}),Ee=(()=>{class n extends Zd{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(R(Rn,2))};static \u0275dir=Te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&M("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[bt]})}return n})(),pt=(()=>{class n extends Zd{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(R(Jr,10))};static \u0275dir=Te({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&M("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[bt]})}return n})();var Da="VALID",qd="INVALID",rs="PENDING",ka="DISABLED",dr=class{},Qd=class extends dr{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Ma=class extends dr{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Oa=class extends dr{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},os=class extends dr{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Vg=class extends dr{source;constructor(t){super(),this.source=t}},Lg=class extends dr{source;constructor(t){super(),this.source=t}};function Hg(n){return(nu(n)?n.validators:n)||null}function c3(n){return Array.isArray(n)?Ex(n):n||null}function zg(n,t){return(nu(t)?t.asyncValidators:n)||null}function d3(n){return Array.isArray(n)?Px(n):n||null}function nu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Mx(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new A(1e3,"");if(!i[e])throw new A(1001,"")}function Ox(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new A(1002,"")})}var ss=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ii(this.statusReactive)}set status(t){Ii(()=>this.statusReactive.set(t))}_status=Wt(()=>this.statusReactive());statusReactive=xe(void 0);get valid(){return this.status===Da}get invalid(){return this.status===qd}get pending(){return this.status==rs}get disabled(){return this.status===ka}get enabled(){return this.status!==ka}errors;get pristine(){return Ii(this.pristineReactive)}set pristine(t){Ii(()=>this.pristineReactive.set(t))}_pristine=Wt(()=>this.pristineReactive());pristineReactive=xe(!0);get dirty(){return!this.pristine}get touched(){return Ii(this.touchedReactive)}set touched(t){Ii(()=>this.touchedReactive.set(t))}_touched=Wt(()=>this.touchedReactive());touchedReactive=xe(!1);get untouched(){return!this.touched}_events=new be;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(lx(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(lx(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(cx(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(cx(t,this._rawAsyncValidators))}hasValidator(t){return Wd(this._rawValidators,t)}hasAsyncValidator(t){return Wd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Z(O({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Oa(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new Oa(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Z(O({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Ma(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Ma(!0,i))}markAsPending(t={}){this.status=rs;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new os(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Z(O({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ka,this.errors=null,this._forEachChild(r=>{r.disable(Z(O({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Qd(this.value,i)),this._events.next(new os(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Z(O({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Da,this._forEachChild(i=>{i.enable(Z(O({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Z(O({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Da||this.status===rs)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Qd(this.value,e)),this._events.next(new os(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Z(O({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ka:Da}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=rs,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=Cx(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new os(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?ka:this.errors?qd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rs)?rs:this._anyControlsHaveStatus(qd)?qd:Da}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Ma(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Oa(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=c3(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=d3(this._rawAsyncValidators)}},Et=class extends ss{constructor(t,e,i){super(Hg(e),zg(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Ox(this,!0,t),Object.keys(t).forEach(i=>{Mx(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Bg=class extends Et{};var ls=new $("",{providedIn:"root",factory:()=>Ra}),Ra="always";function Ax(n,t){return[...t.path,n]}function Kd(n,t,e=Ra){qg(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),p3(n,t),m3(n,t),f3(n,t),u3(n,t)}function Jd(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),eu(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Xd(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function u3(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function qg(n,t){let e=Dx(n);t.validator!==null?n.setValidators(ax(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=kx(n);t.asyncValidator!==null?n.setAsyncValidators(ax(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Xd(t._rawValidators,r),Xd(t._rawAsyncValidators,r)}function eu(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=Dx(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=kx(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Xd(t._rawValidators,i),Xd(t._rawAsyncValidators,i),e}function p3(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Rx(n,t)})}function f3(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Rx(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Rx(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function m3(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function h3(n,t){n==null,qg(n,t)}function g3(n,t){return eu(n,t)}function Gg(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function v3(n){return Object.getPrototypeOf(n.constructor)===as}function _3(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Wg(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===qe?e=o:v3(o)?i=o:r=o}),r||i||e||null}function y3(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function dx(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function ux(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Aa=class extends ss{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(Hg(e),zg(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nu(e)&&(e.nonNullable||e.initialValueIsDefault)&&(ux(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){dx(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){dx(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){ux(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var b3=n=>n instanceof Aa;var C3={provide:Rn,useExisting:It(()=>wn)},px=Promise.resolve(),wn=(()=>{class n extends Rn{_changeDetectorRef;callSetDisabledState;control=new Aa;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ot;constructor(e,i,r,o,s,d){super(),this._changeDetectorRef=s,this.callSetDisabledState=d,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Wg(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Gg(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Kd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){px.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&nr(i);px.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Ax(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(R(Jr,9),R(ur,10),R(tu,10),R(Li,10),R(Dn,8),R(ls,8))};static \u0275dir=Te({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Gt([C3]),bt,mn]})}return n})();var ft=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=Te({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),x3={provide:Li,useExisting:It(()=>Yg),multi:!0},Yg=(()=>{class n extends as{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(n)))(r||n)}})();static \u0275dir=Te({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&b("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Gt([x3]),bt]})}return n})(),w3={provide:Li,useExisting:It(()=>Zg),multi:!0};var T3=(()=>{class n{_accessors=[];add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e){this._accessors.splice(i,1);return}}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return e[0].control?e[0]._parent===i._control._parent&&e[1].name===i.name:!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zg=(()=>{class n extends as{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=E(ls,{optional:!0})??Ra;constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o}ngOnInit(){this._control=this._injector.get(Rn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||n)(R(In),R(st),R(T3),R(dt))};static \u0275dir=Te({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&b("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Gt([w3]),bt]})}return n})();var Qg=new $(""),S3={provide:Rn,useExisting:It(()=>Yn)},Yn=(()=>{class n extends Rn{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new ot;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=Wg(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&Jd(i,this,!1),Kd(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Gg(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Jd(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||n)(R(ur,10),R(tu,10),R(Li,10),R(Qg,8),R(ls,8))};static \u0275dir=Te({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Gt([S3]),bt,mn]})}return n})(),E3={provide:Jr,useExisting:It(()=>lt)},lt=(()=>{class n extends Jr{callSetDisabledState;get submitted(){return Ii(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Wt(()=>this._submittedReactive());_submittedReactive=xe(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ot;constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(eu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return Kd(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Jd(e.control||null,e,!1),y3(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),_3(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Vg(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Lg(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(Jd(i||null,e),b3(r)&&(Kd(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);h3(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&g3(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qg(this.form,this),this._oldForm&&eu(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(R(ur,10),R(tu,10),R(ls,8))};static \u0275dir=Te({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&b("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Gt([E3]),bt,mn]})}return n})();var I3={provide:Rn,useExisting:It(()=>kt)},kt=(()=>{class n extends Rn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ot;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Wg(this,o)}ngOnChanges(e){this._added||this._setUpControl(),Gg(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Ax(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(R(Jr,13),R(ur,10),R(tu,10),R(Li,10),R(Qg,8))};static \u0275dir=Te({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Gt([I3]),bt,mn]})}return n})();var P3={provide:Li,useExisting:It(()=>Nn),multi:!0};function Nx(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function D3(n){return n.split(":")[0]}var Nn=(()=>{class n extends as{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i=this._getOptionId(e),r=Nx(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=D3(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(n)))(r||n)}})();static \u0275dir=Te({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&b("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Gt([P3]),bt]})}return n})(),pi=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Nx(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(R(st),R(In),R(Nn,9))};static \u0275dir=Te({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),k3={provide:Li,useExisting:It(()=>Fx),multi:!0};function fx(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function M3(n){return n.split(":")[0]}var Fx=(()=>{class n extends as{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let d=0;d<s.length;d++){let p=s[d],m=this._getOptionValue(p.value);r.push(m)}}else{let s=i.options;for(let d=0;d<s.length;d++){let p=s[d];if(p.selected){let m=this._getOptionValue(p.value);r.push(m)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=M3(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(n)))(r||n)}})();static \u0275dir=Te({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&b("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Gt([k3]),bt]})}return n})(),fi=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(fx(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(fx(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(R(st),R(In),R(Fx,9))};static \u0275dir=Te({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function O3(n){return typeof n=="number"?n:parseInt(n,10)}function Vx(n){return typeof n=="number"?n:parseFloat(n)}var iu=(()=>{class n{_validator=Gd;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Gd,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Te({type:n,features:[mn]})}return n})(),A3={provide:ur,useExisting:It(()=>Kg),multi:!0},Kg=(()=>{class n extends iu{max;inputName="max";normalizeInput=e=>Vx(e);createValidator=e=>vx(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(n)))(r||n)}})();static \u0275dir=Te({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Pt("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[Gt([A3]),bt]})}return n})(),R3={provide:ur,useExisting:It(()=>Jg),multi:!0},Jg=(()=>{class n extends iu{min;inputName="min";normalizeInput=e=>Vx(e);createValidator=e=>gx(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(n)))(r||n)}})();static \u0275dir=Te({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Pt("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Gt([R3]),bt]})}return n})(),N3={provide:ur,useExisting:It(()=>Xg),multi:!0};var Xg=(()=>{class n extends iu{required;inputName="required";normalizeInput=nr;createValidator=e=>_x;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(n)))(r||n)}})();static \u0275dir=Te({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Pt("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Gt([N3]),bt]})}return n})();var F3={provide:ur,useExisting:It(()=>Bi),multi:!0},Bi=(()=>{class n extends iu{maxlength;inputName="maxlength";normalizeInput=e=>O3(e);createValidator=e=>yx(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=qt(n)))(r||n)}})();static \u0275dir=Te({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Pt("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Gt([F3]),bt]})}return n})();var Lx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Lt({type:n});static \u0275inj=Ft({})}return n})(),Ug=class extends ss{constructor(t,e,i){super(Hg(e),zg(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Ox(this,!1,t),t.forEach((i,r)=>{Mx(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function mx(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var mt=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return mx(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Et(r,o)}record(e,i=null){let r=this._reduceControls(e);return new Bg(r,i)}control(e,i,r){let o={};return this.useNonNullable?(mx(i)?o=i:(o.validators=i,o.asyncValidators=r),new Aa(e,Z(O({},o),{nonNullable:!0}))):new Aa(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new Ug(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof Aa)return e;if(e instanceof ss)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ls,useValue:e.callSetDisabledState??Ra}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Lt({type:n});static \u0275inj=Ft({imports:[Lx]})}return n})(),rt=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Qg,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:ls,useValue:e.callSetDisabledState??Ra}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Lt({type:n});static \u0275inj=Ft({imports:[Lx]})}return n})();function V3(n,t){if(n&1&&(a(0,"p",73),u(1),l()),n&2){let e=h().$implicit;c(),x(" ",e.description," ")}}function L3(n,t){if(n&1&&(a(0,"span",61),g(1,"i",74),u(2),l()),n&2){let e=h().$implicit;c(2),x("",e.subCategories.length," Subcategories ")}}function B3(n,t){if(n&1&&(a(0,"p",92),u(1),et(2,"slice"),l()),n&2){let e=h().$implicit;c(),q(" ",gn(2,2,e.description,0,80),"",e.description&&e.description.length>80?"...":""," ")}}function U3(n,t){if(n&1){let e=P();a(0,"div",81)(1,"div",82),b("click",function(r){let o=w(e).$implicit;return h(4).selectSubcategory(o),T(r.stopPropagation())}),a(2,"div",83)(3,"div",84)(4,"div",85),g(5,"i",86),l(),a(6,"div",57)(7,"h6",87),u(8),l(),y(9,B3,3,6,"p",88),a(10,"div",3)(11,"span",89),u(12),l(),a(13,"button",90),b("click",function(r){let o=w(e).$implicit;return h(4).exploreSubcategory(o),T(r.stopPropagation())}),g(14,"i",91),l()()()()()()()}if(n&2){let e=t.$implicit,i=h(2).$implicit,r=h(2);c(4),oe("background-color",e.colorCode||i.colorCode||"#6c757d"),c(),f("ngClass",e.iconName||i.iconName||"fa-tag"),c(3),k(e.name),c(),f("ngIf",e.description),c(3),x(" ",r.getRandomPredictionCount(!0)," predictions ")}}function j3(n,t){if(n&1&&(a(0,"div",75),g(1,"hr",76),a(2,"h5",77),g(3,"i",78),u(4,"Subcategories "),l(),a(5,"div",79),y(6,U3,15,6,"div",80),l()()),n&2){let e=h().$implicit,i=h(2);c(6),f("ngForOf",e.subCategories)("ngForTrackBy",i.trackByCategory)}}function $3(n,t){if(n&1){let e=P();a(0,"div",93)(1,"button",94),b("click",function(r){w(e);let o=h().$implicit;return h(2).toggleCategoryExpansion(o),T(r.stopPropagation())}),g(2,"i",9),u(3),l()()}if(n&2){let e=h().$implicit;c(2),M("fa-chevron-down",!e.expanded)("fa-chevron-up",e.expanded),c(),q(" ",e.expanded?"Hide":"Show"," Subcategories (",e.subCategories.length,") ")}}function H3(n,t){if(n&1){let e=P();a(0,"div",49)(1,"div",50),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.selectCategory(r))}),a(2,"div",51)(3,"div",52)(4,"div",53)(5,"div",54)(6,"div",55),g(7,"i",56),l(),a(8,"div",57)(9,"h3",58),u(10),l(),y(11,V3,2,1,"p",59),a(12,"div",60)(13,"span",61),g(14,"i",62),u(15,"Main Category "),l(),y(16,L3,3,1,"span",63),a(17,"span",64),g(18,"i",65),u(19),l()()()()(),a(20,"div",66)(21,"div",67)(22,"button",68),b("click",function(r){let o=w(e).$implicit;return h(2).exploreCategory(o),T(r.stopPropagation())}),g(23,"i",69),u(24,"Explore "),l(),a(25,"button",70),b("click",function(r){let o=w(e).$implicit;return h(2).createInCategory(o),T(r.stopPropagation())}),g(26,"i",11),u(27,"Create "),l()()()(),y(28,j3,7,2,"div",71)(29,$3,4,6,"div",72),l()()()}if(n&2){let e=t.$implicit,i=h(2);c(),oe("background",i.getCategoryGradient(e)),c(5),oe("background-color",e.colorCode||"#6c757d"),c(),f("ngClass",e.iconName||"fa-tag"),c(3),k(e.name),c(),f("ngIf",e.description),c(5),f("ngIf",e.subCategories&&e.subCategories.length>0),c(3),x("",i.getRandomPredictionCount()," Predictions "),c(9),f("ngIf",e.subCategories&&e.subCategories.length>0&&e.expanded),c(),f("ngIf",e.subCategories&&e.subCategories.length>0)}}function z3(n,t){if(n&1&&(a(0,"div",47),y(1,H3,30,11,"div",48),l()),n&2){let e=h();c(),f("ngForOf",e.filteredCategories)("ngForTrackBy",e.trackByCategory)}}function q3(n,t){if(n&1){let e=P();a(0,"div",95)(1,"div",96)(2,"span",97),u(3,"Loading..."),l()(),a(4,"p",98),u(5,"Loading categories..."),l(),a(6,"button",99),b("click",function(){w(e);let r=h();return T(r.forceLoadCategories())}),g(7,"i",100),u(8,"Force Reload "),l()()}}function G3(n,t){if(n&1&&(a(0,"span"),u(1),l()),n&2){let e=h(2);c(),x('No categories match your search "',e.searchTerm,'". Try different keywords.')}}function W3(n,t){n&1&&(a(0,"span"),u(1,"Categories are loading or none are available."),l())}function Y3(n,t){if(n&1){let e=P();a(0,"div",95),g(1,"i",101),a(2,"h5",102),u(3,"No Categories Found"),l(),a(4,"p",102),y(5,G3,2,1,"span",103)(6,W3,2,0,"span",103),l(),a(7,"div",104)(8,"button",105),b("click",function(){w(e);let r=h();return T(r.clearFilters())}),g(9,"i",100),u(10,"Reset Filters "),l(),a(11,"button",106),b("click",function(){w(e);let r=h();return T(r.forceLoadCategories())}),g(12,"i",107),u(13,"Force Reload Categories "),l()()()}if(n&2){let e=h();c(5),f("ngIf",e.searchTerm),c(),f("ngIf",!e.searchTerm)}}var ru=class n{categoryService=E(ui);router=E(J);toastr=E(re);cdr=E(Dn);rootCategories=[];allCategories=[];filteredCategories=[];isLoading=!1;showDebugInfo=!1;viewMode="list";hasShownSuccessMessage=!1;searchTerm="";filterType="all";sortBy="name";searchTimeout;loadCheckInterval;trackByCategory=(t,e)=>e.id;constructor(){Hn(()=>{let t=this.categoryService.rootCategories(),e=this.categoryService.allCategories();console.log("Effect triggered - categories changed:",t.length),t.length>0&&this.rootCategories.length===0&&(console.log("Setting categories from effect..."),this.rootCategories=t.map(i=>Z(O({},i),{expanded:!1})),this.allCategories=e,this.applyFilters(),this.hasShownSuccessMessage||(this.toastr.success(`Loaded ${this.rootCategories.length} categories`),this.hasShownSuccessMessage=!0),this.isLoading=!1,this.cdr.markForCheck())})}ngOnInit(){this.loadCategories()}ngOnDestroy(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.loadCheckInterval&&clearInterval(this.loadCheckInterval)}loadCategories(){return U(this,null,function*(){this.isLoading=!0,this.cdr.markForCheck();try{console.log("Loading categories..."),this.categoryService.getCategories(),setTimeout(()=>{this.rootCategories.length===0&&(console.log("Categories still not loaded after timeout"),this.isLoading=!1,this.cdr.markForCheck())},5e3)}catch(t){console.error("Error loading categories:",t),this.toastr.error("Failed to load categories"),this.isLoading=!1,this.cdr.markForCheck()}})}forceLoadCategories(){console.log("Force loading categories..."),this.hasShownSuccessMessage=!1,this.rootCategories=[],this.allCategories=[],this.filteredCategories=[],this.loadCategories()}applyFilters(){let t=[...this.rootCategories];if(this.searchTerm){let e=this.searchTerm.toLowerCase();t=t.filter(i=>{let r=i.name.toLowerCase().includes(e)||i.description?.toLowerCase().includes(e)||!1,o=i.subCategories&&i.subCategories.some(s=>s.name.toLowerCase().includes(e)||s.description?.toLowerCase().includes(e)||!1);return r||o})}switch(this.sortBy){case"nameDesc":t.sort((e,i)=>i.name.localeCompare(e.name));break;case"subcategories":t.sort((e,i)=>(i.subCategories?.length||0)-(e.subCategories?.length||0));break;default:t.sort((e,i)=>e.name.localeCompare(i.name))}this.filteredCategories=t,this.cdr.markForCheck()}onSearchChange(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.applyFilters()},300)}onFilterChange(){this.applyFilters()}clearSearch(){this.searchTerm="",this.applyFilters()}clearFilters(){this.searchTerm="",this.filterType="all",this.sortBy="name",this.applyFilters()}toggleViewMode(){this.viewMode=this.viewMode==="grid"?"list":"grid",this.cdr.markForCheck()}toggleCategoryExpansion(t){let e=this.filteredCategories.findIndex(i=>i.id===t.id);e!==-1&&(this.filteredCategories[e]=Z(O({},this.filteredCategories[e]),{expanded:!this.filteredCategories[e].expanded}),this.cdr.markForCheck())}selectCategory(t){this.router.navigate(["/published-posts"],{queryParams:{category:t.id}})}selectSubcategory(t){this.router.navigate(["/published-posts"],{queryParams:{category:t.id}})}exploreCategory(t){this.router.navigate(["/published-posts"],{queryParams:{category:t.id,title:t.name}})}exploreSubcategory(t){this.router.navigate(["/published-posts"],{queryParams:{category:t.id,title:t.name}})}createInCategory(t){this.router.navigate(["/create-prediction"],{queryParams:{category:t.id}})}getCategoryGradient(t){let e=t.colorCode||"#6c757d",i=this.darkenColor(e,20);return`linear-gradient(135deg, ${e} 0%, ${i} 100%)`}darkenColor(t,e){let i=parseInt(t.replace("#",""),16),r=Math.round(2.55*e),o=(i>>16)-r,s=(i>>8&255)-r,d=(i&255)-r;return"#"+(16777216+(o<255?o<1?0:o:255)*65536+(s<255?s<1?0:s:255)*256+(d<255?d<1?0:d:255)).toString(16).slice(1)}getTotalCategories(){return this.allCategories.length}getTotalSubcategories(){return this.rootCategories.reduce((t,e)=>t+(e.subCategories?.length||0),0)}getRandomPredictionCount(t=!1){let e=t?5:15,i=t?20:50;return e+Math.floor(Math.random()*i)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-categories"]],decls:85,vars:15,consts:[[1,"container-fluid","mt-4"],[1,"card","bg-primary","border-primary","mb-4"],[1,"card-header","bg-primary","border-primary"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-light","mb-1"],[1,"fa","fa-tags","me-2"],[1,"text-light","mb-0","opacity-75"],[1,"d-flex","gap-2"],[1,"btn","btn-outline-light",3,"click"],[1,"fa"],["routerLink","/create-prediction",1,"btn","btn-outline-light"],[1,"fa","fa-plus","me-2"],[1,"row","mb-4"],[1,"col-md-3","mb-3"],[1,"card","bg-success","border-success"],[1,"card-body","text-center"],[1,"fa","fa-tags","fa-2x","text-light","mb-2"],[1,"text-light"],[1,"text-light","mb-0"],[1,"card","bg-info","border-info"],[1,"fa","fa-sitemap","fa-2x","text-light","mb-2"],[1,"card","bg-warning","border-warning"],[1,"fa","fa-tag","fa-2x","text-dark","mb-2"],[1,"text-dark"],[1,"text-dark","mb-0"],[1,"card","bg-secondary","border-secondary"],[1,"fa","fa-search","fa-2x","text-light","mb-2"],[1,"card","bg-secondary","border-secondary","mb-4"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label","text-light"],[1,"input-group"],["type","text","placeholder","Search categories and subcategories...",1,"form-control","bg-dark","text-light","border-secondary",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-light",3,"click"],[1,"fa","fa-times"],[1,"col-md-3"],[1,"form-select","bg-dark","text-light","border-secondary",3,"ngModelChange","ngModel"],["value","all"],["value","main"],["value","sub"],["value","popular"],["value","name"],["value","nameDesc"],["value","subcategories"],["class","categories-container",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"categories-container"],["class","category-row mb-4",4,"ngFor","ngForOf","ngForTrackBy"],[1,"category-row","mb-4"],[1,"card","bg-gradient","border-0","category-main-card",3,"click"],[1,"card-body","p-4"],[1,"row","align-items-center"],[1,"col-md-8"],[1,"d-flex","align-items-center"],[1,"category-icon-container","me-4"],[1,"fa","fa-2x","text-white",3,"ngClass"],[1,"flex-grow-1"],[1,"text-white","mb-2","fw-bold"],["class","text-white-50 mb-2",4,"ngIf"],[1,"d-flex","flex-wrap","gap-2"],[1,"badge","bg-light","text-dark"],[1,"fa","fa-tag","me-1"],["class","badge bg-light text-dark",4,"ngIf"],[1,"badge","bg-warning","text-dark"],[1,"fa","fa-chart-line","me-1"],[1,"col-md-4","text-end"],[1,"btn-group"],[1,"btn","btn-light","btn-lg",3,"click"],[1,"fa","fa-search","me-2"],[1,"btn","btn-outline-light","btn-lg",3,"click"],["class","subcategories-section mt-4",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"text-white-50","mb-2"],[1,"fa","fa-sitemap","me-1"],[1,"subcategories-section","mt-4"],[1,"text-white-50","mb-3"],[1,"text-white","mb-3"],[1,"fa","fa-sitemap","me-2"],[1,"row"],["class","col-md-4 mb-3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-4","mb-3"],[1,"card","bg-dark","bg-opacity-75","border-light","border-opacity-25","subcategory-card","h-100",3,"click"],[1,"card-body","p-3"],[1,"d-flex","align-items-start"],[1,"subcategory-icon","me-3"],[1,"fa","text-white",3,"ngClass"],[1,"text-white","mb-1"],["class","text-white-50 small mb-2",4,"ngIf"],[1,"badge","bg-secondary","small"],[1,"btn","btn-sm","btn-outline-light",3,"click"],[1,"fa","fa-arrow-right"],[1,"text-white-50","small","mb-2"],[1,"text-center","mt-3"],[1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"fa","fa-refresh","me-2"],[1,"fa","fa-search","fa-3x","text-muted","mb-3"],[1,"text-muted"],[4,"ngIf"],[1,"d-flex","gap-2","justify-content-center"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-download","me-2"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h2",4),g(6,"i",5),u(7,"Categories & Topics "),l(),a(8,"p",6),u(9," Explore prediction categories and discover what interests you most "),l()(),a(10,"div",7)(11,"button",8),b("click",function(){return i.toggleViewMode()}),g(12,"i",9),u(13),l(),a(14,"button",10),g(15,"i",11),u(16,"Create Prediction "),l()()()()(),a(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15),g(21,"i",16),a(22,"h4",17),u(23),l(),a(24,"p",18),u(25,"Total Categories"),l()()()(),a(26,"div",13)(27,"div",19)(28,"div",15),g(29,"i",20),a(30,"h4",17),u(31),l(),a(32,"p",18),u(33,"Main Categories"),l()()()(),a(34,"div",13)(35,"div",21)(36,"div",15),g(37,"i",22),a(38,"h4",23),u(39),l(),a(40,"p",24),u(41,"Subcategories"),l()()()(),a(42,"div",13)(43,"div",25)(44,"div",15),g(45,"i",26),a(46,"h4",17),u(47),l(),a(48,"p",18),u(49,"Showing"),l()()()()(),a(50,"div",27)(51,"div",28)(52,"div",29)(53,"div",30)(54,"label",31),u(55,"Search Categories"),l(),a(56,"div",32)(57,"input",33),je("ngModelChange",function(o){return We(i.searchTerm,o)||(i.searchTerm=o),o}),b("ngModelChange",function(){return i.onSearchChange()}),l(),a(58,"button",34),b("click",function(){return i.clearSearch()}),g(59,"i",35),l()()(),a(60,"div",36)(61,"label",31),u(62,"Filter"),l(),a(63,"select",37),je("ngModelChange",function(o){return We(i.filterType,o)||(i.filterType=o),o}),b("ngModelChange",function(){return i.onFilterChange()}),a(64,"option",38),u(65,"All Categories"),l(),a(66,"option",39),u(67,"Main Categories Only"),l(),a(68,"option",40),u(69,"Subcategories Only"),l(),a(70,"option",41),u(71,"Most Popular"),l()()(),a(72,"div",36)(73,"label",31),u(74,"Sort By"),l(),a(75,"select",37),je("ngModelChange",function(o){return We(i.sortBy,o)||(i.sortBy=o),o}),b("ngModelChange",function(){return i.onFilterChange()}),a(76,"option",42),u(77,"Name (A-Z)"),l(),a(78,"option",43),u(79,"Name (Z-A)"),l(),a(80,"option",44),u(81,"Most Subcategories"),l()()()()()(),y(82,z3,2,2,"div",45)(83,q3,9,0,"div",46)(84,Y3,14,2,"div",46),l()),e&2&&(c(12),M("fa-th-list",i.viewMode==="grid")("fa-th-large",i.viewMode==="list"),c(),x(" ",i.viewMode==="grid"?"List View":"Grid View"," "),c(10),k(i.getTotalCategories()),c(8),k(i.rootCategories.length),c(8),k(i.getTotalSubcategories()),c(8),k(i.filteredCategories.length),c(10),Ue("ngModel",i.searchTerm),c(6),Ue("ngModel",i.filterType),c(12),Ue("ngModel",i.sortBy),c(7),f("ngIf",i.filteredCategories.length>0),c(),f("ngIf",i.isLoading),c(),f("ngIf",i.filteredCategories.length===0&&!i.isLoading))},dependencies:[Y,Bt,Se,ee,rr,Fe,pi,fi,qe,Nn,Ee,wn,it,Tt],styles:[".category-main-card[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;border-radius:16px;overflow:hidden;min-height:180px;box-shadow:0 4px 20px #0000004d}.category-main-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 30px #0006}.category-icon-container[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:20px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #0000004d}.subcategory-card[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease;border-radius:12px}.subcategory-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #ffffff1a}.subcategory-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.subcategories-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{background-color:#343a40!important;border-color:#6c757d!important;color:#fff!important}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{background-color:#343a40!important;border-color:#0d6efd!important;color:#fff!important;box-shadow:0 0 0 .2rem #0d6efd40}.card[_ngcontent-%COMP%]{border-radius:12px}.text-white-50[_ngcontent-%COMP%]{color:#ffffff80!important}"],changeDetection:0})};var ou=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-site-predictions"]],decls:3,vars:0,consts:[[1,"container","mt-5"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h2"),u(2,"Here should be the official site predictions"),l()())},dependencies:[Y],encapsulation:2})};var su=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-trending-predictions"]],decls:3,vars:0,consts:[[1,"container","mt-5"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h2"),u(2,"Here should be the trending predictions"),l()())},dependencies:[Y],encapsulation:2})};function Z3(n,t){if(n&1&&(a(0,"div",4),u(1),l()),n&2){let e=h();c(),x(" Please enter ",e.label()," ")}}function Q3(n,t){if(n&1&&(a(0,"div",4),u(1),l()),n&2){let e=h();c(),q(" ",e.formattedLabel," must be at least ",e.control.errors==null?null:e.control.errors.minlength.requiredLength," characters ")}}function K3(n,t){if(n&1&&(a(0,"div",4),u(1),l()),n&2){let e=h();c(),q(" ",e.formattedLabel," must be at most ",e.control.errors==null?null:e.control.errors.maxlength.requiredLength," characters ")}}function J3(n,t){n&1&&(a(0,"div",4),u(1," Passwords do not match "),l())}function X3(n,t){n&1&&(a(0,"div",4),u(1," Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character "),l())}function eR(n,t){n&1&&(a(0,"div",4),u(1," Please enter a valid email address "),l())}var mi=class n{constructor(t){this.ngControl=t;this.ngControl.valueAccessor=this}label=Fs("");type=Fs("text");writeValue(t){}registerOnChange(t){}registerOnTouched(t){}setDisabledState(t){}get control(){return this.ngControl.control}get formattedLabel(){return this.label().charAt(0).toUpperCase()+this.label().slice(1)}static \u0275fac=function(e){return new(e||n)(R(Rn,2))};static \u0275cmp=z({type:n,selectors:[["app-text-input"]],inputs:{label:[1,"label"],type:[1,"type"]},decls:10,vars:13,consts:[[1,"mb-3"],[1,"form-label"],[1,"form-control",3,"type","formControl","placeholder"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"label",1),u(2),l(),g(3,"input",2),y(4,Z3,2,1,"div",3)(5,Q3,2,2,"div",3)(6,K3,2,2,"div",3)(7,J3,2,0,"div",3)(8,X3,2,0,"div",3)(9,eR,2,0,"div",3),l()),e&2&&(c(2),k(i.formattedLabel),c(),M("is-invalid",i.control.touched&&i.control.invalid),Tc("placeholder","Enter ",i.label(),""),f("type",i.type())("formControl",i.control),c(),f("ngIf",i.control.hasError("required")&&i.control.touched),c(),f("ngIf",i.control.hasError("minlength")),c(),f("ngIf",i.control.hasError("maxlength")),c(),f("ngIf",i.control.hasError("isMatching")),c(),f("ngIf",i.control.hasError("passwordStrength")),c(),f("ngIf",i.control.hasError("email")))},dependencies:[ee,rt,qe,Ee,Yn],styles:[".input-container[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.custom-input[_ngcontent-%COMP%]{width:100%;padding:12px 15px;font-size:16px;border:1px solid #ced4da;border-radius:5px;transition:all .3s;background-color:#fff}.custom-input[_ngcontent-%COMP%]:focus{border-color:#6366f1;box-shadow:0 0 0 3px #6366f133;outline:none}.input-label[_ngcontent-%COMP%]{position:absolute;top:-8px;left:10px;background-color:#fff;padding:0 6px;font-size:14px;color:#6366f1;transition:all .3s}.input-error[_ngcontent-%COMP%]{color:#dc3545;font-size:14px;margin-top:5px}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc354540}"]})};function eo(){return n=>{let t=n.value;if(!t)return null;let e=/[A-Z]+/.test(t),i=/[a-z]+/.test(t),r=/[0-9]+/.test(t),o=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(t);return e&&i&&r&&o?null:{passwordStrength:!0}}}function tR(n,t){n&1&&g(0,"span",26)}function nR(n,t){if(n&1){let e=P();a(0,"form",15),b("ngSubmit",function(){w(e);let r=h();return T(r.submitForm())}),g(1,"app-text-input",16)(2,"app-text-input",17),a(3,"div",18)(4,"a",19),u(5,"Forgot Password?"),l()(),a(6,"div",20),g(7,"input",21),a(8,"label",22),u(9," Remember me "),l()(),a(10,"div",23)(11,"button",24),y(12,tR,1,0,"span",25),u(13," Sign In "),l()()()}if(n&2){let e=h();f("formGroup",e.loginForm),c(),f("formControl",e.loginForm.controls.usernameOrEmail)("label","Username or Email"),c(),f("formControl",e.loginForm.controls.password)("label","Password")("type","password"),c(9),f("disabled",!e.loginForm.valid||e.loading),c(),f("ngIf",e.loading)}}function iR(n,t){n&1&&(a(0,"div",28),u(1," Passwords do not match "),l())}function rR(n,t){n&1&&g(0,"span",26)}function oR(n,t){if(n&1){let e=P();a(0,"form",15),b("ngSubmit",function(){w(e);let r=h();return T(r.submitForm())}),g(1,"app-text-input",16)(2,"app-text-input",16)(3,"app-text-input",16)(4,"app-text-input",17)(5,"app-text-input",17),y(6,iR,2,0,"div",27),a(7,"div",23)(8,"button",24),y(9,rR,1,0,"span",25),u(10," Register "),l()()()}if(n&2){let e,i=h();f("formGroup",i.registerForm),c(),f("formControl",i.registerForm.controls.username)("label","Username"),c(),f("formControl",i.registerForm.controls.displayName)("label","Display Name"),c(),f("formControl",i.registerForm.controls.email)("label","Email"),c(),f("formControl",i.registerForm.controls.password)("label","Password")("type","password"),c(),f("formControl",i.registerForm.controls.confirmPassword)("label","Confirm Password")("type","password"),c(),f("ngIf",i.registerForm.hasError("passwordMismatch")&&((e=i.registerForm.get("confirmPassword"))==null?null:e.touched)),c(2),f("disabled",!i.registerForm.valid||i.loading),c(),f("ngIf",i.loading)}}function sR(n,t){if(n&1&&(a(0,"li"),u(1),l()),n&2){let e=t.$implicit;c(),k(e)}}function aR(n,t){if(n&1&&(a(0,"div",8)(1,"ul",14),$s(2,sR,2,1,"li",null,I1),l()()),n&2){let e=h();c(2),Hs(e.validationErrors)}}function lR(n,t){if(n&1){let e=P();a(0,"span"),u(1,"Don't have an account? "),a(2,"a",29),b("click",function(){w(e);let r=h();return T(r.toggleMode())}),u(3,"Sign Up"),l()()}}function cR(n,t){if(n&1){let e=P();a(0,"span"),u(1,"Already have an account? "),a(2,"a",29),b("click",function(){w(e);let r=h();return T(r.toggleMode())}),u(3,"Sign In"),l()()}}var au=class n{fb=E(mt);router=E(J);accountService=E(pe);googleService=E(cr);toastr=E(re);isLoginMode=!0;loginForm;registerForm;validationErrors;loading=!1;constructor(){}ngOnInit(){this.initializeForms()}initializeForms(){this.loginForm=this.fb.group({usernameOrEmail:["",V.required],password:["",[V.required,V.minLength(8)]],rememberMe:[!1]}),this.registerForm=this.fb.group({username:["",[V.required,V.minLength(2),V.maxLength(32)]],displayName:["",[V.required,V.minLength(2),V.maxLength(32)]],email:["",[V.required,V.email]],password:["",[V.required,V.minLength(8),V.maxLength(32),eo()]],confirmPassword:["",[V.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(t){let e=t.get("password")?.value,i=t.get("confirmPassword")?.value;return e===i?null:{passwordMismatch:!0}}toggleMode(){this.isLoginMode=!this.isLoginMode,this.validationErrors=void 0}login(){if(this.loginForm.valid){this.loading=!0;let t={usernameOrEmail:this.loginForm.value.usernameOrEmail,password:this.loginForm.value.password,rememberMe:this.loginForm.value.rememberMe};this.accountService.login(t).subscribe({next:()=>{this.router.navigateByUrl("/"),this.loading=!1},error:e=>{e&&e.requiresVerification?(sessionStorage.setItem("pendingLoginCredentials",JSON.stringify(t)),this.router.navigateByUrl("/verify-email")):this.validationErrors=typeof e=="string"?[e]:["Login failed"],this.loading=!1}})}}register(){this.registerForm.valid&&(this.loading=!0,this.validationErrors=void 0,console.log("Submitting registration form:",this.registerForm.value),this.accountService.register(this.registerForm.value).subscribe({next:t=>{console.log("Registration response:",t),t.requiresEmailConfirmation?(console.log("Email confirmation required, userId:",t.userId),t.userId?(sessionStorage.setItem("verificationUserId",t.userId.toString()),this.toastr.info("Please verify your email. Check your inbox for a verification code."),setTimeout(()=>{this.router.navigateByUrl("/verify-email")},500)):(console.error("No userId in response:",t),this.toastr.error("Registration completed but verification is not available"))):(this.toastr.success("Registration successful!"),this.router.navigateByUrl("/")),this.loading=!1},error:t=>{console.error("Registration error:",t),typeof t=="string"?this.validationErrors=[t]:Array.isArray(t)?this.validationErrors=t:this.validationErrors=["Registration failed. Please try again."],this.loading=!1}}))}loginWithGoogle(){this.googleService.oAuthDiscovery()}submitForm(){this.validationErrors=void 0,this.isLoginMode?this.login():this.register()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-auth"]],decls:21,vars:5,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-5"],[1,"card","border-primary","shadow","rounded-4"],[1,"card-header","bg-primary","text-white"],[1,"text-center"],[1,"card-body"],["autocomplete","off",3,"formGroup"],[1,"alert","alert-danger","mt-3"],[1,"mt-4"],[1,"text-center","mb-3"],["type","button",1,"btn","btn-outline-danger","w-100",3,"click"],[1,"fa","fa-google","me-2"],[1,"text-center","mt-4"],[1,"mb-0"],["autocomplete","off",3,"ngSubmit","formGroup"],[3,"formControl","label"],[3,"formControl","label","type"],[1,"d-flex","justify-content-end"],["routerLink","/forgot-password",1,"text-decoration-none","text-info","small"],[1,"form-check","mb-3"],["type","checkbox","formControlName","rememberMe","id","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label"],[1,"form-group","text-center","mt-4"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],["href","javascript:void(0)",1,"text-info",3,"click"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),u(6),l()(),a(7,"div",6),y(8,nR,14,8,"form",7)(9,oR,11,16,"form",7)(10,aR,4,0,"div",8),a(11,"div",9)(12,"p",10),u(13,"- OR -"),l(),a(14,"button",11),b("click",function(){return i.loginWithGoogle()}),g(15,"i",12),u(16," Continue with Google "),l()(),a(17,"div",13)(18,"p",14),y(19,lR,4,0,"span")(20,cR,4,0,"span"),l()()()()()()()),e&2&&(c(6),k(i.isLoginMode?"Sign In":"Create Account"),c(2),on(i.isLoginMode?8:-1),c(),on(i.isLoginMode?-1:9),c(),on(i.validationErrors&&i.validationErrors.length>0?10:-1),c(9),on(i.isLoginMode?19:20))},dependencies:[Y,ee,rt,ft,Xr,Ee,pt,Yn,lt,kt,mi,it,Tt],styles:[".card[_ngcontent-%COMP%]{transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 30px #0003!important}.btn-primary[_ngcontent-%COMP%]{padding:10px 20px;font-weight:500;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0003}.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}form[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.bg-primary[_ngcontent-%COMP%]{border-top-left-radius:10px!important;border-top-right-radius:10px!important}"]})};var lu=class n{constructor(t){this.http=t}baseUrl=Q.apiUrl;updateProfile(t){return console.log("Sending update to server:",t),this.http.put(this.baseUrl+"user",t)}requestPasswordChange(t){return console.log("Requesting password change:",t),this.http.post(this.baseUrl+"user/change-password-request",t)}verifyPasswordChange(t){return console.log("Verifying password change:",t),this.http.post(this.baseUrl+"user/verify-password-change",t)}getUserStats(){return this.http.get(this.baseUrl+"user/stats")}requestPasswordChangeVerification(t){return this.http.post(this.baseUrl+"password/request-verification",t)}static \u0275fac=function(e){return new(e||n)(L(ve))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var cu=class n{transform(t){if(!t)return"";let e=t.split("@");if(e.length!==2)return t;let i=e[0],r=e[1],o;return i.length<=7?o="*".repeat(i.length):o=i.substring(0,i.length-7)+"*".repeat(8),`${o}@${r}`}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=Xi({name:"censorEmail",type:n,pure:!0})};function dR(n,t){if(n&1){let e=P();a(0,"button",9),b("click",function(){w(e);let r=h();return T(r.toggleEditMode())}),u(1),l()}if(n&2){let e=h();c(),x(" ",e.editMode?"Cancel":"Edit Profile"," ")}}function uR(n,t){if(n&1&&(a(0,"div"),g(1,"img",16),l()),n&2){let e=h(2);c(),f("src",e.user.photoUrl,te)}}function pR(n,t){if(n&1&&(a(0,"div",17)(1,"span",18),u(2),l()()),n&2){let e=h(2);c(2),k(e.user.displayName.charAt(0).toUpperCase())}}function fR(n,t){n&1&&g(0,"span",24)}function mR(n,t){if(n&1){let e=P();a(0,"div")(1,"form",19),b("ngSubmit",function(){w(e);let r=h(2);return T(r.saveChanges())}),g(2,"app-text-input",20)(3,"app-text-input",20)(4,"app-text-input",20),a(5,"div",21)(6,"button",22),y(7,fR,1,0,"span",23),u(8," Save Changes "),l()()()()}if(n&2){let e=h(2);c(),f("formGroup",e.profileForm),c(),f("formControl",e.profileForm.controls.displayName)("label","Display Name"),c(),f("formControl",e.profileForm.controls.username)("label","Username"),c(),f("formControl",e.profileForm.controls.email)("label","Email"),c(2),f("disabled",!e.profileForm.valid||e.loading),c(),f("ngIf",e.loading)}}function hR(n,t){n&1&&(a(0,"div",30),u(1," Passwords do not match "),l())}function gR(n,t){n&1&&g(0,"span",24)}function vR(n,t){if(n&1){let e=P();a(0,"div")(1,"h5",25),u(2,"Add Password"),l(),a(3,"form",19),b("ngSubmit",function(){w(e);let r=h(2);return T(r.savePassword())}),g(4,"app-text-input",26)(5,"app-text-input",26),y(6,hR,2,0,"div",27),a(7,"div",28)(8,"button",29),b("click",function(){w(e);let r=h(2);return T(r.togglePasswordEditMode())}),u(9," Cancel "),l(),a(10,"button",22),y(11,gR,1,0,"span",23),u(12," Add Password "),l()()()()}if(n&2){let e,i=h(2);c(3),f("formGroup",i.addPasswordForm),c(),f("formControl",i.addPasswordForm.controls.newPassword)("label","New Password")("type","password"),c(),f("formControl",i.addPasswordForm.controls.confirmPassword)("label","Confirm Password")("type","password"),c(),f("ngIf",i.addPasswordForm.hasError("passwordMismatch")&&((e=i.addPasswordForm.get("confirmPassword"))==null?null:e.touched)),c(4),f("disabled",!i.addPasswordForm.valid||i.loading),c(),f("ngIf",i.loading)}}function _R(n,t){n&1&&(a(0,"div",30),u(1," Passwords do not match "),l())}function yR(n,t){n&1&&g(0,"span",24)}function bR(n,t){if(n&1){let e=P();a(0,"div")(1,"h5",25),u(2,"Change Password"),l(),a(3,"form",19),b("ngSubmit",function(){w(e);let r=h(2);return T(r.savePassword())}),g(4,"app-text-input",26)(5,"app-text-input",26)(6,"app-text-input",26),y(7,_R,2,0,"div",27),a(8,"div",28)(9,"button",29),b("click",function(){w(e);let r=h(2);return T(r.togglePasswordEditMode())}),u(10," Cancel "),l(),a(11,"button",22),y(12,yR,1,0,"span",23),u(13," Change Password "),l()()()()}if(n&2){let e,i=h(2);c(3),f("formGroup",i.passwordForm),c(),f("formControl",i.passwordForm.controls.currentPassword)("label","Current Password")("type","password"),c(),f("formControl",i.passwordForm.controls.newPassword)("label","New Password")("type","password"),c(),f("formControl",i.passwordForm.controls.confirmPassword)("label","Confirm Password")("type","password"),c(),f("ngIf",i.passwordForm.hasError("passwordMismatch")&&((e=i.passwordForm.get("confirmPassword"))==null?null:e.touched)),c(4),f("disabled",!i.passwordForm.valid||i.loading),c(),f("ngIf",i.loading)}}function CR(n,t){n&1&&g(0,"span",24)}function xR(n,t){if(n&1){let e=P();a(0,"div")(1,"div",31)(2,"div",32)(3,"h5",33),u(4,"Email Verification Required"),l(),a(5,"p"),u(6,"For your security, we've sent a verification code to your email address: "),a(7,"strong"),u(8),et(9,"censorEmail"),l()(),a(10,"p",5),u(11,"Please check your inbox and enter the code below to complete your password change."),l()()(),a(12,"form",19),b("ngSubmit",function(){w(e);let r=h(2);return T(r.verifyAndChangePassword())}),g(13,"app-text-input",20),a(14,"div",28)(15,"button",29),b("click",function(){w(e);let r=h(2);return T(r.cancelVerification())}),u(16," Cancel "),l(),a(17,"button",22),y(18,CR,1,0,"span",23),u(19," Verify & Complete "),l()()()()}if(n&2){let e=h(2);c(8),k($r(9,6,e.user.email)),c(4),f("formGroup",e.verificationForm),c(),f("formControl",e.verificationForm.controls.verificationCode)("label","Verification Code"),c(4),f("disabled",!e.verificationForm.valid||e.loading),c(),f("ngIf",e.loading)}}function wR(n,t){if(n&1&&(a(0,"div",46)(1,"div",47)(2,"div",48)(3,"div",7),g(4,"i",49),a(5,"h6",50),u(6,"Ranking"),l(),a(7,"p",51),u(8),l()()()(),a(9,"div",47)(10,"div",52)(11,"div",7),g(12,"i",53),a(13,"h6",54),u(14,"Bracket"),l(),a(15,"p",51),u(16),l()()()(),a(17,"div",47)(18,"div",55)(19,"div",7),g(20,"i",56),a(21,"h6",57),u(22,"Bingo"),l(),a(23,"p",51),u(24),l()()()()()),n&2){let e=h(3);c(8),k(e.predictionStats.rankingCount),c(8),k(e.predictionStats.bracketCount),c(8),k(e.predictionStats.bingoCount)}}function TR(n,t){if(n&1&&(a(0,"div",58)(1,"div",59)(2,"div",60)(3,"div",7),g(4,"i",61),a(5,"h6",62),u(6,"Published"),l(),a(7,"p",51),u(8),l()()()(),a(9,"div",59)(10,"div",63)(11,"div",7),g(12,"i",64),a(13,"h6",65),u(14,"Drafts"),l(),a(15,"p",51),u(16),l()()()()()),n&2){let e=h(3);c(8),k(e.predictionStats.publishedCount),c(8),k(e.predictionStats.draftCount)}}function SR(n,t){n&1&&(a(0,"div",66)(1,"div",67)(2,"span",68),u(3,"Loading..."),l()()())}function ER(n,t){if(n&1){let e=P();a(0,"div")(1,"div",31)(2,"h5"),u(3,"Account Information"),l(),a(4,"ul",34)(5,"li",35)(6,"span"),u(7,"Display Name"),l(),a(8,"span",36),u(9),l()(),a(10,"li",35)(11,"span"),u(12,"Username"),l(),a(13,"span",36),u(14),l()(),a(15,"li",35)(16,"span"),u(17,"Email"),l(),a(18,"span",36),u(19),et(20,"censorEmail"),l()(),a(21,"li",35)(22,"span"),u(23,"Account Created"),l(),a(24,"span",36),u(25),et(26,"date"),l()(),a(27,"li",35)(28,"span"),u(29,"Email Verified"),l(),a(30,"span",37),g(31,"i",38),u(32),l()(),a(33,"li",35)(34,"span"),u(35,"Password Set"),l(),a(36,"span",37),g(37,"i",38),u(38),l()()()(),a(39,"div",39)(40,"button",40),b("click",function(){w(e);let r=h(2);return T(r.togglePasswordEditMode())}),g(41,"i",41),u(42),l()(),a(43,"div")(44,"h5",42),u(45,"My Predictions"),l(),y(46,wR,25,3,"div",43)(47,TR,17,2,"div",44)(48,SR,4,0,"div",45),l()()}if(n&2){let e=h(2);c(9),k(e.user.displayName),c(5),k(e.user.username),c(5),k($r(20,14,e.user.email)),c(6),k(qs(26,16,e.user.createdAt,"mediumDate")),c(5),f("ngClass",e.user.emailConfirmed?"text-success":"text-danger"),c(),f("ngClass",e.user.emailConfirmed?"fa-check-circle":"fa-times-circle"),c(),x(" ",e.user.emailConfirmed?"Yes":"No"," "),c(4),f("ngClass",e.user.hasChangedGenericPassword?"text-success":"text-warning"),c(),f("ngClass",e.user.hasChangedGenericPassword?"fa-check-circle":"fa-exclamation-circle"),c(),x(" ",e.user.hasChangedGenericPassword?"Yes":"No"," "),c(4),x(" ",e.isGoogleAuthenticatedWithoutPassword?"Add Password":"Change Password"," "),c(4),f("ngIf",e.predictionStats),c(),f("ngIf",e.predictionStats),c(),f("ngIf",!e.user)}}function IR(n,t){if(n&1&&(a(0,"div",10)(1,"div",11),y(2,uR,2,1,"div",12)(3,pR,3,1,"div",13),a(4,"h4"),u(5),l(),a(6,"p",14),u(7),l()(),a(8,"div",15),y(9,mR,9,9,"div",12)(10,vR,13,10,"div",12)(11,bR,14,13,"div",12)(12,xR,20,8,"div",12)(13,ER,49,19,"div",12),l()()),n&2){let e=h();c(2),f("ngIf",e.user.photoUrl),c(),f("ngIf",!e.user.photoUrl),c(2),k(e.user.displayName),c(2),k(e.user.username),c(2),f("ngIf",e.editMode&&!e.passwordEditMode&&!e.verificationMode),c(),f("ngIf",e.passwordEditMode&&!e.verificationMode&&e.isGoogleAuthenticatedWithoutPassword),c(),f("ngIf",e.passwordEditMode&&!e.verificationMode&&!e.isGoogleAuthenticatedWithoutPassword),c(),f("ngIf",e.verificationMode),c(),f("ngIf",!e.editMode&&!e.passwordEditMode&&!e.verificationMode)}}var du=class n{accountService=E(pe);userService=E(lu);fb=E(mt);toastr=E(re);http=E(ve);router=E(J);user=null;profileForm;passwordForm;addPasswordForm;verificationForm;editMode=!1;passwordEditMode=!1;verificationMode=!1;loading=!1;predictionStats=null;isGoogleAuthenticatedWithoutPassword=!1;ngOnInit(){this.initializeForm(),this.initializePasswordForm(),this.initializeAddPasswordForm(),this.initializeVerificationForm(),this.loadUser(),this.loadPredictionStats()}initializeForm(){this.profileForm=this.fb.group({displayName:["",[V.required,V.minLength(2)]],username:[{value:"",disabled:!0}],email:[{value:"",disabled:!0}],bio:[""]})}initializePasswordForm(){this.passwordForm=this.fb.group({currentPassword:["",[V.required]],newPassword:["",[V.required,V.minLength(8),eo()]],confirmPassword:["",[V.required]]},{validator:this.passwordMatchValidator("newPassword","confirmPassword")})}initializeVerificationForm(){this.verificationForm=this.fb.group({verificationCode:["",[V.required,V.minLength(6),V.maxLength(6)]]})}loadUser(){let t=this.accountService.currentUser();this.user=t,t&&(this.profileForm.patchValue({displayName:t.displayName,username:t.username,email:t.email}),this.isGoogleAuthenticatedWithoutPassword=!t.hasChangedGenericPassword,console.log("User has changed generic password:",t.hasChangedGenericPassword),console.log("Is Google authenticated without password:",this.isGoogleAuthenticatedWithoutPassword))}passwordMatchValidator(t,e){return i=>{let r=i.controls[t],o=i.controls[e];return!r.value||!o.value?null:r.value!==o.value?(o.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):(o.setErrors(null),null)}}loadPredictionStats(){return U(this,null,function*(){try{console.log("Loading user prediction stats...");let t=yield this.http.get(`${Q.apiUrl}post/my-posts`).toPromise();if(t&&Array.isArray(t)){console.log("User posts loaded:",t);let e={rankingCount:0,bracketCount:0,bingoCount:0,totalCount:t.length,publishedCount:0,draftCount:0};t.forEach(i=>{switch(this.getPredictionTypeDisplayName(i.predictionType)){case"Ranking":e.rankingCount++;break;case"Bracket":e.bracketCount++;break;case"Bingo":e.bingoCount++;break}i.isDraft?e.draftCount++:e.publishedCount++}),this.predictionStats=e,console.log("Prediction stats calculated:",e)}else console.log("No predictions found or invalid response"),this.predictionStats={rankingCount:0,bracketCount:0,bingoCount:0,totalCount:0,publishedCount:0,draftCount:0}}catch(t){console.error("Failed to load prediction stats:",t),this.predictionStats={rankingCount:0,bracketCount:0,bingoCount:0,totalCount:0,publishedCount:0,draftCount:0}}})}getPredictionTypeDisplayName(t){if(typeof t=="string")return t;switch(t){case 0:case"0":return"Ranking";case 1:case"1":return"Bracket";case 2:case"2":return"Bingo";default:return"Unknown"}}toggleEditMode(){this.editMode=!this.editMode,this.editMode||this.loadUser()}togglePasswordEditMode(){this.passwordEditMode=!this.passwordEditMode,this.passwordEditMode||(this.passwordForm.reset(),this.addPasswordForm.reset(),this.verificationMode=!1)}saveChanges(){if(this.profileForm.valid){this.loading=!0;let t=this.user?.hasChangedGenericPassword,e=this.user?.wasWarnedAboutPasswordChange,i={username:this.user?.username||"",displayName:this.profileForm.get("displayName")?.value,bio:this.profileForm.get("bio")?.value||""};console.log("Sending direct profile update:",i),this.http.post(Q.apiUrl+"user/direct-profile-update",i).subscribe({next:r=>{console.log("Profile update response:",r),this.toastr.success("Profile updated successfully"),this.user&&(this.user.displayName=this.profileForm.get("displayName")?.value,this.user.hasChangedGenericPassword=t||!1,this.user.wasWarnedAboutPasswordChange=e||!1,this.accountService.setCurrentUser(this.user,!0),this.isGoogleAuthenticatedWithoutPassword=!this.user.hasChangedGenericPassword),this.loading=!1,this.editMode=!1},error:r=>{console.error("Update profile error:",r),console.error("Error details:",r.error),this.toastr.error(r.error?.message||r.error||"Failed to update profile"),this.loading=!1}})}else this.markFormGroupTouched(this.profileForm),this.toastr.error("Please fix the validation errors")}savePassword(){if(this.isGoogleAuthenticatedWithoutPassword)this.addPassword();else if(this.passwordForm.valid){this.loading=!0;let t={usernameOrEmail:this.user?.username||"",password:this.passwordForm.get("currentPassword")?.value};console.log("Verifying current password by login attempt"),this.accountService.login(t).subscribe({next:()=>{this.requestVerificationCode()},error:e=>{console.error("Password verification error:",e),this.toastr.error("Current password is incorrect"),this.loading=!1}})}else this.markFormGroupTouched(this.passwordForm),this.toastr.error("Please fix the validation errors")}requestVerificationCode(){let t={currentPassword:this.passwordForm.get("currentPassword")?.value,newPassword:this.passwordForm.get("newPassword")?.value};sessionStorage.setItem("pendingPasswordChange",JSON.stringify(t)),this.userService.requestPasswordChangeVerification({email:this.user?.email}).subscribe({next:e=>{console.log("Verification code requested:",e),this.toastr.info("Please check your email for a verification code"),this.verificationMode=!0,this.loading=!1},error:e=>{console.error("Failed to request verification code:",e),e.status===0?this.toastr.error("Network error - could not connect to server"):e.status===404||this.toastr.error(e.error?.message||"Could not send verification email"),this.loading=!1,this.directPasswordChange()}})}verifyAndChangePassword(){if(this.verificationForm.valid){this.loading=!0;let t=this.verificationForm.get("verificationCode")?.value,e=sessionStorage.getItem("pendingPasswordChange");if(!e){this.toastr.error("No pending password change found"),this.loading=!1;return}let i=JSON.parse(e);this.http.post(Q.apiUrl+"password/verify-and-change",{username:this.user?.username,verificationCode:t,currentPassword:i.currentPassword,newPassword:i.newPassword}).subscribe({next:r=>{console.log("Password change successful:",r),this.toastr.success("Password changed successfully"),this.loading=!1,this.passwordEditMode=!1,this.verificationMode=!1,this.passwordForm.reset(),this.verificationForm.reset(),sessionStorage.removeItem("pendingPasswordChange"),this.reloginAfterPasswordChange(i.newPassword)},error:r=>{console.error("Verification error:",r),this.toastr.error(r.error?.message||r.error||"Invalid verification code"),this.loading=!1}})}else this.markFormGroupTouched(this.verificationForm),this.toastr.error("Please enter a valid verification code")}directPasswordChange(){let t={Username:this.user?.username,CurrentPassword:this.passwordForm.get("currentPassword")?.value,NewPassword:this.passwordForm.get("newPassword")?.value};console.log("Sending direct password change request as fallback:",t),this.http.post(Q.apiUrl+"password/direct-change",t).subscribe({next:e=>{console.log("Password change successful:",e),this.toastr.success("Password changed successfully"),this.loading=!1,this.passwordEditMode=!1,this.passwordForm.reset(),this.reloginAfterPasswordChange(this.passwordForm.get("newPassword")?.value)},error:e=>{console.error("Direct password change error:",e),this.toastr.error(e.error?.message||e.error||"Failed to change password"),this.loading=!1,this.tryTokenBasedPasswordChange()}})}tryTokenBasedPasswordChange(){this.userService.requestPasswordChange({CurrentPassword:this.passwordForm.get("currentPassword")?.value}).subscribe({next:()=>{this.http.post(Q.apiUrl+"user/reset-password",{UserId:this.user?.username,Token:"placeholder_token",NewPassword:this.passwordForm.get("newPassword")?.value}).subscribe({next:()=>{this.toastr.success("Password changed via token method"),this.loading=!1,this.passwordEditMode=!1,this.passwordForm.reset(),this.reloginAfterPasswordChange(this.passwordForm.get("newPassword")?.value)},error:t=>{console.error("All password change approaches failed:",t),this.toastr.error('Could not update password - please log out and use the "Forgot Password" option'),this.loading=!1}})},error:t=>{console.error("Failed to get password token:",t),this.toastr.error("All password change attempts failed"),this.loading=!1}})}reloginAfterPasswordChange(t){let e={usernameOrEmail:this.user?.username||"",password:t};this.accountService.login(e).subscribe({next:()=>{this.toastr.success("Re-authenticated with new password")},error:i=>{console.error("Re-login error:",i),this.toastr.warning("Password changed but you may need to log out and back in")}})}markFormGroupTouched(t){Object.values(t.controls).forEach(e=>{e.markAsTouched(),e instanceof Et&&this.markFormGroupTouched(e)})}refreshUserData(){let t=this.user?.hasChangedGenericPassword,e=this.user?.wasWarnedAboutPasswordChange;this.accountService.refreshUserData().subscribe({next:i=>{i&&(console.log("Refreshed user data:",i),this.user=i,t!==void 0&&(this.user.hasChangedGenericPassword=t),e!==void 0&&(this.user.wasWarnedAboutPasswordChange=e),this.isGoogleAuthenticatedWithoutPassword=!this.user.hasChangedGenericPassword,this.profileForm.patchValue({displayName:i.displayName,username:i.username,email:i.email}),this.accountService.setCurrentUser(this.user,!0),this.loadPredictionStats())},error:i=>{console.error("Failed to refresh user data:",i),this.toastr.error("Could not refresh user data")}})}cancelVerification(){this.verificationMode=!1,this.verificationForm.reset(),sessionStorage.removeItem("pendingPasswordChange")}initializeAddPasswordForm(){this.addPasswordForm=this.fb.group({newPassword:["",[V.required,V.minLength(8),eo()]],confirmPassword:["",[V.required]]},{validator:this.passwordMatchValidator("newPassword","confirmPassword")})}addPassword(){this.addPasswordForm.valid?(this.loading=!0,this.directAddPassword()):this.markFormGroupTouched(this.addPasswordForm)}directAddPassword(){let t={Username:this.user?.username,NewPassword:this.addPasswordForm.get("newPassword")?.value};console.log("Sending direct password add request:",t),this.http.post(Q.apiUrl+"password/direct-add",t).subscribe({next:e=>{console.log("Password add successful:",e),this.toastr.success("Password added successfully"),this.loading=!1,this.passwordEditMode=!1,this.addPasswordForm.reset(),this.user&&(this.user.hasChangedGenericPassword=!0,this.accountService.setCurrentUser(this.user,!0)),this.refreshUserData()},error:e=>{console.error("Direct password add error:",e),this.toastr.error(e.error?.message||e.error||"Failed to add password"),this.loading=!1}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-profile"]],decls:10,vars:2,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-7"],[1,"card","border-primary","shadow"],[1,"card-header","bg-primary","text-white","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],["class","btn btn-light btn-sm",3,"click",4,"ngIf"],[1,"card-body"],["class","row",4,"ngIf"],[1,"btn","btn-light","btn-sm",3,"click"],[1,"row"],[1,"col-md-4","text-center","mb-4"],[4,"ngIf"],["class","bg-light d-flex align-items-center justify-content-center rounded-circle mx-auto mb-3","style","width: 150px; height: 150px;",4,"ngIf"],[1,"text-muted","mb-0"],[1,"col-md-8"],["alt","Profile",1,"img-fluid","rounded-circle","mb-3",2,"max-width","150px",3,"src"],[1,"bg-light","d-flex","align-items-center","justify-content-center","rounded-circle","mx-auto","mb-3",2,"width","150px","height","150px"],[1,"display-4","text-secondary"],[3,"ngSubmit","formGroup"],[3,"formControl","label"],[1,"text-end","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"mb-3"],[3,"formControl","label","type"],["class","text-danger mb-3",4,"ngIf"],[1,"d-flex","justify-content-between","mt-4"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"text-danger","mb-3"],[1,"mb-4"],[1,"alert","alert-info"],[1,"alert-heading"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"text-primary"],[3,"ngClass"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"mb-4","text-center"],[1,"btn","btn-outline-primary",3,"click"],[1,"fa","fa-lock","me-2"],[1,"text-center"],["class","row g-3 text-center",4,"ngIf"],["class","row g-3 text-center mt-2",4,"ngIf"],["class","text-center py-4",4,"ngIf"],[1,"row","g-3","text-center"],[1,"col-sm-6","col-md-4"],[1,"card","border-warning"],[1,"fa","fa-list-ol","fa-2x","text-warning","mb-2"],[1,"card-title","text-warning"],[1,"card-text","display-6"],[1,"card","border-info"],[1,"fa","fa-sitemap","fa-2x","text-info","mb-2"],[1,"card-title","text-info"],[1,"card","border-success"],[1,"fa","fa-th","fa-2x","text-success","mb-2"],[1,"card-title","text-success"],[1,"row","g-3","text-center","mt-2"],[1,"col-sm-6"],[1,"card","border-primary"],[1,"fa","fa-check-circle","fa-2x","text-primary","mb-2"],[1,"card-title","text-primary"],[1,"card","border-secondary"],[1,"fa","fa-edit","fa-2x","text-secondary","mb-2"],[1,"card-title","text-secondary"],[1,"text-center","py-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),u(6,"My Profile"),l(),y(7,dR,2,1,"button",6),l(),a(8,"div",7),y(9,IR,14,9,"div",8),l()()()()()),e&2&&(c(7),f("ngIf",!i.passwordEditMode&&!i.verificationMode),c(2),f("ngIf",i.user))},dependencies:[Y,Bt,ee,$c,rt,ft,Ee,pt,Yn,lt,mi,cu],encapsulation:2})};var Bx=(n,t)=>{let e=E(pe),i=E(re);return e.currentUser()?!0:(i.error("You need to be logged in to access this area"),!1)};var Ux=(n,t)=>{let e=E(pe),i=E(re);return e.roles().includes("Admin")||e.roles().includes("Moderator")?!0:(i.error("You cannot enter this area"),!1)};function PR(n,t){n&1&&u(0," Verification code is required ")}function DR(n,t){n&1&&u(0," Verification code must contain only numbers ")}function kR(n,t){n&1&&u(0," Verification code must be 6 digits ")}function MR(n,t){if(n&1&&(a(0,"div",15),y(1,PR,1,0)(2,DR,1,0)(3,kR,1,0),l()),n&2){let e,i=h();c(),on(!((e=i.verificationForm.get("code"))==null||e.errors==null)&&e.errors.required?1:!((e=i.verificationForm.get("code"))==null||e.errors==null)&&e.errors.pattern?2:!((e=i.verificationForm.get("code"))==null||e.errors==null)&&e.errors.minlength||!((e=i.verificationForm.get("code"))==null||e.errors==null)&&e.errors.maxlength?3:-1)}}function OR(n,t){if(n&1&&(a(0,"div",16),u(1),l()),n&2){let e=h();c(),k(e.errorMessage)}}function AR(n,t){n&1&&(g(0,"span",21),u(1," Verifying... "))}function RR(n,t){n&1&&u(0," Verify Email ")}var uu=class n{constructor(t,e,i,r){this.fb=t;this.router=e;this.toastr=i;this.accountService=r}verificationForm;loading=!1;userId=null;errorMessage=null;ngOnInit(){this.verificationForm=this.fb.group({code:["",[V.required,V.minLength(6),V.maxLength(6),V.pattern("^[0-9]*$")]]});let t=sessionStorage.getItem("verificationUserId");console.log("Stored verification userId:",t),t?(this.userId=parseInt(t,10),console.log("Using userId for verification:",this.userId)):(console.error("No userId found in session storage"),this.toastr.error("Verification session expired. Please try logging in again."),this.router.navigateByUrl("/auth"))}submitVerification(){if(this.verificationForm.valid&&this.userId){this.loading=!0;let t={id:this.userId,code:this.verificationForm.get("code")?.value};this.accountService.verifyEmailCode(t).subscribe({next:()=>{this.loading=!1,sessionStorage.removeItem("verificationUserId"),this.toastr.success("Email verified successfully!");let e=sessionStorage.getItem("pendingLoginCredentials");if(e){let i=JSON.parse(e);this.accountService.login(i).subscribe({next:()=>{sessionStorage.removeItem("pendingLoginCredentials"),this.router.navigateByUrl("/")},error:()=>{this.router.navigateByUrl("/auth")}})}else this.router.navigateByUrl("/auth")},error:e=>{this.loading=!1,this.errorMessage="Invalid verification code. Please try again.",this.verificationForm.get("code")?.reset()}})}}resendCode(){this.userId?(this.loading=!0,this.accountService.resendVerificationCode(this.userId).subscribe({next:()=>{this.loading=!1,this.toastr.info("A new verification code has been sent to your email")},error:t=>{this.loading=!1,console.error("Resend error in component:",t),this.toastr.error("Failed to resend verification code")},complete:()=>{this.loading=!1}})):this.toastr.error("User ID not found")}goToLogin(){sessionStorage.removeItem("verificationUserId"),this.router.navigateByUrl("/auth")}static \u0275fac=function(e){return new(e||n)(R(mt),R(J),R(re),R(pe))};static \u0275cmp=z({type:n,selectors:[["app-verification"]],decls:28,vars:6,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-5"],[1,"card","border-primary","shadow","rounded-4"],[1,"card-header","bg-primary","text-white"],[1,"text-center"],[1,"card-body"],[1,"text-center","mb-4"],[1,"alert","alert-info"],[1,"mb-0"],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"form-label"],[1,"form-group"],["type","text","formControlName","code","placeholder","000000","maxlength","6","autocomplete","off",1,"form-control","form-control-lg","text-center","verification-code"],[1,"invalid-feedback","d-block"],[1,"alert","alert-danger"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","button",1,"btn","btn-link",3,"click"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),u(6,"Verify Your Email"),l()(),a(7,"div",6)(8,"div",7)(9,"div",8)(10,"p",9),u(11,"We've sent a 6-digit verification code to your email address."),l()()(),a(12,"form",10),b("ngSubmit",function(){return i.submitVerification()}),a(13,"div",11)(14,"label",12),u(15,"Enter Verification Code"),l(),a(16,"div",13),g(17,"input",14),y(18,MR,4,1,"div",15),l()(),y(19,OR,2,1,"div",16),a(20,"div",17)(21,"button",18),y(22,AR,2,0)(23,RR,1,0),l(),a(24,"button",19),b("click",function(){return i.resendCode()}),u(25," Resend Code "),l(),a(26,"button",20),b("click",function(){return i.goToLogin()}),u(27," Back to Login "),l()()()()()()()()),e&2){let r;c(12),f("formGroup",i.verificationForm),c(6),on((r=i.verificationForm.get("code"))!=null&&r.invalid&&((r=i.verificationForm.get("code"))!=null&&r.touched)?18:-1),c(),on(i.errorMessage?19:-1),c(2),f("disabled",!i.verificationForm.valid||i.loading),c(),on(i.loading?22:23),c(2),f("disabled",i.loading)}},dependencies:[Y,rt,ft,qe,Ee,pt,Bi,lt,kt],styles:[".verification-code[_ngcontent-%COMP%]{font-size:1.75rem;letter-spacing:.75rem;text-align:center;font-weight:700}.card[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #0003}.bg-primary[_ngcontent-%COMP%]{border-top-left-radius:10px!important;border-top-right-radius:10px!important}"]})};function NR(n,t){n&1&&g(0,"span",17)}function FR(n,t){if(n&1){let e=P();a(0,"div")(1,"p",11),u(2," Enter your email address below and we'll send you a code to reset your password. "),l(),a(3,"form",12),b("ngSubmit",function(){w(e);let r=h();return T(r.submitForgotPassword())}),g(4,"app-text-input",13),a(5,"div",14)(6,"button",15),y(7,NR,1,0,"span",16),u(8," Send Reset Code "),l()()()()}if(n&2){let e=h();c(3),f("formGroup",e.forgotPasswordForm),c(),f("formControl",e.forgotPasswordForm.controls.email)("label","Email"),c(2),f("disabled",!e.forgotPasswordForm.valid||e.loading),c(),f("ngIf",e.loading)}}function VR(n,t){n&1&&(a(0,"div",18)(1,"div",19),g(2,"i",20),a(3,"p",21),u(4,"If your email is registered, you will receive a password reset code shortly."),l()(),a(5,"p"),u(6,"Redirecting to reset password page..."),l(),a(7,"div",22)(8,"span",23),u(9,"Loading..."),l()()())}var pu=class n{constructor(t,e,i){this.fb=t;this.router=e;this.accountService=i}forgotPasswordForm;loading=!1;emailSent=!1;ngOnInit(){this.forgotPasswordForm=this.fb.group({email:["",[V.required,V.email]]})}submitForgotPassword(){if(this.forgotPasswordForm.valid){this.loading=!0;let t=this.forgotPasswordForm.get("email")?.value;this.accountService.forgotPassword(t).subscribe({next:()=>{this.loading=!1,this.emailSent=!0,sessionStorage.setItem("resetEmail",t),setTimeout(()=>{this.router.navigateByUrl("/reset-password")},2e3)},error:()=>{this.loading=!1}})}}static \u0275fac=function(e){return new(e||n)(R(mt),R(J),R(pe))};static \u0275cmp=z({type:n,selectors:[["app-forgot-password"]],decls:13,vars:2,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-5"],[1,"card","border-primary","shadow","rounded-4"],[1,"card-header","bg-primary","text-white"],[1,"text-center"],[1,"card-body"],[4,"ngIf"],["class","text-center py-3",4,"ngIf"],[1,"text-center","mt-3"],["routerLink","/auth",1,"text-info"],[1,"text-center","mb-4"],["autocomplete","off",3,"ngSubmit","formGroup"],[3,"formControl","label"],[1,"d-grid","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"text-center","py-3"],[1,"alert","alert-success"],[1,"fa","fa-check-circle","fa-2x","mb-3"],[1,"mb-0"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),u(6,"Forgot Password"),l()(),a(7,"div",6),y(8,FR,9,5,"div",7)(9,VR,10,0,"div",8),a(10,"div",9)(11,"a",10),u(12,"Back to Login"),l()()()()()()()),e&2&&(c(8),f("ngIf",!i.emailSent),c(),f("ngIf",i.emailSent))},dependencies:[Y,ee,rt,ft,Ee,pt,Yn,lt,mi],styles:[".card[_ngcontent-%COMP%]{transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #0003!important}.bg-primary[_ngcontent-%COMP%]{border-top-left-radius:10px!important;border-top-right-radius:10px!important}"]})};function LR(n,t){n&1&&(a(0,"div"),u(1," Verification code is required "),l())}function BR(n,t){n&1&&(a(0,"div"),u(1," Verification code must contain only numbers "),l())}function UR(n,t){n&1&&(a(0,"div"),u(1," Verification code must be 6 digits "),l())}function jR(n,t){if(n&1&&(a(0,"div",25),y(1,LR,2,0,"div",7)(2,BR,2,0,"div",7)(3,UR,2,0,"div",7),l()),n&2){let e,i,r,o=h(2);c(),f("ngIf",(e=o.resetPasswordForm.get("code"))==null||e.errors==null?null:e.errors.required),c(),f("ngIf",(i=o.resetPasswordForm.get("code"))==null||i.errors==null?null:i.errors.pattern),c(),f("ngIf",((r=o.resetPasswordForm.get("code"))==null||r.errors==null?null:r.errors.minlength)||((r=o.resetPasswordForm.get("code"))==null||r.errors==null?null:r.errors.maxlength))}}function $R(n,t){n&1&&(a(0,"div",26),u(1," Passwords do not match "),l())}function HR(n,t){if(n&1&&(a(0,"div",27),u(1),l()),n&2){let e=h(2);c(),x(" ",e.errorMessage," ")}}function zR(n,t){n&1&&g(0,"span",28)}function qR(n,t){if(n&1){let e=P();a(0,"div")(1,"div",11)(2,"p",12),u(3),l()(),a(4,"form",13),b("ngSubmit",function(){w(e);let r=h();return T(r.submitResetPassword())}),a(5,"div",14)(6,"label",15),u(7,"Verification Code"),l(),g(8,"input",16),y(9,jR,4,3,"div",17),l(),g(10,"app-text-input",18)(11,"app-text-input",18),y(12,$R,2,0,"div",19)(13,HR,2,1,"div",20),a(14,"div",21)(15,"button",22),y(16,zR,1,0,"span",23),u(17," Reset Password "),l(),a(18,"button",24),b("click",function(){w(e);let r=h();return T(r.resendCode())}),u(19," Resend Code "),l()()()()}if(n&2){let e,i,r=h();c(3),x("We've sent a 6-digit code to ",r.email,". Enter the code and your new password below."),c(),f("formGroup",r.resetPasswordForm),c(5),f("ngIf",((e=r.resetPasswordForm.get("code"))==null?null:e.invalid)&&((e=r.resetPasswordForm.get("code"))==null?null:e.touched)),c(),f("formControl",r.resetPasswordForm.controls.newPassword)("label","New Password")("type","password"),c(),f("formControl",r.resetPasswordForm.controls.confirmPassword)("label","Confirm Password")("type","password"),c(),f("ngIf",r.resetPasswordForm.hasError("passwordMismatch")&&((i=r.resetPasswordForm.get("confirmPassword"))==null?null:i.touched)),c(),f("ngIf",r.errorMessage),c(2),f("disabled",!r.resetPasswordForm.valid||r.loading),c(),f("ngIf",r.loading)}}function GR(n,t){n&1&&(a(0,"div",29)(1,"div",30),g(2,"i",31),a(3,"p",12),u(4,"Your password has been reset successfully!"),l()(),a(5,"p"),u(6,"Redirecting to login page..."),l(),a(7,"div",32)(8,"span",33),u(9,"Loading..."),l()()())}var fu=class n{constructor(t,e,i){this.fb=t;this.router=e;this.accountService=i}resetPasswordForm;loading=!1;resetComplete=!1;errorMessage=null;email=null;ngOnInit(){if(this.email=sessionStorage.getItem("resetEmail"),!this.email){this.router.navigateByUrl("/forgot-password");return}this.resetPasswordForm=this.fb.group({code:["",[V.required,V.minLength(6),V.maxLength(6),V.pattern("^[0-9]*$")]],newPassword:["",[V.required,V.minLength(8),V.maxLength(32),eo()]],confirmPassword:["",[V.required]]},{validator:this.matchPasswords("newPassword","confirmPassword")})}matchPasswords(t,e){return i=>{let r=i.controls[t],o=i.controls[e];return r.value!==o.value?o.setErrors({passwordMismatch:!0}):o.setErrors(null),null}}submitResetPassword(){if(this.resetPasswordForm.valid&&this.email){this.loading=!0,this.errorMessage=null;let t={email:this.email,code:this.resetPasswordForm.get("code")?.value,newPassword:this.resetPasswordForm.get("newPassword")?.value};this.accountService.resetPassword(t).subscribe({next:()=>{this.loading=!1,this.resetComplete=!0,sessionStorage.removeItem("resetEmail"),setTimeout(()=>{this.router.navigateByUrl("/auth")},3e3)},error:e=>{this.loading=!1,this.errorMessage=typeof e=="string"?e:"Failed to reset password"}})}}resendCode(){this.email&&this.accountService.forgotPassword(this.email).subscribe()}static \u0275fac=function(e){return new(e||n)(R(mt),R(J),R(pe))};static \u0275cmp=z({type:n,selectors:[["app-reset-password"]],decls:13,vars:2,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-5"],[1,"card","border-primary","shadow","rounded-4"],[1,"card-header","bg-primary","text-white"],[1,"text-center"],[1,"card-body"],[4,"ngIf"],["class","text-center py-3",4,"ngIf"],[1,"text-center","mt-3"],["routerLink","/auth",1,"text-info"],[1,"alert","alert-info","mb-4"],[1,"mb-0"],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","code","placeholder","000000","maxlength","6",1,"form-control","form-control-lg","text-center"],["class","invalid-feedback d-block",4,"ngIf"],[3,"formControl","label","type"],["class","text-danger mb-3",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"invalid-feedback","d-block"],[1,"text-danger","mb-3"],[1,"alert","alert-danger"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"text-center","py-3"],[1,"alert","alert-success"],[1,"fa","fa-check-circle","fa-2x","mb-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),u(6,"Reset Password"),l()(),a(7,"div",6),y(8,qR,20,13,"div",7)(9,GR,10,0,"div",8),a(10,"div",9)(11,"a",10),u(12,"Back to Login"),l()()()()()()()),e&2&&(c(8),f("ngIf",!i.resetComplete),c(),f("ngIf",i.resetComplete))},dependencies:[Y,ee,rt,ft,qe,Ee,pt,Bi,Yn,lt,kt,mi],styles:[".form-control.text-center[_ngcontent-%COMP%]{font-size:1.5rem;letter-spacing:.5rem;text-align:center}.bg-primary[_ngcontent-%COMP%]{border-top-left-radius:10px!important;border-top-right-radius:10px!important}"]})};var mu=class n{http=E(ve);baseUrl=Q.apiUrl;accountService=E(pe);constructor(){Hn(()=>{let t=this.accountService.currentUser();if(t&&t.wasWarnedAboutPasswordChange===!1){console.log("User was warned about password change");let e=new Dt({Authorization:`Bearer ${t.token}`});this.http.put(`${this.baseUrl}account/was-warned-about-password-change`,{},{responseType:"text",headers:e}).subscribe({next:()=>{console.log("Password change warning acknowledged")},error:i=>{console.error("Error acknowledging password change warning",i)}}),t.wasWarnedAboutPasswordChange=!0,this.accountService.setCurrentUser(t,!0)}})}ngOnInit(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-password-change-warning"]],decls:20,vars:0,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6"],[1,"card","mt-5","shadow","border-warning"],[1,"card-header","bg-warning","text-dark"],[1,"text-center","mb-0"],[1,"fa","fa-exclamation-triangle","me-2"],[1,"card-body","text-center","py-4"],[1,"lead","mb-4"],[1,"mb-4"],[1,"d-flex","justify-content-center","gap-3","mt-4"],["routerLink","/profile",1,"btn","btn-primary","btn-lg"],[1,"fa","fa-lock","me-2"],["routerLink","/",1,"btn","btn-outline-secondary","btn-lg"],[1,"fa","fa-home","me-2"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),g(6,"i",6),u(7,"Security Recommendation"),l()(),a(8,"div",7)(9,"p",8),u(10," We recommend setting a password for your account even though you signed in with Google. "),l(),a(11,"p",9),u(12," This ensures you can still access your account if Google authentication isn't available or if you forget your Google password. "),l(),a(13,"div",10)(14,"a",11),g(15,"i",12),u(16,"Set Password "),l(),a(17,"a",13),g(18,"i",14),u(19,"Go to Home "),l()()()()()()())},dependencies:[it,Tt,Y],styles:[".card[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;transition:all .3s ease;border-width:2px}.card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 30px #00000026!important}.card-header[_ngcontent-%COMP%]{border-bottom-width:2px}.btn[_ngcontent-%COMP%]{padding:12px 24px;font-weight:500;transition:all .2s}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0000001a}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.lead[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:400}"]})};var hu=class n{baseUrl=Q.apiUrl;http=E(ve);toastr=E(re);createdPredictionData=xe(null);ngOnInit(){}getPredictions(){}createPrediction(t){return this.http.post(this.baseUrl+"prediction/create",t)}getPrediction(t){return this.http.get(this.baseUrl+"prediction/"+t)}updatePrediction(t){return this.http.put(this.baseUrl+"prediction/update",t)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var jx=(n,t)=>t.id;function WR(n,t){n&1&&(a(0,"div",50),u(1," Please select a prediction type "),l())}function YR(n,t){n&1&&(a(0,"div",50),u(1," Title is required (minimum 5 characters) "),l())}function ZR(n,t){n&1&&(a(0,"div",50),u(1," Description is required (minimum 10 characters) "),l())}function QR(n,t){n&1&&(a(0,"div"),u(1," Start date is required "),l())}function KR(n,t){n&1&&(a(0,"div"),u(1," Please enter a valid start date "),l())}function JR(n,t){n&1&&(a(0,"div"),u(1," Start date cannot be in the past "),l())}function XR(n,t){if(n&1&&(a(0,"div",50),y(1,QR,2,0,"div",51)(2,KR,2,0,"div",51)(3,JR,2,0,"div",51),l()),n&2){let e,i,r,o=h();c(),f("ngIf",(e=o.predictionForm.get("startDate"))==null||e.errors==null?null:e.errors.required),c(),f("ngIf",(i=o.predictionForm.get("startDate"))==null||i.errors==null?null:i.errors.invalidDate),c(),f("ngIf",(r=o.predictionForm.get("startDate"))==null||r.errors==null?null:r.errors.pastDate)}}function eN(n,t){n&1&&(a(0,"div"),u(1," End date is required "),l())}function tN(n,t){n&1&&(a(0,"div"),u(1," Please enter a valid end date "),l())}function nN(n,t){n&1&&(a(0,"div"),u(1," End date cannot be in the past "),l())}function iN(n,t){n&1&&(a(0,"div"),u(1," End date must be at least one day after start date "),l())}function rN(n,t){if(n&1&&(a(0,"div",50),y(1,eN,2,0,"div",51)(2,tN,2,0,"div",51)(3,nN,2,0,"div",51)(4,iN,2,0,"div",51),l()),n&2){let e,i,r,o,s=h();c(),f("ngIf",(e=s.predictionForm.get("endDate"))==null||e.errors==null?null:e.errors.required),c(),f("ngIf",(i=s.predictionForm.get("endDate"))==null||i.errors==null?null:i.errors.invalidDate),c(),f("ngIf",(r=s.predictionForm.get("endDate"))==null||r.errors==null?null:r.errors.pastDate),c(),f("ngIf",(o=s.predictionForm.get("endDate"))==null||o.errors==null?null:o.errors.invalidDateRange)}}function oN(n,t){if(n&1&&g(0,"i",58),n&2){let e=h().$implicit;oe("color",e.colorCode),f("ngClass",e.iconName)}}function sN(n,t){if(n&1&&g(0,"i",58),n&2){let e=h().$implicit;oe("color",e.colorCode),f("ngClass",e.iconName)}}function aN(n,t){if(n&1){let e=P();a(0,"div",59)(1,"input",60),b("change",function(r){let o=w(e).$implicit,s=h(3);return T(s.onCategoryChange(o.id,r))}),l(),a(2,"label",61),y(3,sN,1,3,"i",56),u(4),l()()}if(n&2){let e,i=t.$implicit,r=h(3);c(),f("id","category-"+i.id)("checked",(e=r.predictionForm.get("categories"))==null||e.value==null?null:e.value.includes(i.id)),c(),f("for","category-"+i.id),c(),on(i.iconName?3:-1),c(),x(" ",i.name," ")}}function lN(n,t){if(n&1&&(a(0,"div",57),$s(1,aN,5,5,"div",59,jx),l()),n&2){let e=h().$implicit;c(),Hs(e.subCategories)}}function cN(n,t){if(n&1){let e=P();a(0,"div",52)(1,"div",53)(2,"input",54),b("change",function(r){let o=w(e).$implicit,s=h();return T(s.onCategoryChange(o.id,r))}),l(),a(3,"label",55),y(4,oN,1,3,"i",56),u(5),l()(),y(6,lN,3,0,"div",57),l()}if(n&2){let e,i=t.$implicit,r=h();M("has-children",i.subCategories&&i.subCategories.length>0),c(2),f("id","category-"+i.id)("checked",(e=r.predictionForm.get("categories"))==null||e.value==null?null:e.value.includes(i.id)),c(),f("for","category-"+i.id),c(),on(i.iconName?4:-1),c(),x(" ",i.name," "),c(),on(i.subCategories&&i.subCategories.length>0?6:-1)}}function dN(n,t){n&1&&(a(0,"div",50),u(1," Please select a privacy setting "),l())}function uN(n,t){n&1&&g(0,"span",62)}var gu=class n{fb=E(mt);predictionService=E(hu);categoryService=E(ui);router=E(J);allCategories=[];rootCategories=[];selectedCategories=[];isPredictionCreated=!1;submitting=!1;predictionForm=new Et({});minDate="";constructor(){Hn(()=>{this.allCategories=this.categoryService.allCategories(),this.rootCategories=this.categoryService.rootCategories(),console.log("All categories:",this.allCategories),console.log("Root categories:",this.rootCategories)})}ngOnInit(){this.initializeForm()}trackById(t,e){return e.id}formatDateForInput(t){if(!t)return"";let e=new Date(t);return isNaN(e.getTime())?"":e.toISOString().split("T")[0]}initializeForm(){let t=new Date;if(this.minDate=t.toISOString().split("T")[0],this.predictionForm=this.fb.group({predictionType:[{value:"",disabled:!1},V.required],title:["",[V.required,V.minLength(5)]],description:["",[V.required,V.minLength(10)]],startDate:["",[V.required]],endDate:["",[V.required]],privacyType:["",V.required],categories:[[],V.required],isDraft:[!1]},{validators:this.dateRangeValidator("startDate","endDate")}),this.predictionForm.get("predictionType")?.setValidators([V.required,this.noBracketValidator()]),this.predictionService.createdPredictionData()!==null){let e=this.predictionService.createdPredictionData();e&&(this.predictionForm.patchValue({predictionType:e.predictionType,title:e.title,description:e.description,startDate:this.formatDateForInput(e.startDate),endDate:this.formatDateForInput(e.endDate),privacyType:e.privacyType,categories:e.categories||[],isDraft:e.isDraft}),this.predictionForm.markAllAsTouched())}}noBracketValidator(){return t=>t.value==="Bracket"?{bracketNotAvailable:!0}:null}onCategoryChange(t,e){let i=e.target;this.toggleCategory(t,i.checked)}toggleCategory(t,e){let i=this.predictionForm.get("categories");if(!i)return;let o=[...i.value];if(e){o.includes(t)||o.push(t);let s=this.allCategories.find(d=>d.id===t);if(s?.parentCategoryId){let d=s.parentCategoryId;o.includes(d)||o.push(d)}}else{o=o.filter(p=>p!==t);let s=this.rootCategories.find(p=>p.id===t);if(s?.subCategories?.length){let p=s.subCategories.map(m=>m.id);o=o.filter(m=>!p.includes(m))}let d=this.allCategories.find(p=>p.id===t);if(d?.parentCategoryId){let p=d.parentCategoryId;(this.rootCategories.find(S=>S.id===p)?.subCategories?.map(S=>S.id)||[]).some(S=>S!==t&&o.includes(S))||(o=o.filter(S=>S!==p))}}i.setValue(o),i.markAsTouched(),i.updateValueAndValidity()}dateRangeValidator(t,e){return i=>{let r=i.controls[t].value,o=i.controls[e].value;if(!r||!o)return null;let s=new Date(r),d=new Date(o);if(isNaN(s.getTime()))return i.controls[t].setErrors({invalidDate:!0}),{invalidDate:!0};if(isNaN(d.getTime()))return i.controls[e].setErrors({invalidDate:!0}),{invalidDate:!0};let p=new Date;if(p.setHours(0,0,0,0),s<p)return i.controls[t].setErrors({pastDate:!0}),{pastDate:!0};if(d<p)return i.controls[e].setErrors({pastDate:!0}),{pastDate:!0};let m=new Date(s);return m.setDate(m.getDate()+1),d<m?(i.controls[e].setErrors({invalidDateRange:!0}),{invalidDateRange:!0}):null}}onSubmit(){if(this.submitting=!0,this.predictionForm.invalid){this.predictionForm.markAllAsTouched(),this.submitting=!1;return}let t=this.predictionForm.value;if(console.log("Form data being submitted:",t),this.predictionService.createdPredictionData()!==null){let e=this.predictionService.createdPredictionData();if(e){if(JSON.stringify(e)===JSON.stringify(t)){console.log("No changes detected, not submitting."),this.submitting=!1;return}let i=Z(O({},t),{id:e.id});this.predictionService.updatePrediction(i).subscribe({next:r=>{console.log("Prediction updated successfully:",r),this.isPredictionCreated=!0,this.predictionService.createdPredictionData.set(r),this.submitting=!1,this.router.navigate(["/edit-template",r.id,r.predictionType])},error:r=>{console.error("Error updating prediction:",r),this.submitting=!1}});return}}this.predictionService.createPrediction(t).subscribe({next:e=>{console.log("Prediction created successfully:",e),this.isPredictionCreated=!0,this.predictionService.createdPredictionData.set(e),this.submitting=!1,this.router.navigate(["/edit-template",e.id,e.predictionType])},error:e=>{console.error("Error creating prediction:",e),this.submitting=!1}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-create-prediction"]],decls:93,vars:11,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","border-primary"],[1,"card-header","bg-primary","text-white"],[1,"text-center","mb-0"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"form-label","fw-bold"],[1,"d-flex","flex-wrap","gap-3"],[1,"form-check"],["type","radio","formControlName","predictionType","id","rankingType","value","Ranking",1,"form-check-input"],["for","rankingType",1,"form-check-label"],[1,"d-flex","align-items-center"],[1,"fa","fa-list-ol","me-2"],[1,"text-muted","d-block"],[1,"form-check","bracket-disabled"],["type","radio","formControlName","predictionType","id","bracketType","value","Bracket",1,"form-check-input"],["for","bracketType",1,"form-check-label","disabled-option"],[1,"fa","fa-sitemap","me-2"],[1,"badge","bg-secondary","ms-2"],["type","radio","formControlName","predictionType","id","bingoType","value","Bingo",1,"form-check-input"],["for","bingoType",1,"form-check-label"],[1,"fa","fa-th","me-2"],["class","text-danger mt-1",4,"ngIf"],[1,"mb-3"],["for","title",1,"form-label","fw-bold"],["type","text","id","title","formControlName","title","placeholder","Enter prediction title",1,"form-control"],["for","description",1,"form-label","fw-bold"],["id","description","formControlName","description","placeholder","Add a description","rows","4",1,"form-control"],["for","startDate",1,"form-label","fw-bold"],["type","date","id","startDate","formControlName","startDate","required","",1,"form-control",3,"min"],["for","endDate",1,"form-label","fw-bold"],["type","date","id","endDate","formControlName","endDate","required","",1,"form-control",3,"min"],[1,"categories-dynamic-grid"],[1,"category-item",3,"has-children"],[1,"d-flex","flex-wrap","gap-2"],[1,"form-check","form-check-inline"],["type","radio","formControlName","privacyType","id","publicType","value","Public",1,"form-check-input"],["for","publicType",1,"form-check-label"],[1,"fa","fa-globe","me-1"],["type","radio","formControlName","privacyType","id","privateType","value","Private",1,"form-check-input"],["for","privateType",1,"form-check-label"],[1,"fa","fa-lock","me-1"],["type","checkbox","id","publishNow","formControlName","isDraft",1,"form-check-input"],["for","publishNow",1,"form-check-label"],[1,"d-grid","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"text-danger","mt-1"],[4,"ngIf"],[1,"category-item"],[1,"form-check","mb-2"],["type","checkbox",1,"form-check-input",3,"change","id","checked"],[1,"form-check-label","fw-bold",3,"for"],[1,"fa",3,"ngClass","color"],[1,"subcategories-container"],[1,"fa",3,"ngClass"],[1,"form-check","subcategory-item"],["type","checkbox",1,"form-check-input","form-check-input-sm",3,"change","id","checked"],[1,"form-check-label","small","text-muted",3,"for"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),u(6,"Create Prediction"),l()(),a(7,"div",6)(8,"form",7),b("ngSubmit",function(){return i.onSubmit()}),a(9,"div",8)(10,"label",9),u(11,"Prediction Type"),l(),a(12,"div",10)(13,"div",11),g(14,"input",12),a(15,"label",13)(16,"div",14),g(17,"i",15),a(18,"span"),u(19,"Ranking"),l()(),a(20,"small",16),u(21,"Order items from best to worst"),l()()(),a(22,"div",17),g(23,"input",18),a(24,"label",19)(25,"div",14),g(26,"i",20),a(27,"span"),u(28,"Bracket"),l(),a(29,"span",21),u(30,"Soon"),l()(),a(31,"small",16),u(32,"Tournament-style elimination"),l()()(),a(33,"div",11),g(34,"input",22),a(35,"label",23)(36,"div",14),g(37,"i",24),a(38,"span"),u(39,"Bingo"),l()(),a(40,"small",16),u(41,"Create a customizable bingo card"),l()()()(),y(42,WR,2,0,"div",25),l(),a(43,"div",26)(44,"label",27),u(45,"Prediction Title"),l(),g(46,"input",28),y(47,YR,2,0,"div",25),l(),a(48,"div",26)(49,"label",29),u(50,"Description"),l(),g(51,"textarea",30),y(52,ZR,2,0,"div",25),l(),a(53,"div",26)(54,"label",31),u(55,"Start Date"),l(),g(56,"input",32),y(57,XR,4,3,"div",25),l(),a(58,"div",26)(59,"label",33),u(60,"End Date"),l(),g(61,"input",34),y(62,rN,5,4,"div",25),l(),a(63,"label",9),u(64,"Categories"),l(),a(65,"div",26)(66,"div",35),$s(67,cN,7,8,"div",36,jx),l()(),a(69,"div",26)(70,"label",9),u(71,"Privacy Settings"),l(),a(72,"div",37)(73,"div",38),g(74,"input",39),a(75,"label",40),g(76,"i",41),u(77," Public "),l()(),a(78,"div",38),g(79,"input",42),a(80,"label",43),g(81,"i",44),u(82," Private "),l()()(),y(83,dN,2,0,"div",25),l(),a(84,"div",26)(85,"div",11),g(86,"input",45),a(87,"label",46),u(88," Publish immediately (uncheck to save as draft) "),l()()(),a(89,"div",47)(90,"button",48),y(91,uN,1,0,"span",49),u(92," Create Prediction "),l()()()()()()()()),e&2){let r,o,s,d,p,m;c(8),f("formGroup",i.predictionForm),c(34),f("ngIf",((r=i.predictionForm.get("predictionType"))==null?null:r.invalid)&&(((r=i.predictionForm.get("predictionType"))==null?null:r.dirty)||((r=i.predictionForm.get("predictionType"))==null?null:r.touched))),c(5),f("ngIf",((o=i.predictionForm.get("title"))==null?null:o.invalid)&&(((o=i.predictionForm.get("title"))==null?null:o.dirty)||((o=i.predictionForm.get("title"))==null?null:o.touched))),c(5),f("ngIf",((s=i.predictionForm.get("description"))==null?null:s.invalid)&&(((s=i.predictionForm.get("description"))==null?null:s.dirty)||((s=i.predictionForm.get("description"))==null?null:s.touched))),c(4),f("min",i.minDate),c(),f("ngIf",((d=i.predictionForm.get("startDate"))==null?null:d.invalid)&&(((d=i.predictionForm.get("startDate"))==null?null:d.dirty)||((d=i.predictionForm.get("startDate"))==null?null:d.touched))),c(4),f("min",i.minDate),c(),f("ngIf",((p=i.predictionForm.get("endDate"))==null?null:p.invalid)&&(((p=i.predictionForm.get("endDate"))==null?null:p.dirty)||((p=i.predictionForm.get("endDate"))==null?null:p.touched))),c(5),Hs(i.rootCategories),c(16),f("ngIf",((m=i.predictionForm.get("privacyType"))==null?null:m.invalid)&&(((m=i.predictionForm.get("privacyType"))==null?null:m.dirty)||((m=i.predictionForm.get("privacyType"))==null?null:m.touched))),c(7),f("disabled",i.predictionForm.invalid||i.submitting),c(),f("ngIf",i.submitting)}},dependencies:[Fe,ft,qe,Xr,Zg,Ee,pt,Xg,Y,Bt,ee,rt,lt,kt],styles:[".card[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 4px 8px #0000001a}.card-header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#007bff,#0056b3);border-radius:10px 10px 0 0}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#007bff;border-color:#007bff}.form-check-label[_ngcontent-%COMP%]{cursor:pointer}.category-indent[_ngcontent-%COMP%]{margin-left:1.5rem}.file-upload-container[_ngcontent-%COMP%]{position:relative;padding:10px;border:1px dashed #ccc;border-radius:5px}.file-upload-container[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.btn-primary[_ngcontent-%COMP%]{transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.text-danger[_ngcontent-%COMP%]{font-size:.875rem}.categories-dynamic-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;align-items:start}.category-item[_ngcontent-%COMP%]{padding:.75rem;border-radius:.5rem;border:1px solid #e9ecef;transition:all .2s ease}.category-item[_ngcontent-%COMP%]:hover{border-color:#0d6efd;box-shadow:0 2px 4px #0000001a}.category-item.has-children[_ngcontent-%COMP%]{grid-row-end:span 2;min-height:fit-content}.subcategories-container[_ngcontent-%COMP%]{margin-top:.5rem;padding-left:1rem;border-left:2px solid;display:flex;flex-direction:column;gap:.25rem}.subcategory-item[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.subcategory-item[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{transform:scale(.9)}.subcategory-item[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{padding-left:.25rem;font-size:.875rem}.bracket-disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.bracket-disabled[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{cursor:not-allowed}.bracket-disabled[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{cursor:not-allowed!important;color:#6c757d!important}.bracket-disabled[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]:hover{color:#6c757d!important}.badge.bg-secondary[_ngcontent-%COMP%]{font-size:.7em;padding:.25em .5em}.bracket-disabled[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#6c757d;border-color:#6c757d}@media (max-width: 768px){.categories-dynamic-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.category-item.has-children[_ngcontent-%COMP%]{grid-row-end:auto}}@media (min-width: 768px) and (max-width: 1200px){.categories-dynamic-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}}@media (min-width: 1200px){.categories-dynamic-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}}"]})};var Na=(i=>(i.Ranking="Ranking",i.Bracket="Bracket",i.Bingo="Bingo",i))(Na||{});var cs=class n{baseUrl=Q.apiUrl+"template";http=E(ve);accountService=E(pe);toastr=E(re);officialRankingTemplates=xe([]);officialBracketTemplates=xe([]);officialBingoTemplates=xe([]);userRankingTemplates=xe([]);userBracketTemplates=xe([]);userBingoTemplates=xe([]);constructor(){}ngOnInit(){}getOfficialAndUserRankingTemplates(){return U(this,null,function*(){yield Promise.all([this.getOfficialRankingTemplates(),this.getUserRankingTemplates()])})}getOfficialAndUserBracketTemplates(){return U(this,null,function*(){yield Promise.all([this.getOfficialBracketTemplates(),this.getUserBracketTemplates()])})}getOfficialAndUserBingoTemplates(){return U(this,null,function*(){yield Promise.all([this.getOfficialBingoTemplates(),this.getUserBingoTemplates()])})}createRankingTemplate(t){return U(this,null,function*(){try{let e=yield ct(this.http.post(`${this.baseUrl}/ranking`,t));this.userRankingTemplates.update(i=>[...i,e]),console.log("Ranking template created successfully")}catch(e){throw console.error("Error creating ranking template:",e),e}})}getRankingTemplate(t){return this.http.get(`${this.baseUrl}/ranking/${t}`).pipe(Ae(e=>{this.userRankingTemplates.update(i=>[...i,e])})).subscribe({next:e=>{console.log("Ranking template received")},error:e=>{console.error("Error fetching ranking template:",e)}}),this.userRankingTemplates().find(e=>e.id===t)}getOfficialRankingTemplates(){return U(this,null,function*(){try{let t=yield ct(this.http.get(`${this.baseUrl}/ranking/official`));this.officialRankingTemplates.set(t),console.log("Official ranking templates received",t)}catch(t){console.error("Error fetching official ranking templates:",t)}})}getUserRankingTemplates(){return U(this,null,function*(){try{let t=yield ct(this.http.get(`${this.baseUrl}/ranking/user`));this.userRankingTemplates.set(t),console.log("User ranking templates received",t)}catch(t){console.error("Error fetching user ranking templates:",t)}})}createBracketTemplate(t){return U(this,null,function*(){try{console.log("Sending bracket template to server:",t);let e={id:0,name:t.name,numberOfRounds:t.numberOfRounds,numberOfBrackets:Math.pow(2,t.numberOfRounds),bracketType:t.bracketType,officialTemplate:!1,teams:[],userId:0};console.log("Sending DTO:",e);let i=yield ct(this.http.post(`${this.baseUrl}/bracket`,e));console.log("Bracket template created successfully:",i),this.userBracketTemplates.update(r=>[...r,i])}catch(e){throw console.error("Error creating bracket template:",e),this.toastr.error("Failed to create bracket template"),e}})}getBracketTemplate(t){return U(this,null,function*(){try{let e=yield ct(this.http.get(`${this.baseUrl}/bracket/${t}`));return console.log("Bracket template received:",e),e}catch(e){return console.error("Error fetching bracket template:",e),this.toastr.error("Failed to fetch bracket template"),null}})}updateBracketTemplate(t){return U(this,null,function*(){try{yield ct(this.http.put(`${this.baseUrl}/bracket/${t.id}`,t)),this.userBracketTemplates.update(e=>e.map(i=>i.id===t.id?t:i)),console.log("Bracket template updated successfully"),this.toastr.success("Bracket template updated successfully")}catch(e){throw console.error("Error updating bracket template:",e),this.toastr.error("Failed to update bracket template"),e}})}deleteBracketTemplate(t){return U(this,null,function*(){try{yield ct(this.http.delete(`${this.baseUrl}/bracket/${t}`)),this.userBracketTemplates.update(e=>e.filter(i=>i.id!==t)),console.log("Bracket template deleted successfully"),this.toastr.success("Bracket template deleted successfully")}catch(e){throw console.error("Error deleting bracket template:",e),this.toastr.error("Failed to delete bracket template"),e}})}getOfficialBracketTemplates(){return U(this,null,function*(){try{let t=yield ct(this.http.get(`${this.baseUrl}/bracket/official`));this.officialBracketTemplates.set(t),console.log("Official bracket templates received",t)}catch(t){console.error("Error fetching official bracket templates:",t)}})}getUserBracketTemplates(){return U(this,null,function*(){try{let t=yield ct(this.http.get(`${this.baseUrl}/bracket/user`));this.userBracketTemplates.set(t),console.log("User bracket templates received",t)}catch(t){console.error("Error fetching user bracket templates:",t)}})}createBingoTemplate(t){return U(this,null,function*(){try{let e=yield ct(this.http.post(`${this.baseUrl}/bingo`,t));this.userBingoTemplates.update(i=>[...i,e]),console.log("Bingo template created successfully")}catch(e){throw console.error("Error creating bingo template:",e),e}})}getBingoTemplate(t){this.http.get(`${this.baseUrl}/bingo/${t}`).subscribe({next:e=>{this.userBingoTemplates.update(i=>[...i,e]),console.log("Bingo template received")},error:e=>{console.error("Error fetching bingo template:",e)}})}getOfficialBingoTemplates(){return U(this,null,function*(){try{let t=yield ct(this.http.get(`${this.baseUrl}/bingo/official`));this.officialBingoTemplates.set(t),console.log("Official bingo templates received",t)}catch(t){console.error("Error fetching official bingo templates:",t)}})}getUserBingoTemplates(){return U(this,null,function*(){try{let t=yield ct(this.http.get(`${this.baseUrl}/bingo/user`));this.userBingoTemplates.set(t),console.log("User bingo templates received",t)}catch(t){console.error("Error fetching user bingo templates:",t)}})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var e0=(e=>(e.SingleTeam="SingleTeam",e.Matchup="Matchup",e))(e0||{});var t0=()=>[];function pN(n,t){n&1&&(a(0,"div",13)(1,"div",14)(2,"span",15),u(3,"Loading..."),l()(),a(4,"p",16),u(5,"Loading templates..."),l()())}function fN(n,t){n&1&&(a(0,"div",30),g(1,"i",31),a(2,"p",32),u(3,"No official ranking templates available"),l()())}function mN(n,t){if(n&1){let e=P();a(0,"div",35)(1,"div",36),b("click",function(){let r=w(e).$implicit,o=h(4);return T(o.selectTemplate(r))}),a(2,"div",37),g(3,"i",38),a(4,"h6",39),u(5),l(),a(6,"p",40),u(7),l(),a(8,"div",41)(9,"span",42),g(10,"i",43),u(11,"Official "),l()(),a(12,"div",41)(13,"span",44),g(14,"i",45),u(15),l()()()()()}if(n&2){let e=t.$implicit,i=h(4);c(),M("border-primary",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id)("bg-primary",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id),c(2),M("text-light",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id),c(2),q("",e.numberOfRows," x ",e.numberOfColumns," "),c(2),q(" ",e.numberOfRows," rows, ",e.numberOfColumns," columns "),c(8),x("",e.name," ")}}function hN(n,t){if(n&1&&(a(0,"div",33),y(1,mN,16,11,"div",34),l()),n&2){let e=h(3);c(),f("ngForOf",e.officialRankingTemplates())("ngForTrackBy",e.trackById)}}function gN(n,t){if(n&1&&(a(0,"div"),y(1,fN,4,0,"div",28)(2,hN,2,2,"div",29),l()),n&2){let e=h(2);c(),f("ngIf",e.officialRankingTemplates().length===0),c(),f("ngIf",e.officialRankingTemplates().length>0)}}function vN(n,t){n&1&&(a(0,"div",30),g(1,"i",31),a(2,"p",32),u(3,"No official bracket templates available"),l()())}function _N(n,t){if(n&1){let e=P();a(0,"div",35)(1,"div",36),b("click",function(){let r=w(e).$implicit,o=h(4);return T(o.selectTemplate(r))}),a(2,"div",37),g(3,"i",46),a(4,"h6",39),u(5),l(),a(6,"p",40),u(7),l(),a(8,"p",40),u(9),l(),a(10,"div",41)(11,"span",42),g(12,"i",43),u(13,"Official "),l()(),a(14,"div",41)(15,"span",44),g(16,"i",45),u(17),l()()()()()}if(n&2){let e=t.$implicit,i=h(4);c(),M("border-primary",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id)("bg-primary",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id),c(2),M("text-light",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id),c(2),x("",e.numberOfRounds," Rounds"),c(2),x(" Tournament with ",e.numberOfRounds," elimination rounds "),c(2),x(" Bracket Type: ",e.bracketType==="SingleTeam"?"Single Team":"Matchup"," "),c(8),x("",e.name," ")}}function yN(n,t){if(n&1&&(a(0,"div",33),y(1,_N,18,10,"div",34),l()),n&2){let e=h(3);c(),f("ngForOf",e.officialBracketTemplates())("ngForTrackBy",e.trackById)}}function bN(n,t){if(n&1&&(a(0,"div"),y(1,vN,4,0,"div",28)(2,yN,2,2,"div",29),l()),n&2){let e=h(2);c(),f("ngIf",e.officialBracketTemplates().length===0),c(),f("ngIf",e.officialBracketTemplates().length>0)}}function CN(n,t){n&1&&(a(0,"div",30),g(1,"i",31),a(2,"p",32),u(3,"No official bingo templates available"),l()())}function xN(n,t){if(n&1){let e=P();a(0,"div",35)(1,"div",36),b("click",function(){let r=w(e).$implicit,o=h(4);return T(o.selectTemplate(r))}),a(2,"div",37),g(3,"i",47),a(4,"h6",39),u(5),l(),a(6,"p",40),u(7),l(),a(8,"div",41)(9,"span",42),g(10,"i",43),u(11,"Official "),l()(),a(12,"div",41)(13,"span",44),g(14,"i",45),u(15),l()()()()()}if(n&2){let e=t.$implicit,i=h(4);c(),M("border-primary",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id)("bg-primary",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id),c(2),M("text-light",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id),c(2),q("",e.gridSize,"x",e.gridSize," Grid"),c(2),x(" Bingo card with ",e.gridSize*e.gridSize," squares "),c(8),x("",e.name," ")}}function wN(n,t){if(n&1&&(a(0,"div",33),y(1,xN,16,10,"div",34),l()),n&2){let e=h(3);c(),f("ngForOf",e.officialBingoTemplates())("ngForTrackBy",e.trackById)}}function TN(n,t){if(n&1&&(a(0,"div"),y(1,CN,4,0,"div",28)(2,wN,2,2,"div",29),l()),n&2){let e=h(2);c(),f("ngIf",e.officialBingoTemplates().length===0),c(),f("ngIf",e.officialBingoTemplates().length>0)}}function SN(n,t){if(n&1){let e=P();a(0,"div",35)(1,"div",36),b("click",function(){let r=w(e).$implicit,o=h(4);return T(o.selectTemplate(r))}),a(2,"div",37),g(3,"i",49),a(4,"h6",39),u(5),l(),a(6,"p",40),u(7),l(),a(8,"div",41)(9,"span",50),g(10,"i",51),u(11,"Custom "),l(),a(12,"span",52),g(13,"i",45),u(14),l(),a(15,"span",53),g(16,"i",54),u(17),l()()()()()}if(n&2){let e=t.$implicit,i=h(4);c(),M("border-primary",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id)("bg-primary",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id),c(2),M("text-light",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id),c(2),q("",e.numberOfRows," x ",e.numberOfColumns,""),c(2),q(" ",e.numberOfRows," rows, ",e.numberOfColumns," columns "),c(7),x("",e.name," "),c(3),x("",(e.teams||$e(12,t0)).length," Teams Included ")}}function EN(n,t){if(n&1&&(a(0,"div",33),y(1,SN,18,13,"div",34),l()),n&2){let e=h(3);c(),f("ngForOf",e.userRankingTemplates())("ngForTrackBy",e.trackById)}}function IN(n,t){if(n&1){let e=P();a(0,"div",35)(1,"div",36),b("click",function(){let r=w(e).$implicit,o=h(4);return T(o.selectTemplate(r))}),a(2,"div",37),g(3,"i",55),a(4,"h6",39),u(5),l(),a(6,"p",40),u(7),l(),a(8,"p",40),u(9),l(),a(10,"div",41)(11,"span",50),g(12,"i",51),u(13,"Custom "),l(),a(14,"span",52),g(15,"i",45),u(16),l(),a(17,"span",53),g(18,"i",54),u(19),l()()()()()}if(n&2){let e=t.$implicit,i=h(4);c(),M("border-primary",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id)("bg-primary",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id),c(2),M("text-light",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id),c(2),x("",e.numberOfRounds," Rounds"),c(2),x(" Tournament with ",e.numberOfRounds," elimination rounds "),c(2),x(" Bracket Type: ",e.bracketType==="SingleTeam"?"Single Team":"Matchup"," "),c(7),x("",e.name," "),c(3),x("",(e.teams||$e(11,t0)).length," Teams Included ")}}function PN(n,t){if(n&1&&(a(0,"div",33),y(1,IN,20,12,"div",34),l()),n&2){let e=h(3);c(),f("ngForOf",e.userBracketTemplates())("ngForTrackBy",e.trackById)}}function DN(n,t){if(n&1){let e=P();a(0,"div",35)(1,"div",36),b("click",function(){let r=w(e).$implicit,o=h(4);return T(o.selectTemplate(r))}),a(2,"div",37),g(3,"i",56),a(4,"h6",39),u(5),l(),a(6,"p",40),u(7),l(),a(8,"div",41)(9,"span",50),g(10,"i",51),u(11,"Custom "),l(),a(12,"span",52),g(13,"i",45),u(14),l(),a(15,"span",53),g(16,"i",54),u(17),l()()()()()}if(n&2){let e=t.$implicit,i=h(4);c(),M("border-primary",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id)("bg-primary",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id),c(2),M("text-light",(i.selectedTemplate==null?null:i.selectedTemplate.id)===e.id),c(2),q("",e.gridSize,"x",e.gridSize," Grid"),c(2),x(" Bingo card with ",e.gridSize*e.gridSize," squares "),c(7),x("",e.name," "),c(3),x("",(e.teams||$e(11,t0)).length," Teams Included ")}}function kN(n,t){if(n&1&&(a(0,"div",33),y(1,DN,18,12,"div",34),l()),n&2){let e=h(3);c(),f("ngForOf",e.userBingoTemplates())("ngForTrackBy",e.trackById)}}function MN(n,t){if(n&1&&(a(0,"div",17)(1,"div",18)(2,"h4",19),g(3,"i",48),u(4," Your Custom Templates "),l()(),a(5,"div",21),y(6,EN,2,2,"div",29)(7,PN,2,2,"div",29)(8,kN,2,2,"div",29),l()()),n&2){let e=h(2);c(6),f("ngIf",e.predictionType==="Ranking"&&e.userRankingTemplates().length>0),c(),f("ngIf",e.predictionType==="Bracket"&&e.userBracketTemplates().length>0),c(),f("ngIf",e.predictionType==="Bingo"&&e.userBingoTemplates().length>0)}}function ON(n,t){n&1&&(a(0,"div",69),u(1," Please enter a valid template name (1-50 characters) "),l())}function AN(n,t){n&1&&(a(0,"div",69),u(1," Please enter a valid number of rows (3-50) "),l())}function RN(n,t){n&1&&(a(0,"div",69),u(1," Please enter a valid number of columns (1-10) "),l())}function NN(n,t){n&1&&g(0,"span",70)}function FN(n,t){n&1&&g(0,"i",71)}function VN(n,t){if(n&1){let e=P();a(0,"form",58),b("ngSubmit",function(){w(e);let r=h(3);return T(r.createCustomRankingTemplate())}),a(1,"div",33)(2,"div",59)(3,"label",60),u(4,"Template Name"),l(),g(5,"input",61),a(6,"div",62),u(7,"Enter a name for your template (max 50 characters)"),l(),y(8,ON,2,0,"div",63),l(),a(9,"div",59)(10,"label",60),u(11,"Number of Rows"),l(),g(12,"input",64),a(13,"div",62),u(14,"Between 3 and 50 rows"),l(),y(15,AN,2,0,"div",63),l(),a(16,"div",59)(17,"label",60),u(18,"Number of Columns"),l(),g(19,"input",65),a(20,"div",62),u(21,"Between 1 and 10 columns"),l(),y(22,RN,2,0,"div",63),l()(),a(23,"button",66),y(24,NN,1,0,"span",67)(25,FN,1,0,"i",68),u(26," Create Ranking Template "),l()()}if(n&2){let e,i,r,o=h(3);f("formGroup",o.customRankingForm),c(8),f("ngIf",((e=o.customRankingForm.get("name"))==null?null:e.invalid)&&((e=o.customRankingForm.get("name"))==null?null:e.touched)),c(7),f("ngIf",((i=o.customRankingForm.get("numberOfRows"))==null?null:i.invalid)&&((i=o.customRankingForm.get("numberOfRows"))==null?null:i.touched)),c(7),f("ngIf",((r=o.customRankingForm.get("numberOfColumns"))==null?null:r.invalid)&&((r=o.customRankingForm.get("numberOfColumns"))==null?null:r.touched)),c(),f("disabled",o.customRankingForm.invalid||o.isCreatingTemplate),c(),f("ngIf",o.isCreatingTemplate),c(),f("ngIf",!o.isCreatingTemplate)}}function LN(n,t){n&1&&(a(0,"div",69),u(1," Please enter a valid template name (1-50 characters) "),l())}function BN(n,t){n&1&&(a(0,"div",69),u(1," Please enter a valid number of rounds (2-10) "),l())}function UN(n,t){n&1&&g(0,"span",70)}function jN(n,t){n&1&&g(0,"i",71)}function $N(n,t){if(n&1){let e=P();a(0,"form",58),b("ngSubmit",function(){w(e);let r=h(3);return T(r.createCustomBracketTemplate())}),a(1,"div",33)(2,"div",59)(3,"label",60),u(4,"Template Name"),l(),g(5,"input",61),a(6,"div",62),u(7,"Enter a name for your template (max 50 characters)"),l(),y(8,LN,2,0,"div",63),l(),a(9,"div",59)(10,"label",60),u(11,"Number of Rounds"),l(),g(12,"input",72),a(13,"div",62),u(14,"Between 2 and 10 rounds"),l(),y(15,BN,2,0,"div",63),l()(),a(16,"button",66),y(17,UN,1,0,"span",67)(18,jN,1,0,"i",68),u(19," Create Bracket Template "),l()()}if(n&2){let e,i,r=h(3);f("formGroup",r.customBracketForm),c(8),f("ngIf",((e=r.customBracketForm.get("name"))==null?null:e.invalid)&&((e=r.customBracketForm.get("name"))==null?null:e.touched)),c(7),f("ngIf",((i=r.customBracketForm.get("numberOfRounds"))==null?null:i.invalid)&&((i=r.customBracketForm.get("numberOfRounds"))==null?null:i.touched)),c(),f("disabled",r.customBracketForm.invalid||r.isCreatingTemplate),c(),f("ngIf",r.isCreatingTemplate),c(),f("ngIf",!r.isCreatingTemplate)}}function HN(n,t){n&1&&(a(0,"div",69),u(1," Please enter a valid template name (1-50 characters) "),l())}function zN(n,t){n&1&&(a(0,"div",69),u(1," Please enter a valid grid size (3-10) "),l())}function qN(n,t){n&1&&g(0,"span",70)}function GN(n,t){n&1&&g(0,"i",71)}function WN(n,t){if(n&1){let e=P();a(0,"form",58),b("ngSubmit",function(){w(e);let r=h(3);return T(r.createCustomBingoTemplate())}),a(1,"div",33)(2,"div",59)(3,"label",60),u(4,"Template Name"),l(),g(5,"input",61),a(6,"div",62),u(7,"Enter a name for your template (max 50 characters)"),l(),y(8,HN,2,0,"div",63),l(),a(9,"div",59)(10,"label",60),u(11,"Grid Size"),l(),g(12,"input",73),a(13,"div",62),u(14,"Between 3x3 and 10x10 grid"),l(),y(15,zN,2,0,"div",63),l()(),a(16,"button",66),y(17,qN,1,0,"span",67)(18,GN,1,0,"i",68),u(19," Create Bingo Template "),l()()}if(n&2){let e,i,r=h(3);f("formGroup",r.customBingoForm),c(8),f("ngIf",((e=r.customBingoForm.get("name"))==null?null:e.invalid)&&((e=r.customBingoForm.get("name"))==null?null:e.touched)),c(7),f("ngIf",((i=r.customBingoForm.get("gridSize"))==null?null:i.invalid)&&((i=r.customBingoForm.get("gridSize"))==null?null:i.touched)),c(),f("disabled",r.customBingoForm.invalid||r.isCreatingTemplate),c(),f("ngIf",r.isCreatingTemplate),c(),f("ngIf",!r.isCreatingTemplate)}}function YN(n,t){if(n&1&&(a(0,"div",21),y(1,VN,27,7,"form",57)(2,$N,20,6,"form",57)(3,WN,20,6,"form",57),l()),n&2){let e=h(2);c(),f("ngIf",e.predictionType==="Ranking"),c(),f("ngIf",e.predictionType==="Bracket"),c(),f("ngIf",e.predictionType==="Bingo")}}function ZN(n,t){n&1&&(a(0,"div",21)(1,"div",13),g(2,"i",74),a(3,"h5",32),u(4,"Select a template to continue"),l(),a(5,"p",32),u(6,"Choose from official templates or create your own custom template"),l()()())}function QN(n,t){if(n&1&&(er(0),a(1,"p",85)(2,"strong"),u(3,"Dimensions:"),l(),u(4),l(),a(5,"p",85)(6,"strong"),u(7,"Total Items:"),l(),u(8),l(),tr()),n&2){let e=h(3);c(4),q(" ",e.selectedTemplate.numberOfRows," rows \xD7 ",e.selectedTemplate.numberOfColumns," columns "),c(4),x(" ",e.selectedTemplate.numberOfRows*e.selectedTemplate.numberOfColumns," ")}}function KN(n,t){if(n&1&&(er(0),a(1,"p",85)(2,"strong"),u(3,"Rounds:"),l(),u(4),l(),a(5,"p",85)(6,"strong"),u(7,"Max Participants:"),l(),u(8),l(),a(9,"p",85)(10,"strong"),u(11,"Bracket Type:"),l(),u(12),l(),tr()),n&2){let e=h(3);c(4),x(" ",e.selectedTemplate.numberOfRounds," "),c(4),x(" ",e.pow(2,e.selectedTemplate.numberOfRounds)," "),c(4),x(" ",e.selectedTemplate.bracketType==="SingleTeam"?"Single Team":"Matchup"," ")}}function JN(n,t){if(n&1&&(er(0),a(1,"p",85)(2,"strong"),u(3,"Grid Size:"),l(),u(4),l(),a(5,"p",85)(6,"strong"),u(7,"Total Squares:"),l(),u(8),l(),tr()),n&2){let e=h(3);c(4),q(" ",e.selectedTemplate.gridSize,"\xD7",e.selectedTemplate.gridSize," "),c(4),x(" ",e.selectedTemplate.gridSize*e.selectedTemplate.gridSize," ")}}function XN(n,t){if(n&1){let e=P();a(0,"div",75)(1,"div",76)(2,"h4",19),g(3,"i",77),u(4),l(),a(5,"span",78),g(6,"i",25),u(7),l()(),a(8,"div",21)(9,"div",33)(10,"div",79)(11,"h5",80),g(12,"i",81),u(13,"Template Details"),l(),y(14,QN,9,3,"ng-container",12)(15,KN,13,3,"ng-container",12)(16,JN,9,3,"ng-container",12),l(),a(17,"div",82)(18,"button",83),b("click",function(){w(e);let r=h(2);return T(r.proceedWithTemplate())}),g(19,"i",84),u(20," Continue "),l()()()()()}if(n&2){let e=h(2);c(4),x(" Selected ",e.predictionType," Template "),c(),M("bg-warning",e.selectedTemplate.officialTemplate)("bg-info",!e.selectedTemplate.officialTemplate)("text-dark",e.selectedTemplate.officialTemplate),c(),M("fa-star",e.selectedTemplate.officialTemplate)("fa-user",!e.selectedTemplate.officialTemplate),c(),x(" ",e.selectedTemplate.officialTemplate?"Official":"Custom"," "),c(7),f("ngIf",e.predictionType==="Ranking"),c(),f("ngIf",e.predictionType==="Bracket"),c(),f("ngIf",e.predictionType==="Bingo")}}function e4(n,t){if(n&1){let e=P();a(0,"div")(1,"div",17)(2,"div",18)(3,"h4",19),g(4,"i",20),u(5),l()(),a(6,"div",21),y(7,gN,3,2,"div",12)(8,bN,3,2,"div",12)(9,TN,3,2,"div",12),l()(),y(10,MN,9,3,"div",22),a(11,"div",17)(12,"div",18)(13,"div",5)(14,"h4",19),g(15,"i",23),u(16," Create Custom Template "),l(),a(17,"button",24),b("click",function(){w(e);let r=h();return T(r.toggleCustomForm())}),g(18,"i",25),u(19),l()()(),y(20,YN,4,3,"div",26)(21,ZN,7,0,"div",26),l(),y(22,XN,21,15,"div",27),l()}if(n&2){let e=h();c(5),x(" Official ",e.predictionType," Templates "),c(2),f("ngIf",e.predictionType==="Ranking"),c(),f("ngIf",e.predictionType==="Bracket"),c(),f("ngIf",e.predictionType==="Bingo"),c(),f("ngIf",e.predictionType==="Ranking"&&e.userRankingTemplates().length>0||e.predictionType==="Bracket"&&e.userBracketTemplates().length>0||e.predictionType==="Bingo"&&e.userBingoTemplates().length>0),c(8),M("fa-plus",!e.showCustomForm)("fa-minus",e.showCustomForm),c(),x(" ",e.showCustomForm?"Cancel":"Create Custom"," "),c(),f("ngIf",e.showCustomForm),c(),f("ngIf",!e.selectedTemplate&&!e.showCustomForm),c(),f("ngIf",e.selectedTemplate)}}var vu=class n{predictionId=0;predictionType="Ranking";officialRankingTemplates=Wt(()=>this.templateService.officialRankingTemplates());officialBracketTemplates=Wt(()=>this.templateService.officialBracketTemplates());officialBingoTemplates=Wt(()=>this.templateService.officialBingoTemplates());userRankingTemplates=Wt(()=>this.templateService.userRankingTemplates());userBracketTemplates=Wt(()=>this.templateService.userBracketTemplates());userBingoTemplates=Wt(()=>this.templateService.userBingoTemplates());selectedTemplate=null;customRankingForm=new Et({});customBracketForm=new Et({});customBingoForm=new Et({});showCustomForm=!1;isLoading=!1;isCreatingTemplate=!1;PredictionType=Na;BracketType=e0;route=E(Ne);router=E(J);templateService=E(cs);fb=E(mt);toastr=E(re);constructor(){Hn(()=>{console.log("Official ranking templates updated:",this.officialRankingTemplates()),console.log("User ranking templates updated:",this.userRankingTemplates()),console.log("Official bracket templates updated:",this.officialBracketTemplates()),console.log("User bracket templates updated:",this.userBracketTemplates()),console.log("Official bingo templates updated:",this.officialBingoTemplates()),console.log("User bingo templates updated:",this.userBingoTemplates())})}ngOnInit(){return U(this,null,function*(){this.initializeForms(),this.route.params.subscribe(t=>{this.predictionId=+t.id,this.predictionType=t.type,console.log("Prediction ID:",this.predictionId),console.log("Prediction Type:",this.predictionType)});try{yield this.loadTemplates()}catch(t){console.error("Error loading templates:",t),this.toastr.error("Failed to load templates")}})}pow(t,e){return Math.pow(t,e)}initializeForms(){this.customRankingForm=this.fb.group({name:["",[V.required,V.minLength(3),V.maxLength(50)]],numberOfRows:[10,[V.required,V.min(3),V.max(50)]],numberOfColumns:[1,[V.required,V.min(1),V.max(10)]]}),this.customBracketForm=this.fb.group({name:["",[V.required,V.minLength(3),V.maxLength(50)]],bracketType:["SingleTeam",V.required],numberOfRounds:[4,[V.required,V.min(2),V.max(10)]]}),this.customBingoForm=this.fb.group({name:["",[V.required,V.minLength(3),V.maxLength(50)]],gridSize:[5,[V.required,V.min(3),V.max(10)]]})}loadTemplates(){return U(this,null,function*(){this.isLoading=!0;try{switch(this.predictionType){case"Ranking":yield this.templateService.getOfficialAndUserRankingTemplates();break;case"Bracket":yield this.templateService.getOfficialAndUserBracketTemplates();break;case"Bingo":yield this.templateService.getOfficialAndUserBingoTemplates();break}}finally{this.isLoading=!1}})}selectTemplate(t){this.selectedTemplate=t,console.log("Selected template:",this.selectedTemplate),this.showCustomForm=!1}toggleCustomForm(){this.showCustomForm=!this.showCustomForm,this.selectedTemplate=null}createCustomRankingTemplate(){return U(this,null,function*(){if(this.customRankingForm.valid){this.isCreatingTemplate=!0;try{let t=O({id:0,officialTemplate:!1,teams:[]},this.customRankingForm.value);yield this.templateService.createRankingTemplate(t),this.toastr.success("Ranking template created successfully!"),setTimeout(()=>{this.showCustomForm=!1,this.isCreatingTemplate=!1},1e3)}catch(t){console.error("Error creating template:",t),this.toastr.error("Failed to create ranking template"),this.isCreatingTemplate=!1}}})}createCustomBracketTemplate(){return U(this,null,function*(){if(this.customBracketForm.valid){this.isCreatingTemplate=!0;try{let t=this.customBracketForm.value,e={id:0,name:t.name,officialTemplate:!1,numberOfRounds:t.numberOfRounds,numberOfBrackets:Math.pow(2,t.numberOfRounds),bracketType:t.bracketType,teams:[],createdAt:new Date,updatedAt:new Date};console.log("Creating bracket template:",e),yield this.templateService.createBracketTemplate(e),this.toastr.success("Bracket template created successfully!"),setTimeout(()=>{this.showCustomForm=!1,this.isCreatingTemplate=!1},1e3)}catch(t){console.error("Error creating bracket template:",t),this.toastr.error("Failed to create bracket template"),this.isCreatingTemplate=!1}}})}createCustomBingoTemplate(){return U(this,null,function*(){if(this.customBingoForm.valid){this.isCreatingTemplate=!0;try{let t=O({id:0,officialTemplate:!1,teams:[]},this.customBingoForm.value);yield this.templateService.createBingoTemplate(t),this.toastr.success("Bingo template created successfully!"),setTimeout(()=>{this.showCustomForm=!1,this.isCreatingTemplate=!1},1e3)}catch(t){console.error("Error creating template:",t),this.toastr.error("Failed to create bingo template"),this.isCreatingTemplate=!1}}})}proceedWithTemplate(){this.selectedTemplate&&(console.log("Proceeding with template:",this.selectedTemplate),this.router.navigate(["/select-teams",this.predictionId,this.selectedTemplate.id,this.predictionType],{state:{template:this.selectedTemplate,predictionId:this.predictionId,predictionType:this.predictionType}}))}goBack(){this.router.navigate(["/create-prediction"])}trackById(t,e){return e.id}getBracketTypeDisplayName(t){switch(t){case"SingleTeam":return"Single Team";case"Matchup":return"Matchup";default:return"Unknown"}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-edit-template"]],decls:17,vars:3,consts:[[1,"container-fluid","mt-4"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"card","bg-primary","border-primary","mb-4"],[1,"card-header","bg-primary","border-primary"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-light","mb-1"],[1,"fa","fa-cogs","me-2"],[1,"text-light","mb-0","opacity-75"],[1,"btn","btn-outline-light",3,"click"],[1,"fa","fa-arrow-left","me-2"],["class","text-center py-5",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[1,"card","bg-secondary","border-secondary","mb-4"],[1,"card-header","bg-secondary","border-secondary"],[1,"text-light","mb-0"],[1,"fa","fa-star","me-2","text-warning"],[1,"card-body"],["class","card bg-secondary border-secondary mb-4",4,"ngIf"],[1,"fa","fa-plus-circle","me-2","text-success"],[1,"btn","btn-outline-success","btn-sm",3,"click"],[1,"fa"],["class","card-body",4,"ngIf"],["class","card bg-dark border-success shadow mb-4",4,"ngIf"],["class","text-center py-4",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-center","py-4"],[1,"fa","fa-inbox","fa-3x","text-muted","mb-3"],[1,"text-muted"],[1,"row"],["class","col-md-6 col-lg-4 mb-3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-6","col-lg-4","mb-3"],[1,"card","bg-dark","border-dark","h-100",2,"cursor","pointer",3,"click"],[1,"card-body","text-center"],[1,"fa","fa-list-ol","fa-2x","text-primary","mb-3"],[1,"card-title","text-light"],[1,"card-text","text-muted","small"],[1,"mt-2"],[1,"badge","bg-warning","text-dark"],[1,"fa","fa-star","me-1"],[1,"badge","bg-secondary","text-light"],[1,"fa","fa-tag","me-1"],[1,"fa","fa-sitemap","fa-2x","text-primary","mb-3"],[1,"fa","fa-th","fa-2x","text-primary","mb-3"],[1,"fa","fa-user","me-2","text-info"],[1,"fa","fa-list-ol","fa-2x","text-info","mb-3"],[1,"badge","bg-info","text-dark","me-1"],[1,"fa","fa-user","me-1"],[1,"badge","bg-secondary","text-light","me-1"],[1,"badge","bg-primary","text-light"],[1,"fa","fa-users","me-1"],[1,"fa","fa-sitemap","fa-2x","text-info","mb-3"],[1,"fa","fa-th","fa-2x","text-info","mb-3"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"col-md-6","mb-3"],[1,"form-label","text-light"],["type","text","formControlName","name","maxlength","50",1,"form-control","bg-dark","border-dark","text-light"],[1,"form-text","text-muted"],["class","text-danger small mt-1",4,"ngIf"],["type","number","formControlName","numberOfRows","min","3","max","50",1,"form-control","bg-dark","border-dark","text-light"],["type","number","formControlName","numberOfColumns","min","1","max","10",1,"form-control","bg-dark","border-dark","text-light"],["type","submit",1,"btn","btn-success",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","fa fa-save me-2",4,"ngIf"],[1,"text-danger","small","mt-1"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fa","fa-save","me-2"],["type","number","formControlName","numberOfRounds","min","2","max","10",1,"form-control","bg-dark","border-dark","text-light"],["type","number","formControlName","gridSize","min","3","max","10",1,"form-control","bg-dark","border-dark","text-light"],[1,"fa","fa-hand-pointer-o","fa-3x","text-muted","mb-3"],[1,"card","bg-dark","border-success","shadow","mb-4"],[1,"card-header","bg-success","border-success","d-flex","justify-content-between","align-items-center"],[1,"fa","fa-check-circle","me-2"],[1,"badge"],[1,"col-md-8"],[1,"text-light","mb-3"],[1,"fa","fa-info-circle","me-2"],[1,"col-md-4","text-end","d-flex","align-items-end","justify-content-end"],[1,"btn","btn-outline-light","btn-lg","mt-3",3,"click"],[1,"fa","fa-arrow-right","me-2"],[1,"text-light","mb-2"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"h2",6),g(8,"i",7),u(9),l(),a(10,"p",8),u(11," Select from official templates or create your own custom template "),l()(),a(12,"button",9),b("click",function(){return i.goBack()}),g(13,"i",10),u(14,"Back "),l()()()(),y(15,pN,6,0,"div",11)(16,e4,23,13,"div",12),l()()()),e&2&&(c(9),x(" Choose ",i.predictionType," Template "),c(6),f("ngIf",i.isLoading),c(),f("ngIf",!i.isLoading))},dependencies:[Y,Se,ee,Fe,ft,qe,Yg,Ee,pt,Bi,Jg,Kg,rt,lt,kt],encapsulation:2})};var _u=class n{baseUrl=Q.apiUrl+"team";http=E(ve);accountService=E(pe);teams=xe([]);constructor(){}ngOnInit(){}loadUserTeams(){return U(this,null,function*(){try{let t=yield ct(this.http.get(`${this.baseUrl}/user`));this.teams.set(t||[]),console.log("User teams loaded:",t)}catch(t){console.error("Failed to load user teams",t),this.teams.set([])}})}getTeamsForTemplate(t){return this.teams().filter(e=>e.templateId===t)}createTeam(t){return U(this,null,function*(){try{if(!this.accountService.currentUser())throw new Error("User not authenticated");let i={name:t.name?.trim()||"",description:t.description?.trim()||"",photoUrl:t.photoUrl?.trim()||"",score:t.score||0};if(!i.name||i.name.length<2)throw new Error("Team name must be at least 2 characters long");if(i.name.length>100)throw new Error("Team name must be less than 100 characters");if(i.description&&i.description.length>500)throw new Error("Description must be less than 500 characters");if(this.teams().find(d=>d.name.toLowerCase().trim()===i.name.toLowerCase().trim()))throw new Error("You already have a team with this name");return console.log("Creating team with cleaned data:",i),yield ct(this.http.post(`${this.baseUrl}/create`,i).pipe(Ae(d=>{console.log("Team created successfully:",d),this.teams.update(p=>p.find(m=>m.id===d.id)?p:[...p,d])}),Ce(d=>{if(console.error("HTTP Error creating team:",d),d.status===400){if(d.error&&typeof d.error=="string")throw new Error(d.error);if(d.error?.message)throw new Error(d.error.message);if(d.error?.errors){let p=[];for(let m in d.error.errors)d.error.errors[m]&&p.push(...d.error.errors[m]);throw new Error(p.join(", "))}}throw new Error("Failed to create team. Please try again.")})))}catch(e){throw console.error("Error in createTeam service:",e),e}})}deleteTeam(t){return U(this,null,function*(){try{yield ct(this.http.delete(`${this.baseUrl}/${t}`).pipe(Ae(()=>{this.teams.update(e=>e.filter(i=>i.id!==t))}),Ce(e=>{throw console.error("HTTP Error deleting team:",e),new Error("Failed to delete team. Please try again.")})))}catch(e){throw console.error("Error in deleteTeam service:",e),e}})}updateTeam(t){return U(this,null,function*(){try{return yield ct(this.http.put(`${this.baseUrl}/update`,t).pipe(Ae(i=>{this.teams.update(r=>r.map(o=>o.id===i.id?i:o))}),Ce(i=>{throw console.error("HTTP Error updating team:",i),new Error("Failed to update team. Please try again.")})))}catch(e){throw console.error("Error in updateTeam service:",e),e}})}getTeam(t){return U(this,null,function*(){try{return yield ct(this.http.get(`${this.baseUrl}/${t}`).pipe(Ce(i=>{throw console.error("HTTP Error getting team:",i),new Error("Failed to get team. Please try again.")})))}catch(e){throw console.error("Error in getTeam service:",e),e}})}hasTeamWithName(t){return this.teams().some(i=>i.name.toLowerCase().trim()===t.toLowerCase().trim())}getTeamCount(){return this.teams().length}clearCache(){this.teams.set([])}reloadTeams(){return U(this,null,function*(){this.clearCache(),yield this.loadUserTeams()})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function t4(n,t){n&1&&(a(0,"div",39)(1,"div",40)(2,"div",41)(3,"span",42),u(4,"Creating..."),l()(),u(5," Creating your team... "),l()())}function n4(n,t){if(n&1&&g(0,"img",55),n&2){let e=h().$implicit;f("src",e.photoUrl,te)}}function i4(n,t){if(n&1){let e=P();a(0,"div",48)(1,"div",49),y(2,n4,1,1,"img",50),a(3,"div",51)(4,"div",52),u(5),l()(),a(6,"button",53),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.toggleTeamSelection(r))}),g(7,"i",54),l()()()}if(n&2){let e=t.$implicit,i=h(2);c(2),f("ngIf",e.photoUrl),c(3),k(e.name),c(),f("disabled",i.isCreatingTeam)}}function r4(n,t){if(n&1&&(a(0,"div",43)(1,"div",44)(2,"h4",25),g(3,"i",45),u(4),l()(),a(5,"div",29)(6,"div",46),y(7,i4,8,3,"div",47),l()()()),n&2){let e=h();c(4),x("Selected Teams (",e.selectedTeams.length,") "),c(3),f("ngForOf",e.selectedTeams)}}function o4(n,t){if(n&1&&g(0,"img",65),n&2){let e=h().$implicit;f("src",e.photoUrl,te)}}function s4(n,t){n&1&&(a(0,"div"),g(1,"i",66),l())}function a4(n,t){if(n&1){let e=P();a(0,"div",58)(1,"div",59),b("click",function(){let r=w(e).$implicit,o=h(2);return T(!o.isCreatingTeam&&o.toggleTeamSelection(r))}),a(2,"div",60),y(3,o4,1,1,"img",61),a(4,"div",51)(5,"h6",62),u(6),l(),a(7,"p",63),u(8),l()(),y(9,s4,2,0,"div",64),l()()()}if(n&2){let e=t.$implicit,i=h(2);c(),oe("pointer-events",i.isCreatingTeam?"none":"auto"),M("border-success",i.isTeamSelected(e))("bg-success",i.isTeamSelected(e))("text-light",i.isTeamSelected(e)),c(2),f("ngIf",e.photoUrl),c(3),k(e.name),c(),M("text-light",i.isTeamSelected(e))("text-muted",!i.isTeamSelected(e)),c(),x(" ",e.description||"No description"," "),c(),f("ngIf",i.isTeamSelected(e))}}function l4(n,t){if(n&1&&(a(0,"div",23)(1,"div",24)(2,"h4",25),g(3,"i",56),u(4),l()(),a(5,"div",29)(6,"div",46),y(7,a4,10,16,"div",57),l()()()),n&2){let e=h();c(4),x(" Template Teams (",e.existingTeams.length,") "),c(3),f("ngForOf",e.existingTeams)}}function c4(n,t){if(n&1&&(a(0,"div",81),u(1),l()),n&2){let e=h(2);c(),x(" ",e.getFieldError("name")," ")}}function d4(n,t){if(n&1&&(a(0,"div",81),u(1),l()),n&2){let e=h(2);c(),x(" ",e.getFieldError("description")," ")}}function u4(n,t){if(n&1&&(a(0,"div",81),u(1),l()),n&2){let e=h(2);c(),x(" ",e.getFieldError("photoUrl")," ")}}function p4(n,t){n&1&&g(0,"span",82)}function f4(n,t){n&1&&g(0,"i",28)}function m4(n,t){if(n&1){let e=P();a(0,"div",67)(1,"div",68)(2,"h5",25),u(3,"Create New Team"),l()(),a(4,"div",29)(5,"form",69),b("ngSubmit",function(){w(e);let r=h();return T(r.createTeam())}),a(6,"div",46)(7,"div",70)(8,"label",71),u(9,"Name *"),l(),g(10,"input",72),y(11,c4,2,1,"div",73),a(12,"div",74),u(13,"2-100 characters"),l()(),a(14,"div",70)(15,"label",71),u(16,"Description"),l(),g(17,"input",75),y(18,d4,2,1,"div",73),a(19,"div",74),u(20,"Optional, max 500 characters"),l()(),a(21,"div",70)(22,"label",71),u(23,"Photo URL"),l(),g(24,"input",76),y(25,u4,2,1,"div",73),a(26,"div",74),u(27,"Optional, must be a valid URL"),l()()(),a(28,"div",9)(29,"button",77),y(30,p4,1,0,"span",78)(31,f4,1,0,"i",79),u(32),l(),a(33,"button",80),b("click",function(){w(e);let r=h();return T(r.toggleCreateForm())}),u(34," Cancel "),l()()()()()}if(n&2){let e=h();c(5),f("formGroup",e.teamForm),c(5),M("is-invalid",e.isFieldInvalid("name")),c(),f("ngIf",e.isFieldInvalid("name")),c(6),M("is-invalid",e.isFieldInvalid("description")),c(),f("ngIf",e.isFieldInvalid("description")),c(6),M("is-invalid",e.isFieldInvalid("photoUrl")),c(),f("ngIf",e.isFieldInvalid("photoUrl")),c(4),f("disabled",e.teamForm.invalid||e.isCreatingTeam),c(),f("ngIf",e.isCreatingTeam),c(),f("ngIf",!e.isCreatingTeam),c(),x(" ",e.isCreatingTeam?"Creating...":"Create Team"," "),c(),f("disabled",e.isCreatingTeam)}}function h4(n,t){if(n&1){let e=P();a(0,"button",99),b("click",function(){w(e);let r=h(2);return T(r.clearTeamSearch())}),g(1,"i",54),l()}}function g4(n,t){if(n&1){let e=P();a(0,"div",83)(1,"div",84)(2,"div",85)(3,"span",86),g(4,"i",87),l(),a(5,"input",88),je("ngModelChange",function(r){w(e);let o=h();return We(o.teamSearchTerm,r)||(o.teamSearchTerm=r),T(r)}),b("input",function(){w(e);let r=h();return T(r.onTeamSearchChange())}),l(),y(6,h4,2,0,"button",89),l()(),a(7,"div",90)(8,"select",91),je("ngModelChange",function(r){w(e);let o=h();return We(o.teamFilterType,r)||(o.teamFilterType=r),T(r)}),b("change",function(){w(e);let r=h();return T(r.onTeamFilterChange())}),a(9,"option",92),u(10,"All Teams"),l(),a(11,"option",93),u(12,"Selected Only"),l(),a(13,"option",94),u(14,"Unselected Only"),l()()(),a(15,"div",90)(16,"select",91),je("ngModelChange",function(r){w(e);let o=h();return We(o.teamPagination.pageSize,r)||(o.teamPagination.pageSize=r),T(r)}),b("change",function(){w(e);let r=h();return T(r.onTeamPageSizeChange())}),a(17,"option",95),u(18,"6 per page"),l(),a(19,"option",96),u(20,"12 per page"),l(),a(21,"option",97),u(22,"24 per page"),l(),a(23,"option",98),u(24,"Show All"),l()()()()}if(n&2){let e=h();c(5),Ue("ngModel",e.teamSearchTerm),c(),f("ngIf",e.teamSearchTerm),c(2),Ue("ngModel",e.teamFilterType),c(8),Ue("ngModel",e.teamPagination.pageSize)}}function v4(n,t){if(n&1&&(a(0,"span"),u(1),l()),n&2){let e=h(2);c(),q(" Showing ",e.getTeamDisplayRange()," of ",e.teamPagination.totalItems," teams ")}}function _4(n,t){if(n&1&&(a(0,"span"),u(1),a(2,"span",19),u(3),l()()),n&2){let e=h(2);c(),q(" Showing ",e.getTeamDisplayRange()," of ",e.teamPagination.totalItems," filtered teams "),c(2),x("(",e.getAllUserTeams().length," total)")}}function y4(n,t){if(n&1&&(a(0,"span",109),u(1),l()),n&2){let e=h(3);c(),x(' Search: "',e.teamSearchTerm,'" ')}}function b4(n,t){if(n&1&&(a(0,"span",110),u(1),l()),n&2){let e=h(3);c(),x(" ",e.getTeamFilterDisplayName()," ")}}function C4(n,t){if(n&1){let e=P();a(0,"div",103)(1,"small",104),u(2,"Active filters:"),l(),y(3,y4,2,1,"span",105)(4,b4,2,1,"span",106),a(5,"button",107),b("click",function(){w(e);let r=h(2);return T(r.clearAllTeamFilters())}),g(6,"i",108),u(7,"Clear "),l()()}if(n&2){let e=h(2);c(3),f("ngIf",e.teamSearchTerm),c(),f("ngIf",e.teamFilterType!=="all")}}function x4(n,t){if(n&1&&(a(0,"div",100)(1,"div",101),y(2,v4,2,2,"span",64)(3,_4,4,3,"span",64),l(),y(4,C4,8,2,"div",102),l()),n&2){let e=h();c(2),f("ngIf",!e.hasActiveTeamFilters()),c(),f("ngIf",e.hasActiveTeamFilters()),c(),f("ngIf",e.hasActiveTeamFilters())}}function w4(n,t){if(n&1){let e=P();a(0,"li",114)(1,"button",119),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.goToTeamPage(r))}),u(2),l()()}if(n&2){let e=t.$implicit,i=h(2);M("active",e===i.teamPagination.currentPage),c(),M("bg-primary",e===i.teamPagination.currentPage)("bg-dark",e!==i.teamPagination.currentPage)("text-white",!0)("border-secondary",e!==i.teamPagination.currentPage)("border-primary",e===i.teamPagination.currentPage),c(),x(" ",e," ")}}function T4(n,t){if(n&1){let e=P();a(0,"div",111)(1,"nav",112)(2,"ul",113)(3,"li",114)(4,"button",115),b("click",function(){w(e);let r=h();return T(r.goToTeamPage(r.teamPagination.currentPage-1))}),g(5,"i",116),l()(),y(6,w4,3,13,"li",117),a(7,"li",114)(8,"button",115),b("click",function(){w(e);let r=h();return T(r.goToTeamPage(r.teamPagination.currentPage+1))}),g(9,"i",118),l()()()()()}if(n&2){let e=h();c(3),M("disabled",!e.teamPagination.hasPrevious),c(),f("disabled",!e.teamPagination.hasPrevious),c(2),f("ngForOf",e.getTeamVisiblePages()),c(),M("disabled",!e.teamPagination.hasNext),c(),f("disabled",!e.teamPagination.hasNext)}}function S4(n,t){if(n&1){let e=P();a(0,"div",120),g(1,"i",121),a(2,"p",19),u(3,"You haven't created any teams yet."),l(),a(4,"button",122),b("click",function(){w(e);let r=h();return T(r.showCreateForm=!0)}),u(5," Create Your First Team "),l()()}if(n&2){let e=h();c(4),f("disabled",e.isCreatingTeam)}}function E4(n,t){if(n&1){let e=P();a(0,"div",120),g(1,"i",123),a(2,"h5",19),u(3,"No Teams Found"),l(),a(4,"p",19),u(5,"No teams match your current filters."),l(),a(6,"button",124),b("click",function(){w(e);let r=h();return T(r.clearAllTeamFilters())}),g(7,"i",108),u(8,"Clear Filters "),l()()}}function I4(n,t){if(n&1&&g(0,"img",65),n&2){let e=h().$implicit;f("src",e.photoUrl,te)}}function P4(n,t){n&1&&(a(0,"div",132),g(1,"i",133),l())}function D4(n,t){if(n&1&&(a(0,"span",134),u(1),l()),n&2){let e=h().$implicit;c(),x(" Score: ",e.score," ")}}function k4(n,t){n&1&&(a(0,"div"),g(1,"i",66),a(2,"div",135),u(3,"Selected"),l()())}function M4(n,t){n&1&&(a(0,"div",19),g(1,"i",136),a(2,"div",135),u(3,"Click to select"),l()())}function O4(n,t){if(n&1){let e=P();a(0,"div",58)(1,"div",125),b("click",function(){let r=w(e).$implicit,o=h(2);return T(!o.isCreatingTeam&&o.toggleTeamSelection(r))}),a(2,"div",60),y(3,I4,1,1,"img",61)(4,P4,2,0,"div",126),a(5,"div",51)(6,"h6",62),u(7),l(),a(8,"p",63),u(9),l(),a(10,"div",127)(11,"span",128),u(12," Custom Team "),l(),y(13,D4,2,1,"span",129),l()(),a(14,"div",130),y(15,k4,4,0,"div",64)(16,M4,4,0,"div",131),l()()()()}if(n&2){let e=t.$implicit,i=h(2);c(),oe("pointer-events",i.isCreatingTeam?"none":"auto"),M("border-success",i.isTeamSelected(e))("bg-success",i.isTeamSelected(e))("text-light",i.isTeamSelected(e))("border-primary",!i.isTeamSelected(e)),c(2),f("ngIf",e.photoUrl),c(),f("ngIf",!e.photoUrl),c(3),k(e.name),c(),M("text-light",i.isTeamSelected(e))("text-muted",!i.isTeamSelected(e)),c(),x(" ",e.description||"No description"," "),c(2),M("bg-light",i.isTeamSelected(e))("text-dark",i.isTeamSelected(e))("bg-info",!i.isTeamSelected(e)),c(2),f("ngIf",e.score),c(2),f("ngIf",i.isTeamSelected(e)),c(),f("ngIf",!i.isTeamSelected(e))}}function A4(n,t){if(n&1&&(a(0,"div",46),y(1,O4,17,27,"div",57),l()),n&2){let e=h();c(),f("ngForOf",e.getPaginatedUserTeams())}}function R4(n,t){if(n&1){let e=P();a(0,"li",114)(1,"button",119),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.goToTeamPage(r))}),u(2),l()()}if(n&2){let e=t.$implicit,i=h(2);M("active",e===i.teamPagination.currentPage),c(),M("bg-primary",e===i.teamPagination.currentPage)("bg-dark",e!==i.teamPagination.currentPage)("text-white",!0)("border-secondary",e!==i.teamPagination.currentPage)("border-primary",e===i.teamPagination.currentPage),c(),x(" ",e," ")}}function N4(n,t){if(n&1){let e=P();a(0,"div",137)(1,"nav",112)(2,"ul",138)(3,"li",114)(4,"button",115),b("click",function(){w(e);let r=h();return T(r.goToTeamPage(1))}),g(5,"i",139),u(6," First "),l()(),a(7,"li",114)(8,"button",115),b("click",function(){w(e);let r=h();return T(r.goToTeamPage(r.teamPagination.currentPage-1))}),g(9,"i",116),u(10," Previous "),l()(),y(11,R4,3,13,"li",117),a(12,"li",114)(13,"button",115),b("click",function(){w(e);let r=h();return T(r.goToTeamPage(r.teamPagination.currentPage+1))}),u(14," Next "),g(15,"i",118),l()(),a(16,"li",114)(17,"button",115),b("click",function(){w(e);let r=h();return T(r.goToTeamPage(r.getTeamTotalPages()))}),u(18," Last "),g(19,"i",140),l()()()()()}if(n&2){let e=h();c(3),M("disabled",!e.teamPagination.hasPrevious),c(),f("disabled",!e.teamPagination.hasPrevious),c(3),M("disabled",!e.teamPagination.hasPrevious),c(),f("disabled",!e.teamPagination.hasPrevious),c(3),f("ngForOf",e.getTeamVisiblePages()),c(),M("disabled",!e.teamPagination.hasNext),c(),f("disabled",!e.teamPagination.hasNext),c(3),M("disabled",!e.teamPagination.hasNext),c(),f("disabled",!e.teamPagination.hasNext)}}function F4(n,t){if(n&1&&(a(0,"div",147),g(1,"i",148),u(2),l()),n&2){let e=h(2);c(2),q(" You need at least ",e.minimumTeamsRequired," teams to proceed (",e.minimumTeamsRequired-e.selectedTeams.length," more required) ")}}function V4(n,t){if(n&1&&(a(0,"div",149),g(1,"i",45),u(2),l()),n&2){let e=h(2);c(2),x(" Great! You have enough teams to create your ",e.predictionType.toLowerCase()," prediction. ")}}function L4(n,t){if(n&1){let e=P();a(0,"div",141)(1,"div",142),y(2,F4,3,2,"div",143)(3,V4,3,1,"div",144),a(4,"button",145),b("click",function(){w(e);let r=h();return T(r.proceedToPost())}),g(5,"i",146),u(6," Continue to Create Post "),l()()()}if(n&2){let e=h();c(2),f("ngIf",!e.canProceed()),c(),f("ngIf",e.canProceed()),c(),f("disabled",!e.canProceed()||e.isCreatingTeam)}}function B4(n,t){n&1&&(a(0,"div",150)(1,"div",151)(2,"span",42),u(3,"Loading..."),l()(),a(4,"p",152),u(5,"Loading teams..."),l()())}function U4(n,t){if(n&1&&(a(0,"div",150),g(1,"i",121),a(2,"h5",19),u(3,"No Teams Selected"),l(),a(4,"p",19),u(5),l()()),n&2){let e=h();c(5),q(" Select at least ",e.minimumTeamsRequired," teams to continue with your ",e.predictionType.toLowerCase()," prediction. ")}}var yu=class n{route=E(Ne);router=E(J);teamService=E(_u);templateService=E(cs);toastr=E(re);fb=E(mt);accountService=E(pe);predictionId=0;templateId=0;predictionType="Ranking";template=null;existingTeams=[];userTeams=[];filteredUserTeams=[];paginatedUserTeams=[];selectedTeams=[];teamSearchTerm="";teamFilterType="all";searchTimeout;teamPagination={currentPage:1,pageSize:12,totalItems:0,totalPages:0,hasNext:!1,hasPrevious:!1};teamForm=new Et({});showCreateForm=!1;isLoading=!1;isCreatingTeam=!1;minimumTeamsRequired=0;maximumTeamsAllowed=0;ngOnInit(){this.initializeForm(),this.loadRouteParams()}initializeForm(){this.teamForm=this.fb.group({name:["",[V.required,V.minLength(2),V.maxLength(100),this.teamNameValidator.bind(this)]],description:["",[V.maxLength(500)]],photoUrl:["",[this.urlValidator]]})}teamNameValidator(t){if(!t.value)return null;let e=t.value.trim().toLowerCase();return this.teamService.hasTeamWithName(e)?{duplicate:!0}:null}urlValidator(t){return t.value?/^https?:\/\/.+\..+/.test(t.value)?null:{invalidUrl:!0}:null}loadRouteParams(){this.route.params.subscribe(t=>U(this,null,function*(){this.predictionId=+t.predictionId,this.templateId=+t.templateId,this.predictionType=t.type,console.log("Route params loaded:",{predictionId:this.predictionId,templateId:this.templateId,predictionType:this.predictionType}),yield this.loadTemplate()}))}loadTemplate(){return U(this,null,function*(){if(console.log("Loading template with ID:",this.templateId,"Type:",this.predictionType),this.template){console.log("Template already loaded:",this.template),this.calculateTeamRequirements(),yield this.loadTeams();return}let t=this.router.getCurrentNavigation();if(t?.extras.state?.template){this.template=t.extras.state.template,console.log("Template loaded from navigation state:",this.template),this.calculateTeamRequirements(),yield this.loadTeams();return}let e=history.state;if(e?.template){this.template=e.template,console.log("Template loaded from history state:",this.template),this.calculateTeamRequirements(),yield this.loadTeams();return}console.log("Loading template from service as fallback...");try{switch(this.predictionType){case"Ranking":console.log("Loading ranking templates..."),yield this.templateService.getOfficialAndUserRankingTemplates();let i=this.templateService.userRankingTemplates(),r=this.templateService.officialRankingTemplates();console.log("Available ranking templates:",{user:i,official:r,searchingForId:this.templateId}),this.template=i.find(m=>m.id===this.templateId)||r.find(m=>m.id===this.templateId);break;case"Bracket":console.log("Loading bracket templates..."),yield this.templateService.getOfficialAndUserBracketTemplates();let o=this.templateService.userBracketTemplates(),s=this.templateService.officialBracketTemplates();this.template=o.find(m=>m.id===this.templateId)||s.find(m=>m.id===this.templateId);break;case"Bingo":console.log("Loading bingo templates..."),yield this.templateService.getOfficialAndUserBingoTemplates();let d=this.templateService.userBingoTemplates(),p=this.templateService.officialBingoTemplates();this.template=d.find(m=>m.id===this.templateId)||p.find(m=>m.id===this.templateId);break}this.template?(console.log("Template loaded from service:",this.template),this.calculateTeamRequirements(),yield this.loadTeams()):(console.error("Template not found with ID:",this.templateId),this.template={id:this.templateId,name:`Template ${this.templateId}`,numberOfRows:this.predictionType==="Ranking"?5:void 0,numberOfColumns:this.predictionType==="Ranking"?1:void 0,numberOfRounds:this.predictionType==="Bracket"?3:void 0,gridSize:this.predictionType==="Bingo"?3:void 0,teams:[]},this.calculateTeamRequirements(),this.toastr.warning("Template not found, using default settings"),yield this.loadTeams())}catch(i){console.error("Error loading template:",i),this.template={id:this.templateId,name:`Template ${this.templateId}`,numberOfRows:this.predictionType==="Ranking"?5:void 0,numberOfColumns:this.predictionType==="Ranking"?1:void 0,numberOfRounds:this.predictionType==="Bracket"?3:void 0,gridSize:this.predictionType==="Bingo"?3:void 0,teams:[]},this.calculateTeamRequirements(),this.toastr.error("Failed to load template, using default settings"),yield this.loadTeams()}})}calculateTeamRequirements(){if(this.template){switch(this.predictionType){case"Ranking":this.minimumTeamsRequired=this.template.numberOfRows*this.template.numberOfColumns,this.maximumTeamsAllowed=this.minimumTeamsRequired*2;break;case"Bracket":this.minimumTeamsRequired=Math.pow(2,this.template.numberOfRounds),this.maximumTeamsAllowed=this.minimumTeamsRequired;break;case"Bingo":this.minimumTeamsRequired=this.template.gridSize*this.template.gridSize,this.maximumTeamsAllowed=this.minimumTeamsRequired*2;break}console.log("Team requirements calculated:",{minimum:this.minimumTeamsRequired,maximum:this.maximumTeamsAllowed})}}loadTeams(){return U(this,null,function*(){this.isLoading=!0;try{if(this.template||(console.warn("Template not loaded, attempting to load..."),yield this.loadTemplate()),!this.template){this.toastr.error("Could not load template information"),this.isLoading=!1;return}yield this.teamService.loadUserTeams(),this.userTeams=this.teamService.teams(),this.existingTeams=this.template?.teams||[],this.selectedTeams=[...this.existingTeams],this.applyTeamFiltersAndPagination(),console.log("Teams loaded successfully:",{template:this.template,existingTeams:this.existingTeams.length,userTeams:this.userTeams.length,selectedTeams:this.selectedTeams.length})}catch(t){console.error("Error loading teams:",t),this.toastr.error("Failed to load teams")}finally{this.isLoading=!1}})}onTeamSearchChange(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.teamPagination.currentPage=1,this.applyTeamFiltersAndPagination()},300)}onTeamFilterChange(){this.teamPagination.currentPage=1,this.applyTeamFiltersAndPagination()}clearTeamSearch(){this.teamSearchTerm="",this.teamPagination.currentPage=1,this.applyTeamFiltersAndPagination()}clearAllTeamFilters(){this.teamSearchTerm="",this.teamFilterType="all",this.teamPagination.currentPage=1,this.applyTeamFiltersAndPagination()}hasActiveTeamFilters(){return!!(this.teamSearchTerm&&this.teamSearchTerm.trim()!==""||this.teamFilterType&&this.teamFilterType!=="all")}getTeamFilterDisplayName(){switch(this.teamFilterType){case"selected":return"Selected Only";case"unselected":return"Unselected Only";case"all":default:return"All Teams"}}applyTeamFilters(){let t=[...this.userTeams];if(this.teamSearchTerm&&this.teamSearchTerm.trim()!==""){let e=this.teamSearchTerm.toLowerCase().trim();t=t.filter(i=>i.name.toLowerCase().includes(e)||i.description&&i.description.toLowerCase().includes(e))}this.teamFilterType==="selected"?t=t.filter(e=>this.isTeamSelected(e)):this.teamFilterType==="unselected"&&(t=t.filter(e=>!this.isTeamSelected(e))),this.filteredUserTeams=t}applyTeamPagination(){if(this.updateTeamPaginationInfo(),this.teamPagination.pageSize>=50)this.paginatedUserTeams=this.filteredUserTeams;else{let t=(this.teamPagination.currentPage-1)*this.teamPagination.pageSize,e=t+this.teamPagination.pageSize;this.paginatedUserTeams=this.filteredUserTeams.slice(t,e)}}updateTeamPaginationInfo(){this.teamPagination.totalItems=this.filteredUserTeams.length,this.teamPagination.totalPages=this.teamPagination.pageSize>=50?1:Math.ceil(this.teamPagination.totalItems/this.teamPagination.pageSize),this.teamPagination.hasNext=this.teamPagination.currentPage<this.teamPagination.totalPages,this.teamPagination.hasPrevious=this.teamPagination.currentPage>1,this.teamPagination.currentPage>this.teamPagination.totalPages&&this.teamPagination.totalPages>0&&(this.teamPagination.currentPage=this.teamPagination.totalPages),this.teamPagination.currentPage<1&&(this.teamPagination.currentPage=1)}applyTeamFiltersAndPagination(){this.applyTeamFilters(),this.applyTeamPagination()}getTeamTotalPages(){return this.teamPagination.totalPages}getTeamDisplayRange(){if(this.teamPagination.totalItems===0)return"0";if(this.teamPagination.pageSize>=50)return`1-${this.teamPagination.totalItems}`;let t=(this.teamPagination.currentPage-1)*this.teamPagination.pageSize+1,e=Math.min(this.teamPagination.currentPage*this.teamPagination.pageSize,this.teamPagination.totalItems);return`${t}-${e}`}getTeamVisiblePages(){let t=this.teamPagination.totalPages,e=this.teamPagination.currentPage,i=[];if(t<=7)for(let r=1;r<=t;r++)i.push(r);else{i.push(1),e>4&&i.push(-1);let r=Math.max(2,e-1),o=Math.min(t-1,e+1);for(let s=r;s<=o;s++)i.push(s);e<t-3&&i.push(-1),t>1&&i.push(t)}return i.filter(r=>r!==-1)}goToTeamPage(t){t<1||t>this.teamPagination.totalPages||(this.teamPagination.currentPage=t,this.applyTeamPagination())}onTeamPageSizeChange(){this.teamPagination.currentPage=1,this.applyTeamFiltersAndPagination()}getAllUserTeams(){return this.userTeams}getPaginatedUserTeams(){return this.paginatedUserTeams}toggleTeamSelection(t){let e=this.selectedTeams.findIndex(i=>i.id===t.id);e>-1?this.selectedTeams.splice(e,1):this.selectedTeams.length<this.maximumTeamsAllowed?this.selectedTeams.push(t):this.toastr.warning(`Maximum ${this.maximumTeamsAllowed} teams allowed`),this.applyTeamFiltersAndPagination(),console.log("Team selection updated:",{selectedCount:this.selectedTeams.length,canProceed:this.canProceed()})}isTeamSelected(t){return this.selectedTeams.some(e=>e.id===t.id)}createTeam(){return U(this,null,function*(){if(this.teamForm.invalid){this.markFormGroupTouched(),this.toastr.error("Please fix the validation errors");return}if(!this.accountService.currentUser()){this.toastr.error("You must be logged in to create teams");return}this.isCreatingTeam=!0;try{let e=this.teamForm.value,i={name:e.name?.trim()||"",description:e.description?.trim()||"",photoUrl:e.photoUrl?.trim()||"",score:0};console.log("Creating team with data:",i);let r=yield this.teamService.createTeam(i);console.log("Team created successfully:",r),this.userTeams=this.teamService.teams(),this.selectedTeams.push(r),this.teamForm.reset(),this.teamForm.patchValue({name:"",description:"",photoUrl:""}),this.teamForm.markAsUntouched(),this.teamForm.markAsPristine(),this.showCreateForm=!1,this.applyTeamFiltersAndPagination(),this.toastr.success(`Team "${r.name}" created successfully!`)}catch(e){console.error("Error creating team:",e);let i="Failed to create team";if(e?.message?i=e.message:typeof e=="string"&&(i=e),this.toastr.error(i),i.toLowerCase().includes("already exists")||i.toLowerCase().includes("duplicate"))try{yield this.teamService.reloadTeams(),this.userTeams=this.teamService.teams(),this.applyTeamFiltersAndPagination()}catch(r){console.error("Error reloading teams:",r)}}finally{this.isCreatingTeam=!1}})}markFormGroupTouched(){Object.keys(this.teamForm.controls).forEach(t=>{let e=this.teamForm.get(t);e?.markAsTouched(),e?.updateValueAndValidity()})}canProceed(){let t=this.selectedTeams.length>=this.minimumTeamsRequired;return console.log("Can proceed check:",{selectedTeams:this.selectedTeams.length,minimumRequired:this.minimumTeamsRequired,canProceed:t}),t}proceedToPost(){if(console.log("proceedToPost called"),console.log("Current state:",{predictionId:this.predictionId,templateId:this.templateId,predictionType:this.predictionType,selectedTeams:this.selectedTeams.length,canProceed:this.canProceed(),template:this.template}),!this.predictionId||!this.templateId||!this.predictionType){console.error("Missing required route parameters"),this.toastr.error("Missing required information. Please start over.");return}if(!this.canProceed()){console.error("Cannot proceed - not enough teams selected"),this.toastr.error(`Please select at least ${this.minimumTeamsRequired} teams to continue`);return}if(!this.template){console.error("Template not loaded"),this.toastr.error("Template information is missing. Please go back and select a template.");return}let t=["/create-post",this.predictionId,this.templateId,this.predictionType],e={state:{selectedTeams:this.selectedTeams,template:this.template,predictionId:this.predictionId,templateId:this.templateId,predictionType:this.predictionType}};console.log("Navigating to:",t),console.log("With state:",e.state);try{this.router.navigate(t,e).then(i=>{console.log("Navigation result:",i),i||(console.error("Navigation failed"),this.toastr.error("Navigation failed. Please try again."))}).catch(i=>{console.error("Navigation error:",i),this.toastr.error("Navigation error. Please try again.")})}catch(i){console.error("Error during navigation:",i),this.toastr.error("An error occurred during navigation")}}abandonFlow(){confirm("Are you sure you want to abandon this prediction? All progress will be lost.")&&this.router.navigate(["/"])}goBack(){this.router.navigate(["/edit-template",this.predictionId,this.predictionType])}isFieldInvalid(t){let e=this.teamForm.get(t);return!!(e&&e.invalid&&(e.dirty||e.touched))}getFieldError(t){let e=this.teamForm.get(t);if(e&&e.errors&&(e.dirty||e.touched)){if(e.errors.required)return`${t} is required`;if(e.errors.minlength)return`${t} must be at least ${e.errors.minlength.requiredLength} characters`;if(e.errors.maxlength)return`${t} must be less than ${e.errors.maxlength.requiredLength} characters`;if(e.errors.duplicate)return"You already have a team with this name";if(e.errors.invalidUrl)return"Please enter a valid URL"}return""}toggleCreateForm(){this.showCreateForm=!this.showCreateForm,this.showCreateForm||(this.teamForm.reset(),this.teamForm.markAsUntouched(),this.teamForm.markAsPristine())}getTemplateDisplayName(){if(this.template?.name&&this.template.name.trim()!=="")return this.template.name;if(this.template)switch(this.predictionType){case"Ranking":return`${this.template.numberOfRows}x${this.template.numberOfColumns} Ranking`;case"Bracket":return`${this.template.numberOfRounds} Round Bracket`;case"Bingo":return`${this.template.gridSize}x${this.template.gridSize} Grid`}return"Custom Template"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-select-teams"]],decls:52,vars:31,consts:[[1,"container-fluid","mt-4"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"card","bg-primary","border-primary","mb-4"],[1,"card-header","bg-primary","border-primary"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-light","mb-1"],[1,"fa","fa-users","me-2"],[1,"text-light","mb-0","opacity-75"],[1,"d-flex","gap-2"],[1,"btn","btn-outline-light",3,"click","disabled"],[1,"fa","fa-arrow-left","me-2"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fa","fa-times","me-2"],[1,"row","mb-4"],[1,"col-12"],[1,"progress",2,"height","8px"],["role","progressbar",1,"progress-bar","bg-success"],[1,"d-flex","justify-content-between","mt-2"],[1,"text-muted"],["class","alert alert-info mb-4",4,"ngIf"],["class","card bg-success border-success mb-4",4,"ngIf"],["class","card bg-secondary border-secondary mb-4",4,"ngIf"],[1,"card","bg-secondary","border-secondary","mb-4"],[1,"card-header","bg-secondary","border-secondary"],[1,"text-light","mb-0"],[1,"fa","fa-user","me-2","text-info"],[1,"btn","btn-outline-success","btn-sm",3,"click","disabled"],[1,"fa","fa-plus","me-2"],[1,"card-body"],["class","card bg-dark border-dark mb-4",4,"ngIf"],["class","row mb-3",4,"ngIf"],["class","d-flex justify-content-between align-items-center mb-3",4,"ngIf"],["class","d-flex justify-content-center mb-3",4,"ngIf"],["class","text-center py-4",4,"ngIf"],["class","row",4,"ngIf"],["class","d-flex justify-content-center mt-3",4,"ngIf"],["class","card bg-primary border-primary",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"alert","alert-info","mb-4"],[1,"d-flex","align-items-center"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"visually-hidden"],[1,"card","bg-success","border-success","mb-4"],[1,"card-header","bg-success","border-success"],[1,"fa","fa-check-circle","me-2"],[1,"row"],["class","col-md-3 mb-2",4,"ngFor","ngForOf"],[1,"col-md-3","mb-2"],[1,"d-flex","align-items-center","bg-light","rounded","p-2"],["class","rounded me-2","width","32","height","32","alt","Team",3,"src",4,"ngIf"],[1,"me-auto"],[1,"fw-bold"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"fa","fa-times"],["width","32","height","32","alt","Team",1,"rounded","me-2",3,"src"],[1,"fa","fa-star","me-2","text-warning"],["class","col-md-6 col-lg-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-4","mb-3"],[1,"card","h-100",2,"cursor","pointer",3,"click"],[1,"card-body","d-flex","align-items-center"],["class","rounded me-3","width","48","height","48","alt","Team",3,"src",4,"ngIf"],[1,"card-title","mb-1"],[1,"card-text","small","mb-0"],[4,"ngIf"],["width","48","height","48","alt","Team",1,"rounded","me-3",3,"src"],[1,"fa","fa-check-circle","fa-2x","text-light"],[1,"card","bg-dark","border-dark","mb-4"],[1,"card-header","bg-dark","border-dark"],[3,"ngSubmit","formGroup"],[1,"col-md-4","mb-3"],[1,"form-label","text-light"],["type","text","formControlName","name","placeholder","Team name","maxlength","100",1,"form-control","bg-dark","text-light","border-secondary"],["class","invalid-feedback",4,"ngIf"],[1,"form-text","text-muted"],["type","text","formControlName","description","placeholder","Optional description","maxlength","500",1,"form-control","bg-dark","text-light","border-secondary"],["type","url","formControlName","photoUrl","placeholder","https://example.com/image.jpg",1,"form-control","bg-dark","text-light","border-secondary"],["type","submit",1,"btn","btn-success",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","fa fa-plus me-2",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"row","mb-3"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-text","bg-dark","border-secondary"],[1,"fa","fa-search","text-light"],["type","text","placeholder","Search teams...",1,"form-control","bg-dark","text-light","border-secondary",3,"ngModelChange","input","ngModel"],["class","btn btn-outline-secondary","type","button",3,"click",4,"ngIf"],[1,"col-md-3"],[1,"form-select","bg-dark","text-light","border-secondary",3,"ngModelChange","change","ngModel"],["value","all"],["value","selected"],["value","unselected"],["value","6"],["value","12"],["value","24"],["value","50"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-light","small"],["class","d-flex gap-2 align-items-center",4,"ngIf"],[1,"d-flex","gap-2","align-items-center"],[1,"text-light","opacity-75"],["class","badge bg-info",4,"ngIf"],["class","badge bg-warning text-dark",4,"ngIf"],[1,"btn","btn-sm","btn-outline-light",3,"click"],[1,"fa","fa-times","me-1"],[1,"badge","bg-info"],[1,"badge","bg-warning","text-dark"],[1,"d-flex","justify-content-center","mb-3"],["aria-label","Teams pagination"],[1,"pagination","pagination-sm"],[1,"page-item"],[1,"page-link","bg-dark","text-light","border-secondary",3,"click","disabled"],[1,"fa","fa-angle-left"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"fa","fa-angle-right"],[1,"page-link",3,"click"],[1,"text-center","py-4"],[1,"fa","fa-users","fa-3x","text-muted","mb-3"],[1,"btn","btn-outline-primary",3,"click","disabled"],[1,"fa","fa-search","fa-3x","text-muted","mb-3"],[1,"btn","btn-outline-primary",3,"click"],[1,"card","h-100","team-card",2,"cursor","pointer","transition","all 0.2s ease",3,"click"],["class","bg-info rounded-circle me-3 d-flex align-items-center justify-content-center","style","width: 48px; height: 48px;",4,"ngIf"],[1,"d-flex","align-items-center","mt-1"],[1,"badge"],["class","badge bg-secondary ms-1",4,"ngIf"],[1,"text-end"],["class","text-muted",4,"ngIf"],[1,"bg-info","rounded-circle","me-3","d-flex","align-items-center","justify-content-center",2,"width","48px","height","48px"],[1,"fa","fa-users","text-white"],[1,"badge","bg-secondary","ms-1"],[1,"small","mt-1"],[1,"fa","fa-circle-o","fa-2x"],[1,"d-flex","justify-content-center","mt-3"],[1,"pagination"],[1,"fa","fa-angle-double-left"],[1,"fa","fa-angle-double-right"],[1,"card","bg-primary","border-primary"],[1,"card-body","text-center"],["class","alert alert-warning",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"btn","btn-success","btn-lg","px-5",3,"click","disabled"],[1,"fa","fa-arrow-right","me-2"],[1,"alert","alert-warning"],[1,"fa","fa-exclamation-triangle","me-2"],[1,"alert","alert-success"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"mt-3","text-muted"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"h2",6),g(8,"i",7),u(9),l(),a(10,"p",8),u(11),l()(),a(12,"div",9)(13,"button",10),b("click",function(){return i.goBack()}),g(14,"i",11),u(15,"Back "),l(),a(16,"button",12),b("click",function(){return i.abandonFlow()}),g(17,"i",13),u(18,"Abandon "),l()()()()(),a(19,"div",14)(20,"div",15)(21,"div",16),g(22,"div",17),l(),a(23,"div",18)(24,"span",19),u(25,"Teams Selected"),l(),a(26,"span",19),u(27),l()()()(),y(28,t4,6,0,"div",20)(29,r4,8,2,"div",21)(30,l4,8,2,"div",22),a(31,"div",23)(32,"div",24)(33,"div",5)(34,"h4",25),g(35,"i",26),u(36),l(),a(37,"button",27),b("click",function(){return i.toggleCreateForm()}),g(38,"i",28),u(39),l()()(),a(40,"div",29),y(41,m4,35,15,"div",30)(42,g4,25,4,"div",31)(43,x4,5,3,"div",32)(44,T4,10,7,"div",33)(45,S4,6,1,"div",34)(46,E4,9,0,"div",34)(47,A4,2,1,"div",35)(48,N4,20,13,"div",36),l()(),y(49,L4,7,3,"div",37)(50,B4,6,0,"div",38)(51,U4,6,2,"div",38),l()()()),e&2&&(c(9),x(" Select Teams for ",i.predictionType," Prediction "),c(2),zs(' Choose teams for your "',i.getTemplateDisplayName(),'" template (',i.selectedTeams.length,"/",i.minimumTeamsRequired," required, max ",i.maximumTeamsAllowed,") "),c(2),f("disabled",i.isCreatingTeam),c(3),f("disabled",i.isCreatingTeam),c(6),oe("width",i.selectedTeams.length/i.minimumTeamsRequired*100,"%"),Pt("aria-valuenow",i.selectedTeams.length)("aria-valuemin",0)("aria-valuemax",i.minimumTeamsRequired),c(5),q("",i.selectedTeams.length," / ",i.minimumTeamsRequired," minimum"),c(),f("ngIf",i.isCreatingTeam),c(),f("ngIf",i.selectedTeams.length>0),c(),f("ngIf",i.existingTeams.length>0),c(6),x(" Your Teams (",i.getAllUserTeams().length,") "),c(),f("disabled",i.isCreatingTeam||i.isLoading),c(2),x(" ",i.showCreateForm?"Cancel":"Create New Team"," "),c(2),f("ngIf",i.showCreateForm),c(),f("ngIf",i.getAllUserTeams().length>0),c(),f("ngIf",i.getAllUserTeams().length>0),c(),f("ngIf",i.getTeamTotalPages()>1),c(),f("ngIf",i.getAllUserTeams().length===0&&!i.showCreateForm&&!i.isLoading),c(),f("ngIf",i.getPaginatedUserTeams().length===0&&i.getAllUserTeams().length>0&&!i.isLoading),c(),f("ngIf",i.getPaginatedUserTeams().length>0),c(),f("ngIf",i.getTeamTotalPages()>1),c(),f("ngIf",i.selectedTeams.length>0),c(),f("ngIf",i.isLoading&&!i.isCreatingTeam),c(),f("ngIf",i.selectedTeams.length===0&&!i.isLoading&&!i.isCreatingTeam))},dependencies:[Y,Se,ee,Fe,ft,pi,fi,qe,Nn,Ee,pt,Bi,wn,rt,lt,kt],styles:[".team-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #007bff33}.team-card.border-success[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #28a7454d}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{border-radius:.375rem;margin:0 2px}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#0d6efd;border-color:#0d6efd}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.badge[_ngcontent-%COMP%]{font-size:.75rem}.card-body[_ngcontent-%COMP%]{padding:1rem}.very-small[_ngcontent-%COMP%]{font-size:.7rem}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:.25rem}@media (max-width: 768px){.col-md-6.col-lg-4[_ngcontent-%COMP%]{margin-bottom:1rem}.card-body[_ngcontent-%COMP%]{padding:.75rem}}"]})};var j4=(n,t,e)=>({"fa-list-ol":n,"fa-sitemap":t,"fa-th":e}),bu=()=>[];function $4(n,t){if(n&1&&(a(0,"p",31),u(1),l()),n&2){let e=h(2);c(),x(' Click on a position to assign "',e.selectedTeamForAssignment.name,'" or click the team again to deselect ')}}function H4(n,t){if(n&1&&(a(0,"th"),u(1),l()),n&2){let e=t.index;c(),x(" Position ",e+1," ")}}function z4(n,t){if(n&1&&g(0,"img",75),n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function q4(n,t){if(n&1){let e=P();a(0,"div",68),y(1,z4,1,1,"img",69),a(2,"div",70)(3,"div",71),u(4),l(),a(5,"div",72),u(6),l()(),a(7,"button",73),b("click",function(r){w(e);let o=h().index,s=h().index;return h(2).removeTeamFromSlot(s,o),T(r.stopPropagation())}),g(8,"i",74),l()()}if(n&2){let e=h().$implicit;c(),f("ngIf",e.team.photoUrl),c(3),k(e.team.name),c(2),k(e.team.description||"No description")}}function G4(n,t){if(n&1&&(a(0,"div",76),g(1,"i",77),a(2,"div",78),u(3),l()()),n&2){let e=h(4);c(),M("text-primary",e.selectedTeamForAssignment),c(2),x(" ",e.selectedTeamForAssignment?"Click to assign":"Select a team first"," ")}}function W4(n,t){if(n&1){let e=P();a(0,"td")(1,"div",65),b("click",function(){let r=w(e).index,o=h().index,s=h(2);return T(s.handleSlotClick("ranking",o,r))}),y(2,q4,9,3,"div",66)(3,G4,4,3,"div",67),l()()}if(n&2){let e=t.$implicit,i=t.index,r=h().index,o=h(2);c(),M("occupied",e.team)("empty",!e.team)("can-assign",o.selectedTeamForAssignment&&!e.team)("selected-slot",(o.selectedSlot==null?null:o.selectedSlot.type)==="ranking"&&(o.selectedSlot==null?null:o.selectedSlot.rowIndex)===r&&(o.selectedSlot==null?null:o.selectedSlot.colIndex)===i),c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function Y4(n,t){if(n&1&&(a(0,"tr")(1,"td")(2,"div",64),u(3),l()(),y(4,W4,4,10,"td",63),l()),n&2){let e=t.$implicit;c(3),k(e.order),c(),f("ngForOf",e.columns||$e(2,bu))}}function Z4(n,t){if(n&1&&(a(0,"div",56)(1,"div",4)(2,"h4",19),g(3,"i",57),u(4,"Ranking Table "),l(),y(5,$4,2,1,"p",58),l(),a(6,"div",59)(7,"div",60)(8,"table",61)(9,"thead")(10,"tr")(11,"th",62),u(12,"Rank"),l(),y(13,H4,2,1,"th",63),l()(),a(14,"tbody"),y(15,Y4,5,3,"tr",63),l()()()()()),n&2){let e=h();c(5),f("ngIf",e.selectedTeamForAssignment),c(8),f("ngForOf",(e.postRank.rankTable.rows[0]==null?null:e.postRank.rankTable.rows[0].columns)||$e(3,bu)),c(2),f("ngForOf",e.postRank.rankTable.rows||$e(4,bu))}}function Q4(n,t){if(n&1&&(a(0,"p",31),u(1),l()),n&2){let e=h(2);c(),x(' Click on a square to assign "',e.selectedTeamForAssignment.name,'" or click the team again to deselect ')}}function K4(n,t){if(n&1&&g(0,"img",91),n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function J4(n,t){if(n&1){let e=P();a(0,"div",86),y(1,K4,1,1,"img",87),a(2,"div",88),u(3),l(),a(4,"div",89),u(5),l(),a(6,"button",90),b("click",function(r){w(e);let o=h().index;return h(2).removeTeamFromBingo(o),T(r.stopPropagation())}),g(7,"i",74),l()()}if(n&2){let e=h().$implicit;c(),f("ngIf",e.team.photoUrl),c(2),k(e.team.name),c(2),k(e.team.description||"No description")}}function X4(n,t){if(n&1&&(a(0,"div",92),g(1,"i",93),a(2,"div",94),u(3),l()()),n&2){let e=h(3);c(),M("text-primary",e.selectedTeamForAssignment),c(2),x(" ",e.selectedTeamForAssignment?"Click to assign":"Select team first"," ")}}function eF(n,t){if(n&1){let e=P();a(0,"div",83),b("click",function(){let r=w(e).index,o=h(2);return T(o.handleSlotClick("bingo",r))}),y(1,J4,8,3,"div",84)(2,X4,4,3,"div",85),l()}if(n&2){let e=t.$implicit,i=t.index,r=h(2);M("occupied",e.team)("empty",!e.team)("can-assign",r.selectedTeamForAssignment&&!e.team)("selected-slot",(r.selectedSlot==null?null:r.selectedSlot.type)==="bingo"&&(r.selectedSlot==null?null:r.selectedSlot.cellIndex)===i),c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function tF(n,t){if(n&1&&(a(0,"div",79)(1,"div",4)(2,"h4",19),g(3,"i",80),u(4),l(),y(5,Q4,2,1,"p",58),l(),a(6,"div",21)(7,"div",81),y(8,eF,3,10,"div",82),l()()()),n&2){let e=h();c(4),q("Bingo Grid (",e.postBingo.gridSize,"x",e.postBingo.gridSize,") "),c(),f("ngIf",e.selectedTeamForAssignment),c(2),oe("grid-template-columns","repeat("+e.postBingo.gridSize+", 1fr)")("gap","8px")("display","grid"),c(),f("ngForOf",e.postBingo.bingoCells||$e(10,bu))}}function nF(n,t){if(n&1){let e=P();a(0,"button",95),b("click",function(){w(e);let r=h();return T(r.autoFillRanking())}),g(1,"i",96),u(2,"Auto Fill "),l()}if(n&2){let e=h();f("disabled",e.getAvailableTeams().length===0)}}function iF(n,t){if(n&1){let e=P();a(0,"button",95),b("click",function(){w(e);let r=h();return T(r.autoFillBingo())}),g(1,"i",96),u(2,"Auto Fill Random "),l()}if(n&2){let e=h();f("disabled",e.getAvailableTeams().length===0)}}function rF(n,t){if(n&1){let e=P();a(0,"button",97),b("click",function(){w(e);let r=h();return T(r.shuffleTeams())}),g(1,"i",98),u(2,"Shuffle "),l()}if(n&2){let e=h();f("disabled",e.getAvailableTeams().length===0)}}function oF(n,t){if(n&1){let e=P();a(0,"button",97),b("click",function(){w(e);let r=h();return T(r.shuffleBingo())}),g(1,"i",98),u(2,"Shuffle Bingo "),l()}if(n&2){let e=h();f("disabled",e.getAvailableTeams().length===0)}}function sF(n,t){if(n&1){let e=P();a(0,"button",99),b("click",function(){w(e);let r=h();return T(r.clearSelection())}),g(1,"i",100),u(2,"Deselect Team "),l()}}function aF(n,t){n&1&&(a(0,"div",101),g(1,"i",102),a(2,"div"),u(3,"All teams assigned!"),l()())}function lF(n,t){if(n&1&&g(0,"img",75),n&2){let e=h().$implicit;f("src",e.photoUrl,te)}}function cF(n,t){n&1&&(a(0,"div"),g(1,"i",107),l())}function dF(n,t){n&1&&(a(0,"div"),g(1,"i",108),l())}function uF(n,t){if(n&1){let e=P();a(0,"div",105),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.selectTeamForAssignment(r))}),a(1,"div",106),y(2,lF,1,1,"img",69),a(3,"div",70)(4,"div",71),u(5),l(),a(6,"div",72),u(7),l()(),y(8,cF,2,0,"div",46)(9,dF,2,0,"div",46),l()()}if(n&2){let e=t.$implicit,i=h(2);M("selected-team",(i.selectedTeamForAssignment==null?null:i.selectedTeamForAssignment.id)===e.id),c(2),f("ngIf",e.photoUrl),c(3),k(e.name),c(2),k(e.description||"No description"),c(),f("ngIf",(i.selectedTeamForAssignment==null?null:i.selectedTeamForAssignment.id)===e.id),c(),f("ngIf",(i.selectedTeamForAssignment==null?null:i.selectedTeamForAssignment.id)!==e.id)}}function pF(n,t){if(n&1&&(a(0,"div",103),y(1,uF,10,7,"div",104),l()),n&2){let e=h();c(),f("ngForOf",e.getAvailableTeams())}}function fF(n,t){if(n&1&&g(0,"img",120),n&2){let e=h(2);f("src",e.selectedTeamForAssignment.photoUrl,te)}}function mF(n,t){if(n&1){let e=P();a(0,"div",109)(1,"div",110)(2,"h6",19),g(3,"i",111),u(4,"Selected for Assignment "),l()(),a(5,"div",21)(6,"div",112),y(7,fF,1,1,"img",113),a(8,"div",70)(9,"h6",114),u(10),l(),a(11,"p",115),u(12),l()()(),a(13,"div",116)(14,"p",117),g(15,"i",118),u(16," Click on any empty position to assign this team "),l(),a(17,"button",119),b("click",function(){w(e);let r=h();return T(r.clearSelection())}),g(18,"i",100),u(19,"Deselect Team "),l()()()()}if(n&2){let e=h();c(7),f("ngIf",e.selectedTeamForAssignment.photoUrl),c(3),k(e.selectedTeamForAssignment.name),c(2),k(e.selectedTeamForAssignment.description||"No description")}}function hF(n,t){n&1&&(a(0,"div"),g(1,"i",121),u(2," Ready to publish! "),l())}function gF(n,t){n&1&&(a(0,"div"),g(1,"i",122),u(2," Please assign teams to complete your prediction "),l())}function vF(n,t){n&1&&g(0,"span",123)}function _F(n,t){n&1&&g(0,"i",124)}var Cu=class n{route=E(Ne);router=E(J);toastr=E(re);fb=E(mt);http=E(ve);predictionTypeMap={Ranking:0,Bracket:1,Bingo:2};predictionId=0;templateId=0;predictionType="Ranking";template=null;selectedTeams=[];postRank=null;postBingo=null;selectedTeamForAssignment=null;selectedSlot=null;postForm=new Et({});isLoading=!1;isSubmitting=!1;ngOnInit(){this.initializeForm(),this.loadRouteData(),setTimeout(()=>{this.initializePostStructure()},50)}initializeForm(){this.postForm=this.fb.group({isDraft:[!1],notes:[""]})}loadRouteData(){this.route.params.subscribe(e=>{this.predictionId=+e.predictionId,this.templateId=+e.templateId,this.predictionType=e.type,console.log("Loaded route params:",{predictionId:this.predictionId,templateId:this.templateId,predictionType:this.predictionType})});let t=this.router.getCurrentNavigation();if(t?.extras.state)this.selectedTeams=t.extras.state.selectedTeams||[],this.template=t.extras.state.template||null;else{let e=history.state;if(e?.selectedTeams)this.selectedTeams=e.selectedTeams,this.template=e.template;else{this.toastr.error("Missing required data. Redirecting back to team selection."),this.goBack();return}}if(!this.selectedTeams?.length||!this.template){this.toastr.error("Missing teams or template data. Please go back and try again."),this.goBack();return}}initializePostStructure(){if(this.template)switch(this.predictionType){case"Ranking":this.initializeRankingPost();break;case"Bingo":this.initializeBingoPost();break}}initializeRankingPost(){let t=this.template?.numberOfRows||10,e=this.template?.numberOfColumns||1;this.postRank={rankTable:{numberOfRows:t,numberOfColumns:e,rows:[]},teams:[...this.selectedTeams],totalScore:0,isOfficialResult:!1};for(let i=0;i<t;i++){let r={order:i+1,columns:[]};for(let o=0;o<e;o++)r.columns.push({team:null,officialScore:0,order:o});this.postRank.rankTable.rows.push(r)}}initializeBingoPost(){let t=this.template?.gridSize||5;this.postBingo={gridSize:t,bingoCells:[],teams:[...this.selectedTeams],totalScore:0,isOfficialResult:!1};for(let e=0;e<t;e++)for(let i=0;i<t;i++){let r={row:e,column:i,team:null,score:0,officialScore:0,isWrong:!1};this.postBingo.bingoCells.push(r)}}selectTeamForAssignment(t){this.selectedTeamForAssignment?.id===t.id?(this.selectedTeamForAssignment=null,this.selectedSlot=null,this.toastr.info("Team deselected")):(this.selectedTeamForAssignment=t,this.selectedSlot=null,this.toastr.success(`${t.name} selected. Click on a position to assign it.`))}handleSlotClick(t,...e){if(!this.selectedTeamForAssignment){this.toastr.info("Please select a team first");return}if(t==="ranking"){let[i,r]=e;this.assignTeamToRankingSlot(i,r)}else if(t==="bingo"){let[i]=e;this.assignTeamToBingoCell(i)}}assignTeamToRankingSlot(t,e){if(!this.postRank||!this.selectedTeamForAssignment)return;let i=this.postRank.rankTable.rows[t]?.columns[e];if(!i)return;if(i.team){this.toastr.warning("This position is already occupied");return}let r=this.findTeamInRanking(this.selectedTeamForAssignment.id);if(r){let o=this.postRank.rankTable.rows[r.rowIndex].columns[r.colIndex];o.team=null}i.team=this.selectedTeamForAssignment,this.toastr.success(`${this.selectedTeamForAssignment.name} assigned to rank ${t+1}`),this.selectedTeamForAssignment=null,this.selectedSlot=null}assignTeamToBingoCell(t){if(!this.postBingo||!this.selectedTeamForAssignment)return;let e=this.postBingo.bingoCells[t];if(!e)return;if(e.team){this.toastr.warning("This bingo square is already occupied");return}let i=this.findTeamInBingo(this.selectedTeamForAssignment.id);i!==-1&&(this.postBingo.bingoCells[i].team=null),e.team=this.selectedTeamForAssignment,this.toastr.success(`${this.selectedTeamForAssignment.name} assigned to bingo square`),this.selectedTeamForAssignment=null,this.selectedSlot=null}findTeamInRanking(t){if(!this.postRank)return null;for(let e=0;e<this.postRank.rankTable.rows.length;e++)for(let i=0;i<this.postRank.rankTable.rows[e].columns.length;i++)if(this.postRank.rankTable.rows[e].columns[i].team?.id===t)return{rowIndex:e,colIndex:i};return null}findTeamInBingo(t){return this.postBingo?this.postBingo.bingoCells.findIndex(e=>e.team?.id===t):-1}clearSelection(){this.selectedTeamForAssignment=null,this.selectedSlot=null,this.toastr.info("Selection cleared")}removeTeamFromSlot(t,e){if(!this.postRank)return;let i=this.postRank.rankTable.rows[t]?.columns[e];if(i?.team){let r=i.team.name;i.team=null,this.toastr.info(`${r} removed from ranking`)}}removeTeamFromBingo(t){if(!this.postBingo)return;let e=this.postBingo.bingoCells[t];if(e?.team){let i=e.team.name;e.team=null,this.toastr.info(`${i} removed from bingo`)}}getAvailableTeams(){let t=new Set;return this.predictionType==="Ranking"&&this.postRank?this.postRank.rankTable.rows.forEach(e=>{e.columns.forEach(i=>{i.team&&t.add(i.team.id)})}):this.predictionType==="Bingo"&&this.postBingo&&this.postBingo.bingoCells.forEach(e=>{e.team&&t.add(e.team.id)}),this.selectedTeams.filter(e=>!t.has(e.id))}autoFillRanking(){if(!this.postRank)return;let t=this.getAvailableTeams(),e=0;for(let i=0;i<this.postRank.rankTable.rows.length&&e<t.length;i++)for(let r=0;r<this.postRank.rankTable.rows[i].columns.length&&e<t.length;r++){let o=this.postRank.rankTable.rows[i].columns[r];o.team||(o.team=t[e++])}this.toastr.success(`Auto-filled ${e} positions`),this.clearSelection()}autoFillBingo(){if(!this.postBingo)return;let t=this.getAvailableTeams(),e=this.postBingo.bingoCells.filter(o=>!o.team),i=Math.min(t.length,e.length);[...e].sort(()=>.5-Math.random()).slice(0,i).forEach((o,s)=>{s<t.length&&(o.team=t[s])}),this.toastr.success(`Auto-filled ${i} bingo squares`),this.clearSelection()}clearAll(){this.predictionType==="Ranking"?this.clearAllRankings():this.predictionType==="Bingo"&&this.clearAllBingo(),this.clearSelection()}clearAllRankings(){this.postRank&&(this.postRank.rankTable.rows.forEach(t=>{t.columns.forEach(e=>{e.team=null})}),this.toastr.info("All rankings cleared"))}clearAllBingo(){this.postBingo&&(this.postBingo.bingoCells.forEach(t=>{t.team=null}),this.toastr.info("All bingo squares cleared"))}shuffleTeams(){let t=this.getAvailableTeams();if(t.length===0)return;let e=[...t].sort(()=>Math.random()-.5);if(this.clearAllRankings(),!this.postRank)return;let i=0;for(let r=0;r<this.postRank.rankTable.rows.length&&i<e.length;r++)for(let o=0;o<this.postRank.rankTable.rows[r].columns.length&&i<e.length;o++)this.postRank.rankTable.rows[r].columns[o].team=e[i++];this.toastr.success("Teams shuffled randomly"),this.clearSelection()}shuffleBingo(){let t=this.getAvailableTeams();if(t.length===0||(this.clearAllBingo(),!this.postBingo))return;let e=[...t].sort(()=>Math.random()-.5),i=this.postBingo.bingoCells.filter(s=>!s.team),r=Math.min(e.length,i.length);[...i].sort(()=>Math.random()-.5).slice(0,r).forEach((s,d)=>{d<e.length&&(s.team=e[d])}),this.toastr.success("Bingo squares shuffled randomly"),this.clearSelection()}getAssignedTeamsCount(){if(this.predictionType==="Ranking"&&this.postRank){let t=0;return this.postRank.rankTable.rows.forEach(e=>{e.columns.forEach(i=>{i.team&&t++})}),t}else if(this.predictionType==="Bingo"&&this.postBingo)return this.postBingo.bingoCells.filter(t=>t.team).length;return 0}getTotalSlotsCount(){return this.predictionType==="Ranking"&&this.postRank?this.postRank.rankTable.numberOfRows*this.postRank.rankTable.numberOfColumns:this.predictionType==="Bingo"&&this.postBingo?this.postBingo.bingoCells.length:0}getProgressPercentage(){let t=this.getTotalSlotsCount();return t===0?0:Math.round(this.getAssignedTeamsCount()/t*100)}isValidPost(){return this.predictionType==="Ranking"&&this.postRank?this.postRank.rankTable.rows.some(t=>t.columns.some(e=>e.team!==null)):this.predictionType==="Bingo"&&this.postBingo?this.postBingo.bingoCells.some(t=>t.team!==null):!1}submitPost(){return U(this,null,function*(){if(!this.isValidPost()){this.toastr.error("Please assign teams to at least some positions");return}this.isSubmitting=!0;try{if(console.log("=== SUBMITTING POST ==="),console.log("predictionId:",this.predictionId),console.log("templateId:",this.templateId),console.log("predictionType:",this.predictionType),this.predictionType==="Ranking"&&!this.postRank||this.predictionType==="Bingo"&&!this.postBingo||!this.template){this.toastr.error("Missing required data. Please refresh and try again."),this.isSubmitting=!1;return}let t={predictionId:this.predictionId,templateId:this.templateId,predictionType:this.predictionTypeMap[this.predictionType],notes:this.postForm.get("notes")?.value||"",isDraft:this.postForm.get("isDraft")?.value||!1};this.predictionType==="Ranking"&&this.postRank&&(t.postRank={rankingTemplateId:this.templateId,predictionId:this.predictionId,rankTable:{numberOfRows:this.postRank.rankTable.numberOfRows,numberOfColumns:this.postRank.rankTable.numberOfColumns,rows:this.postRank.rankTable.rows.map((i,r)=>({createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),order:i.order,isWrong:!1,columns:i.columns.map((o,s)=>({team:o.team?{id:o.team.id,name:o.team.name,description:o.team.description||"",score:o.team.score||0,createdByUserId:o.team.createdByUserId,createdAt:o.team.createdAt}:null,officialScore:0,order:s}))}))},teams:this.selectedTeams.map(i=>({id:i.id,name:i.name,description:i.description||"",score:i.score||0,createdByUserId:i.createdByUserId,createdAt:i.createdAt})),isOfficialResult:!1,totalScore:0}),this.predictionType==="Bingo"&&this.postBingo&&(t.postBingo={bingoTemplateId:this.templateId,predictionId:this.predictionId,gridSize:this.postBingo.gridSize,bingoCells:this.postBingo.bingoCells.map((i,r)=>({row:i.row,column:i.column,team:i.team?{id:i.team.id,name:i.team.name,description:i.team.description||"",score:i.team.score||0,createdByUserId:i.team.createdByUserId,createdAt:i.team.createdAt}:null,score:i.score||0,officialScore:i.officialScore||0,isWrong:i.isWrong||!1})),teams:this.selectedTeams.map(i=>({id:i.id,name:i.name,description:i.description||"",score:i.score||0,createdByUserId:i.createdByUserId,createdAt:i.createdAt})),isOfficialResult:!1,totalScore:0}),console.log("Publish request:",t);let e=`${Q.apiUrl}post`;this.predictionType==="Ranking"?e+="/rank/publish":this.predictionType==="Bingo"?e+="/bingo/publish":e+="/bracket/publish",this.http.post(e,t).subscribe({next:i=>{this.postForm.get("isDraft")?.value?this.toastr.success("Prediction saved as draft successfully!"):this.toastr.success("Prediction published successfully!"),this.router.navigate(["/"])},error:i=>{console.error("=== SUBMISSION ERROR ==="),console.error("Full error:",i);let r="Failed to publish prediction";i.status===400?Array.isArray(i.error)?r=`Validation errors: ${i.error.join(", ")}`:typeof i.error=="string"?r=i.error:typeof i.error=="object"&&(r=i.error.message||i.error.title||`Server error: ${JSON.stringify(i.error)}`):i.status===401?r="You are not authorized to perform this action. Please log in again.":i.status===404?r="API endpoint not found. Please check your server configuration.":i.status===500?r="Server error occurred. Please try again later.":i.status===0&&(r="Network error - cannot reach server. Check if the API is running."),console.error("Final error message:",r),this.toastr.error(r)}})}catch(t){console.error("Unexpected error:",t),this.toastr.error("Unexpected error occurred.")}finally{this.isSubmitting=!1}})}goBack(){this.router.navigate(["/select-teams",this.predictionId,this.templateId,this.predictionType])}abandonFlow(){confirm("Are you sure you want to abandon this prediction? All progress will be lost.")&&this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-create-post"]],decls:87,vars:36,consts:[[1,"container-fluid","mt-4"],[1,"row","justify-content-center"],[1,"col-lg-11"],[1,"card","header-card","mb-4"],[1,"card-header"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-light","mb-1"],[1,"me-2",3,"ngClass"],[1,"text-light","mb-0","opacity-75"],[1,"d-flex","gap-2"],[1,"btn","btn-outline-light",3,"click"],[1,"fa","fa-arrow-left","me-2"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-times","me-2"],[1,"row"],[1,"col-lg-8"],["class","card ranking-card mb-4",4,"ngIf"],["class","card bingo-card mb-4",4,"ngIf"],[1,"card","quick-actions-card","mb-4"],[1,"text-light","mb-0"],[1,"fa","fa-bolt","me-2"],[1,"card-body"],[1,"d-flex","flex-wrap","gap-2"],["class","btn btn-outline-info btn-sm",3,"disabled","click",4,"ngIf"],[1,"btn","btn-outline-warning","btn-sm",3,"click"],[1,"fa","fa-eraser","me-1"],["class","btn btn-outline-success btn-sm",3,"disabled","click",4,"ngIf"],["class","btn btn-outline-secondary btn-sm",3,"click",4,"ngIf"],[1,"col-lg-4"],[1,"card","available-teams-card","mb-4"],[1,"fa","fa-users","me-2"],[1,"text-light","mb-0","opacity-75","mt-1"],["class","text-center text-light py-3",4,"ngIf"],["class","team-list",4,"ngIf"],["class","card bg-info border-info mb-4",4,"ngIf"],[1,"card","settings-card","mb-4"],[1,"fa","fa-cogs","me-2"],[3,"formGroup"],[1,"form-check","mb-3"],["type","checkbox","formControlName","isDraft","id","isDraft",1,"form-check-input"],["for","isDraft",1,"form-check-label","text-light"],[1,"form-text","text-light","opacity-75"],[1,"mb-3"],[1,"form-label","text-light"],["formControlName","notes","rows","3","placeholder","Add any notes about your prediction...",1,"form-control","bg-dark","text-light","border-secondary"],[1,"alert"],[4,"ngIf"],[1,"btn","btn-primary","btn-lg","w-100",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","fa fa-save me-2",4,"ngIf"],[1,"card","progress-card"],[1,"fa","fa-chart-bar","me-2"],[1,"progress","mb-2",2,"height","8px"],["role","progressbar",1,"progress-bar","bg-success"],[1,"d-flex","justify-content-between"],[1,"text-muted"],[1,"card","ranking-card","mb-4"],[1,"fa","fa-list-ol","me-2"],["class","text-light mb-0 opacity-75 mt-1",4,"ngIf"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","ranking-table","mb-0"],["width","100"],[4,"ngFor","ngForOf"],[1,"rank-number"],[1,"team-slot","clickable-slot",3,"click"],["class","team-item d-flex align-items-center",4,"ngIf"],["class","empty-slot text-center text-muted",4,"ngIf"],[1,"team-item","d-flex","align-items-center"],["class","team-image rounded me-2","width","32","height","32","alt","Team","loading","lazy",3,"src",4,"ngIf"],[1,"me-auto"],[1,"fw-bold","team-name"],[1,"small","team-description"],["type","button",1,"btn","btn-sm","btn-outline-light","remove-btn",3,"click"],[1,"fa","fa-times"],["width","32","height","32","alt","Team","loading","lazy",1,"team-image","rounded","me-2",3,"src"],[1,"empty-slot","text-center","text-muted"],[1,"fa","fa-plus-circle","fa-2x","mb-1"],[1,"small"],[1,"card","bingo-card","mb-4"],[1,"fa","fa-th","me-2"],[1,"bingo-grid"],["class","bingo-cell clickable-slot",3,"occupied","empty","can-assign","selected-slot","click",4,"ngFor","ngForOf"],[1,"bingo-cell","clickable-slot",3,"click"],["class","team-item text-center p-2",4,"ngIf"],["class","empty-slot text-center text-muted p-2",4,"ngIf"],[1,"team-item","text-center","p-2"],["class","team-image rounded mb-2","width","40","height","40","alt","Team","loading","lazy",3,"src",4,"ngIf"],[1,"fw-bold","team-name","small"],[1,"team-description","very-small","text-muted"],["type","button",1,"btn","btn-sm","btn-outline-light","remove-btn","mt-1",3,"click"],["width","40","height","40","alt","Team","loading","lazy",1,"team-image","rounded","mb-2",3,"src"],[1,"empty-slot","text-center","text-muted","p-2"],[1,"fa","fa-plus-circle","fa-lg","mb-1"],[1,"very-small"],[1,"btn","btn-outline-info","btn-sm",3,"click","disabled"],[1,"fa","fa-magic","me-1"],[1,"btn","btn-outline-success","btn-sm",3,"click","disabled"],[1,"fa","fa-random","me-1"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"fa","fa-times","me-1"],[1,"text-center","text-light","py-3"],[1,"fa","fa-check-circle","fa-2x","mb-2"],[1,"team-list"],["class","team-card clickable-team mb-2",3,"selected-team","click",4,"ngFor","ngForOf"],[1,"team-card","clickable-team","mb-2",3,"click"],[1,"team-card-content","d-flex","align-items-center"],[1,"fa","fa-check-circle","fa-lg","text-success"],[1,"fa","fa-circle-o","fa-lg","text-muted"],[1,"card","bg-info","border-info","mb-4"],[1,"card-header","bg-info","border-info"],[1,"fa","fa-hand-pointer-o","me-2"],[1,"d-flex","align-items-center"],["class","rounded me-3","width","48","height","48","alt","Team",3,"src",4,"ngIf"],[1,"mb-1","text-light"],[1,"mb-0","small","text-light","opacity-75"],[1,"mt-3"],[1,"small","text-light","mb-2"],[1,"fa","fa-info-circle","me-1"],[1,"btn","btn-outline-light","btn-sm","w-100",3,"click"],["width","48","height","48","alt","Team",1,"rounded","me-3",3,"src"],[1,"fa","fa-check-circle","me-2"],[1,"fa","fa-exclamation-triangle","me-2"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fa","fa-save","me-2"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"h2",6),g(8,"i",7),u(9),l(),a(10,"p",8),u(11," Click on teams and positions to assign them "),l()(),a(12,"div",9)(13,"button",10),b("click",function(){return i.goBack()}),g(14,"i",11),u(15,"Back "),l(),a(16,"button",12),b("click",function(){return i.abandonFlow()}),g(17,"i",13),u(18,"Abandon "),l()()()()(),a(19,"div",14)(20,"div",15),y(21,Z4,16,5,"div",16)(22,tF,9,11,"div",17),a(23,"div",18)(24,"div",4)(25,"h5",19),g(26,"i",20),u(27,"Quick Actions "),l()(),a(28,"div",21)(29,"div",22),y(30,nF,3,1,"button",23)(31,iF,3,1,"button",23),a(32,"button",24),b("click",function(){return i.clearAll()}),g(33,"i",25),u(34,"Clear All "),l(),y(35,rF,3,1,"button",26)(36,oF,3,1,"button",26)(37,sF,3,0,"button",27),l()()()(),a(38,"div",28)(39,"div",29)(40,"div",4)(41,"h5",19),g(42,"i",30),u(43),l(),a(44,"p",31),u(45," Click on a team to select it, then click on a position to assign "),l()(),a(46,"div",21),y(47,aF,4,0,"div",32)(48,pF,2,1,"div",33),l()(),y(49,mF,20,3,"div",34),a(50,"div",35)(51,"div",4)(52,"h5",19),g(53,"i",36),u(54,"Post Settings "),l()(),a(55,"div",21)(56,"form",37)(57,"div",38),g(58,"input",39),a(59,"label",40),u(60," Save as draft "),l(),a(61,"div",41),u(62," Drafts are not visible to others "),l()(),a(63,"div",42)(64,"label",43),u(65,"Notes (Optional)"),l(),g(66,"textarea",44),l()(),a(67,"div",45),y(68,hF,3,0,"div",46)(69,gF,3,0,"div",46),l(),a(70,"button",47),b("click",function(){return i.submitPost()}),y(71,vF,1,0,"span",48)(72,_F,1,0,"i",49),u(73),l()()(),a(74,"div",50)(75,"div",4)(76,"h6",19),g(77,"i",51),u(78,"Progress "),l()(),a(79,"div",21)(80,"div",52),g(81,"div",53),l(),a(82,"div",54)(83,"small",55),u(84),l(),a(85,"small",55),u(86),l()()()()()()()()()),e&2){let r;c(8),f("ngClass",Ic(32,j4,i.predictionType==="Ranking",i.predictionType==="Bracket",i.predictionType==="Bingo")),c(),x(" Create ",i.predictionType," Post "),c(12),f("ngIf",i.predictionType==="Ranking"&&i.postRank),c(),f("ngIf",i.predictionType==="Bingo"&&i.postBingo),c(8),f("ngIf",i.predictionType==="Ranking"),c(),f("ngIf",i.predictionType==="Bingo"),c(4),f("ngIf",i.predictionType==="Ranking"),c(),f("ngIf",i.predictionType==="Bingo"),c(),f("ngIf",i.selectedTeamForAssignment),c(6),x("Available Teams (",i.getAvailableTeams().length,") "),c(4),f("ngIf",i.getAvailableTeams().length===0),c(),f("ngIf",i.getAvailableTeams().length>0),c(),f("ngIf",i.selectedTeamForAssignment),c(7),f("formGroup",i.postForm),c(11),M("alert-success",i.isValidPost())("alert-warning",!i.isValidPost()),c(),f("ngIf",i.isValidPost()),c(),f("ngIf",!i.isValidPost()),c(),f("disabled",!i.isValidPost()||i.isSubmitting),c(),f("ngIf",i.isSubmitting),c(),f("ngIf",!i.isSubmitting),c(),x(" ",(r=i.postForm.get("isDraft"))!=null&&r.value?"Save Draft":"Publish Prediction"," "),c(8),oe("width",i.getProgressPercentage(),"%"),Pt("aria-valuenow",i.getAssignedTeamsCount())("aria-valuemin",0)("aria-valuemax",i.getTotalSlotsCount()),c(3),q("",i.getAssignedTeamsCount()," / ",i.getTotalSlotsCount()," assigned"),c(2),x("",i.getProgressPercentage(),"%")}},dependencies:[Y,Bt,Se,ee,Fe,ft,qe,Xr,Ee,pt,rt,lt,kt],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.team-card[_ngcontent-%COMP%], .team-slot[_ngcontent-%COMP%], .team-item[_ngcontent-%COMP%], .bingo-cell[_ngcontent-%COMP%]{will-change:transform;backface-visibility:hidden;transform:translateZ(0)}.header-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:12px;box-shadow:0 10px 30px #667eea4d}.header-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:transparent;border:none;padding:1.5rem}.ranking-card[_ngcontent-%COMP%]{background:#1a1a1a;border:none;border-radius:12px;box-shadow:0 10px 30px #0000004d;overflow:hidden}.ranking-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(145deg,#2c3e50,#34495e);border:none;padding:1rem 1.5rem}.bingo-card[_ngcontent-%COMP%]{background:#1a1a1a;border:none;border-radius:12px;box-shadow:0 10px 30px #0000004d;overflow:hidden}.bingo-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(145deg,#6f42c1,#5a32a3);border:none;padding:1rem 1.5rem}.bingo-grid[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;aspect-ratio:1}.clickable-slot[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.clickable-slot[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.clickable-slot.can-assign[_ngcontent-%COMP%]{border-color:#007bff!important;background:linear-gradient(145deg,#0056b3,#007bff)!important;box-shadow:0 4px 15px #007bff4d}.clickable-slot.can-assign[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 20px #007bff66}.clickable-slot.selected-slot[_ngcontent-%COMP%]{border-color:#007bff!important;background:linear-gradient(145deg,#0056b3,#007bff)!important;box-shadow:0 0 0 3px #007bff4d}.bingo-cell[_ngcontent-%COMP%]{aspect-ratio:1;border-radius:8px;padding:8px;position:relative;overflow:hidden;min-height:100px;display:flex;align-items:center;justify-content:center}.bingo-cell.empty[_ngcontent-%COMP%]{border:2px dashed #6c757d;background:linear-gradient(145deg,#495057,#6c757d)}.bingo-cell.occupied[_ngcontent-%COMP%]{border:2px solid #007bff;background:linear-gradient(145deg,#0056b3,#007bff)}.ranking-table[_ngcontent-%COMP%]{background:transparent;margin:0}.ranking-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(145deg,#007bff,#0056b3);color:#fff;font-weight:600;padding:16px;text-align:center;border:none;font-size:1.1rem}.ranking-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;border:1px solid #343a40;background:#2c3e50;vertical-align:middle}.rank-number[_ngcontent-%COMP%]{background:linear-gradient(145deg,#6c757d,#495057);color:#fff;font-weight:700;text-align:center;padding:16px 12px;font-size:1.2rem;border-radius:8px;margin:4px;box-shadow:0 2px 8px #6c757d4d}.team-slot[_ngcontent-%COMP%]{min-height:80px;border-radius:8px;padding:12px;margin:4px;position:relative;overflow:hidden}.team-slot.empty[_ngcontent-%COMP%]{border:2px dashed #6c757d;background:linear-gradient(145deg,#495057,#6c757d)}.team-slot.occupied[_ngcontent-%COMP%]{border:2px solid #007bff;background:linear-gradient(145deg,#0056b3,#007bff)}.team-item[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:6px;padding:8px;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.team-image[_ngcontent-%COMP%]{border:2px solid rgba(255,255,255,.3);object-fit:cover;flex-shrink:0}.team-name[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.2;margin-bottom:2px}.team-description[_ngcontent-%COMP%]{font-size:.75rem;opacity:.8;line-height:1.1}.very-small[_ngcontent-%COMP%]{font-size:.7rem;line-height:1}.remove-btn[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.3);padding:4px 8px;font-size:.75rem;transition:all .2s ease}.remove-btn[_ngcontent-%COMP%]:hover{background:#dc354533;border-color:#dc3545;color:#dc3545}.empty-slot[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;min-height:60px;opacity:.7}.empty-slot[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.5}.available-teams-card[_ngcontent-%COMP%]{background:linear-gradient(145deg,#17a2b8,#138496);border:none;border-radius:12px;box-shadow:0 8px 25px #17a2b833}.available-teams-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(145deg,#138496,#0c5460);border:none;padding:1rem 1.5rem}.team-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;padding-right:8px}.team-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.team-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:3px}.team-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:3px}.team-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}.clickable-team[_ngcontent-%COMP%]{background:linear-gradient(145deg,#007bff,#0056b3);border:none;border-radius:8px;padding:12px;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);box-shadow:0 2px 8px #007bff33;-webkit-user-select:none;user-select:none}.clickable-team[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #007bff4d}.clickable-team.selected-team[_ngcontent-%COMP%]{background:linear-gradient(145deg,#007bff,#0056b3);border:2px solid #007bff;box-shadow:0 4px 15px #007bff4d}.clickable-team.selected-team[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #007bff66}.team-card-content[_ngcontent-%COMP%]{pointer-events:none}.settings-card[_ngcontent-%COMP%]{background:linear-gradient(145deg,#007bff,#0056b3);border:none;border-radius:12px;box-shadow:0 8px 25px #007bff33}.settings-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(145deg,#0056b3,#004085);border:none;padding:1rem 1.5rem}.quick-actions-card[_ngcontent-%COMP%]{background:linear-gradient(145deg,#6f42c1,#5a32a3);border:none;border-radius:12px;box-shadow:0 8px 25px #6f42c133}.quick-actions-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(145deg,#5a32a3,#4c2a85);border:none;padding:1rem 1.5rem}.progress-card[_ngcontent-%COMP%]{background:linear-gradient(145deg,#6c757d,#495057);border:none;border-radius:12px;box-shadow:0 8px 25px #6c757d33}.progress-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(145deg,#495057,#343a40);border:none;padding:1rem 1.5rem}.form-control.bg-dark[_ngcontent-%COMP%]{background-color:#0000004d!important;border-color:#fff3;color:#fff}.form-control.bg-dark[_ngcontent-%COMP%]:focus{background-color:#0006!important;border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40;color:#fff}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#007bff;border-color:#007bff}@keyframes _ngcontent-%COMP%_assignSuccess{0%{transform:scale(1);box-shadow:0 0 #007bffb3}50%{transform:scale(1.05);box-shadow:0 0 0 20px #007bff00}to{transform:scale(1);box-shadow:0 0 #007bff00}}.assign-success[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_assignSuccess .6s ease-in-out}@keyframes _ngcontent-%COMP%_selectPulse{0%,to{box-shadow:0 0 #007bffb3}50%{box-shadow:0 0 0 10px #007bff00}}.selected-team[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_selectPulse 2s infinite}.btn[_ngcontent-%COMP%]{border-radius:6px;font-weight:500;transition:all .2s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.progress[_ngcontent-%COMP%]{background-color:#ffffff1a;border-radius:4px}.progress-bar[_ngcontent-%COMP%]{transition:width .3s ease}.assignment-flow-active[_ngcontent-%COMP%]   .clickable-slot.empty[_ngcontent-%COMP%]{border-style:solid;border-width:2px;border-color:#007bff;background:linear-gradient(145deg,#0056b3,#007bff)}.assignment-flow-active[_ngcontent-%COMP%]   .clickable-slot.empty[_ngcontent-%COMP%]:hover{border-color:#28a745;background:linear-gradient(145deg,#1e7e34,#28a745)}@media (max-width: 992px){.ranking-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ranking-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 4px;font-size:.9rem}.rank-number[_ngcontent-%COMP%]{padding:12px 8px;font-size:1rem}.team-slot[_ngcontent-%COMP%]{min-height:70px;padding:8px}.bingo-cell[_ngcontent-%COMP%]{min-height:80px;padding:6px}.bingo-grid[_ngcontent-%COMP%]{max-width:400px}}@media (max-width: 768px){.header-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem}.header-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.team-slot[_ngcontent-%COMP%]{min-height:60px;padding:6px}.bingo-cell[_ngcontent-%COMP%]{min-height:70px;padding:4px}.bingo-grid[_ngcontent-%COMP%]{max-width:300px}.team-item[_ngcontent-%COMP%]{padding:6px}.team-name[_ngcontent-%COMP%]{font-size:.8rem}.team-description[_ngcontent-%COMP%]{font-size:.7rem}.very-small[_ngcontent-%COMP%]{font-size:.6rem}.rank-number[_ngcontent-%COMP%]{padding:10px 6px;font-size:.9rem}}@media (max-width: 576px){.bingo-grid[_ngcontent-%COMP%]{max-width:280px}.bingo-cell[_ngcontent-%COMP%]{min-height:60px;padding:2px}.team-name[_ngcontent-%COMP%]{font-size:.7rem}.very-small[_ngcontent-%COMP%]{font-size:.55rem}}.clickable-team[_ngcontent-%COMP%]:focus, .clickable-slot[_ngcontent-%COMP%]:focus{outline:2px solid #007bff;outline-offset:2px}@media (prefers-contrast: high){.team-slot.empty[_ngcontent-%COMP%], .bingo-cell.empty[_ngcontent-%COMP%], .team-slot.occupied[_ngcontent-%COMP%], .bingo-cell.occupied[_ngcontent-%COMP%]{border-width:3px}}@media (prefers-reduced-motion: reduce){.clickable-team[_ngcontent-%COMP%], .clickable-slot[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{transition:none}.selected-team[_ngcontent-%COMP%]{animation:none}}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;border-radius:8px}.team-list[_ngcontent-%COMP%], .clickable-team[_ngcontent-%COMP%], .clickable-slot[_ngcontent-%COMP%], .bingo-cell[_ngcontent-%COMP%]{contain:layout style paint}.clickable-slot.empty[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);transition:left .3s ease;pointer-events:none}.clickable-slot.empty[_ngcontent-%COMP%]:hover:before{left:100%}.team-selection-indicator[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:20px;height:20px;background:#007bff;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:12px;z-index:10}.clickable-team[_ngcontent-%COMP%]:active, .clickable-slot[_ngcontent-%COMP%]:active{transform:scale(.98)}.assignment-success[_ngcontent-%COMP%]{background:linear-gradient(145deg,#007bff,#0056b3)!important;border-color:#007bff!important}.selected-team-info[_ngcontent-%COMP%]{background:linear-gradient(145deg,#17a2b8,#138496);border:none;border-radius:12px;box-shadow:0 8px 25px #17a2b833}.selected-team-info[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(145deg,#138496,#0c5460);border:none;padding:1rem 1.5rem}.can-assign-glow[_ngcontent-%COMP%]{box-shadow:0 0 15px #007bff80}.assignment-hint[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#007bffe6;color:#fff;padding:4px 8px;border-radius:4px;font-size:.75rem;pointer-events:none;z-index:10;opacity:0;transition:opacity .2s ease}.can-assign[_ngcontent-%COMP%]:hover   .assignment-hint[_ngcontent-%COMP%]{opacity:1}.btn-clear-selection[_ngcontent-%COMP%]{background:linear-gradient(145deg,#6c757d,#495057);border:none;color:#fff;border-radius:6px;transition:all .2s ease}.btn-clear-selection[_ngcontent-%COMP%]:hover{background:linear-gradient(145deg,#495057,#343a40);transform:translateY(-1px)}.assignment-notification[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;background:#007bffe6;color:#fff;padding:12px 20px;border-radius:8px;z-index:9999;animation:_ngcontent-%COMP%_slideInRight .3s ease}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.assignment-flow-guide[_ngcontent-%COMP%]{position:relative}.assignment-flow-guide[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;border:2px dashed #007bff;border-radius:8px;pointer-events:none;opacity:0;transition:opacity .2s ease}.assignment-flow-active[_ngcontent-%COMP%]   .assignment-flow-guide[_ngcontent-%COMP%]:after{opacity:1}.empty-slot.can-receive[_ngcontent-%COMP%]{background:linear-gradient(145deg,#007bff,#0056b3);color:#fff}.empty-slot.can-receive[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:1;color:#fff}.click-to-assign-indicator[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:4px;background:#007bffcc;color:#fff;font-size:10px;padding:2px 4px;border-radius:3px;opacity:0;transition:opacity .2s ease}.clickable-slot[_ngcontent-%COMP%]:hover   .click-to-assign-indicator[_ngcontent-%COMP%]{opacity:1}.clickable-team[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);transform:translate(-100%);transition:transform .3s ease;pointer-events:none}.clickable-team[_ngcontent-%COMP%]:hover:before{transform:translate(100%)}.progress-enhanced[_ngcontent-%COMP%]{background:linear-gradient(90deg,#e9ecef,#f8f9fa);border-radius:8px;overflow:hidden}.progress-enhanced[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#007bff,#17a2b8);border-radius:8px;position:relative}.progress-enhanced[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_progressShine 2s infinite}@keyframes _ngcontent-%COMP%_progressShine{0%{transform:translate(-100%)}to{transform:translate(100%)}}'],changeDetection:0})};var pr=class n{constructor(t){this.http=t}baseUrl=Q.apiUrl;getUsers(){return this.http.get(this.baseUrl+"admin/users")}getUserDetails(t){return this.http.get(this.baseUrl+"admin/user/"+t)}updateUserRoles(t,e){return this.http.post(this.baseUrl+"admin/edit-roles/"+t,{},{params:{roles:e.join(",")}})}deleteUser(t){return this.http.delete(this.baseUrl+"admin/user/"+t)}getSystemInfo(){return this.http.get(this.baseUrl+"admin/system-info")}static \u0275fac=function(e){return new(e||n)(L(ve))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function yF(n,t){n&1&&(a(0,"div",9)(1,"div",10)(2,"span",11),u(3,"Loading..."),l()(),a(4,"p",12),u(5,"Loading system information..."),l()())}function bF(n,t){if(n&1&&(a(0,"div",13),u(1),l()),n&2){let e=h();c(),x(" ",e.error," ")}}function CF(n,t){if(n&1&&(a(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",5)(4,"h6",17),u(5,"Application Information"),l(),a(6,"ul",18)(7,"li",19)(8,"span"),u(9,"Version:"),l(),a(10,"span",20),u(11),l()(),a(12,"li",19)(13,"span"),u(14,"Environment:"),l(),a(15,"span",21),u(16),l()(),a(17,"li",19)(18,"span"),u(19,"Server Time:"),l(),a(20,"span"),u(21),l()(),a(22,"li",19)(23,"span"),u(24,"Server Uptime:"),l(),a(25,"span"),u(26),l()()()()()(),a(27,"div",15)(28,"div",16)(29,"div",5)(30,"h6",17),u(31,"System Statistics"),l(),a(32,"ul",18)(33,"li",19)(34,"span"),u(35,"Active Users (30 days):"),l(),a(36,"span",22),u(37),l()(),a(38,"li",19)(39,"span"),u(40,"Total Predictions:"),l(),a(41,"span",23),u(42),l()(),a(43,"li",19)(44,"span"),u(45,"Last Database Backup:"),l(),a(46,"span"),u(47),l()()()()()()()),n&2){let e=h();c(11),k(e.systemInfo.appVersion),c(4),f("ngClass",e.systemInfo.environment==="Production"?"bg-success":"bg-warning text-dark"),c(),x(" ",e.systemInfo.environment," "),c(5),k(e.formatDate(e.systemInfo.serverTime)),c(5),k(e.systemInfo.serverUptime),c(11),k(e.systemInfo.totalActiveUsers),c(5),k(e.systemInfo.totalPredictions),c(5),k(e.systemInfo.lastDatabaseBackup?e.formatDate(e.systemInfo.lastDatabaseBackup):"Not available")}}var xu=class n{constructor(t,e){this.adminService=t;this.toastr=e}systemInfo=null;loading=!1;error=null;ngOnInit(){this.loadSystemInfo()}loadSystemInfo(){this.loading=!0,this.adminService.getSystemInfo().subscribe({next:t=>{this.systemInfo=t,this.loading=!1},error:t=>{console.error("Error loading system info:",t),this.error="Failed to load system information",this.loading=!1,this.toastr.error("Could not load system information")}})}refreshSystemInfo(){this.loadSystemInfo(),this.toastr.info("System information refreshed")}formatDate(t){return t?new Date(t).toLocaleString():"N/A"}static \u0275fac=function(e){return new(e||n)(R(pr),R(re))};static \u0275cmp=z({type:n,selectors:[["app-system-info"]],decls:11,vars:6,consts:[[1,"card"],[1,"card-header","bg-primary","text-white","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"btn","btn-sm","btn-light",3,"click","disabled"],[1,"fa","fa-refresh"],[1,"card-body"],["class","text-center py-3",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row g-3",4,"ngIf"],[1,"text-center","py-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"alert","alert-danger"],[1,"row","g-3"],[1,"col-md-6"],[1,"card","h-100"],[1,"card-title"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between"],[1,"badge","bg-info"],[1,"badge",3,"ngClass"],[1,"badge","bg-success"],[1,"badge","bg-primary"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"h5",2),u(3,"System Information"),l(),a(4,"button",3),b("click",function(){return i.refreshSystemInfo()}),g(5,"i",4),u(6," Refresh "),l()(),a(7,"div",5),y(8,yF,6,0,"div",6)(9,bF,2,1,"div",7)(10,CF,48,8,"div",8),l()()),e&2&&(c(4),f("disabled",i.loading),c(),M("fa-spin",i.loading),c(3),f("ngIf",i.loading),c(),f("ngIf",i.error),c(),f("ngIf",!i.loading&&!i.error&&i.systemInfo))},dependencies:[Y,Bt,ee],styles:[".card-title[_ngcontent-%COMP%]{color:#000}"]})};function xF(n,t){if(n&1){let e=P();a(0,"button",45),b("click",function(){w(e);let r=h();return r.searchTerm="",T(r.applyFilters())}),g(1,"i",46),l()}}function wF(n,t){n&1&&(a(0,"div",47)(1,"div",48)(2,"span",49),u(3,"Loading..."),l()(),a(4,"p",50),u(5,"Loading users..."),l()())}function TF(n,t){if(n&1&&(a(0,"div",51),u(1),l()),n&2){let e=h();c(),x(" ",e.error," ")}}function SF(n,t){if(n&1&&g(0,"i",60),n&2){let e=h(2);f("ngClass",e.sortDirection==="asc"?"fa-sort-up":"fa-sort-down")}}function EF(n,t){if(n&1&&g(0,"i",60),n&2){let e=h(2);f("ngClass",e.sortDirection==="asc"?"fa-sort-up":"fa-sort-down")}}function IF(n,t){if(n&1&&g(0,"i",60),n&2){let e=h(2);f("ngClass",e.sortDirection==="asc"?"fa-sort-up":"fa-sort-down")}}function PF(n,t){if(n&1&&g(0,"i",60),n&2){let e=h(2);f("ngClass",e.sortDirection==="asc"?"fa-sort-up":"fa-sort-down")}}function DF(n,t){if(n&1&&g(0,"i",60),n&2){let e=h(2);f("ngClass",e.sortDirection==="asc"?"fa-sort-up":"fa-sort-down")}}function kF(n,t){n&1&&(a(0,"div",69),g(1,"i",70),l())}function MF(n,t){if(n&1){let e=P();a(0,"tr")(1,"td",42),u(2),l(),a(3,"td",42),u(4),l(),a(5,"td",42)(6,"div",61),y(7,kF,2,0,"div",62),u(8),l()(),a(9,"td",42),u(10),l(),a(11,"td")(12,"span",63),u(13),l()(),a(14,"td",42),u(15),l(),a(16,"td")(17,"span",63),u(18),l()(),a(19,"td")(20,"div",64)(21,"button",65),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.viewUserDetails(r.id))}),g(22,"i",66),l(),a(23,"button",67),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.deleteUser(r.id,r.username))}),g(24,"i",68),l()()()()}if(n&2){let e=t.$implicit,i=h(2);c(2),k(e.id),c(2),k(e.username),c(3),f("ngIf",e.hasPhoto),c(),x(" ",e.displayName," "),c(2),k(e.email),c(2),f("ngClass",e.emailConfirmed?"bg-success":"bg-warning text-dark"),c(),x(" ",e.emailConfirmed?"Verified":"Unverified"," "),c(2),k(i.formatDate(e.createdAt)),c(2),f("ngClass",i.getRolesBadgeClass(e.roles)),c(),x(" ",e.roles.length>0?e.roles.join(", "):"Member"," ")}}function OF(n,t){if(n&1){let e=P();a(0,"div")(1,"button",71),b("click",function(){w(e);let r=h(2);return T(r.clearFilters())}),u(2," Clear Filters "),l()()}}function AF(n,t){if(n&1){let e=P();a(0,"div",52)(1,"table",53)(2,"thead",54)(3,"tr")(4,"th",55),b("click",function(){w(e);let r=h();return T(r.onSort("id"))}),u(5," ID "),y(6,SF,1,1,"i",56),l(),a(7,"th",55),b("click",function(){w(e);let r=h();return T(r.onSort("username"))}),u(8," Username "),y(9,EF,1,1,"i",56),l(),a(10,"th",55),b("click",function(){w(e);let r=h();return T(r.onSort("displayName"))}),u(11," Display Name "),y(12,IF,1,1,"i",56),l(),a(13,"th",55),b("click",function(){w(e);let r=h();return T(r.onSort("email"))}),u(14," Email "),y(15,PF,1,1,"i",56),l(),a(16,"th"),u(17,"Status"),l(),a(18,"th",55),b("click",function(){w(e);let r=h();return T(r.onSort("createdAt"))}),u(19," Created "),y(20,DF,1,1,"i",56),l(),a(21,"th"),u(22,"Roles"),l(),a(23,"th"),u(24,"Actions"),l()()(),a(25,"tbody"),y(26,MF,25,10,"tr",57),l()(),a(27,"div",58)(28,"div")(29,"span",7),u(30),l()(),y(31,OF,3,0,"div",59),l()()}if(n&2){let e=h();c(6),f("ngIf",e.sortColumn==="id"),c(3),f("ngIf",e.sortColumn==="username"),c(3),f("ngIf",e.sortColumn==="displayName"),c(3),f("ngIf",e.sortColumn==="email"),c(5),f("ngIf",e.sortColumn==="createdAt"),c(6),f("ngForOf",e.filteredUsers),c(4),q("Showing ",e.filteredUsers.length," of ",e.users.length," users"),c(),f("ngIf",e.searchTerm||e.filterRole!=="All")}}function RF(n,t){if(n&1){let e=P();a(0,"div",47)(1,"div",72),g(2,"i",73),l(),a(3,"h3",42),u(4,"No Users Match Your Filters"),l(),a(5,"p",7),u(6,"Try adjusting your search criteria."),l(),a(7,"button",74),b("click",function(){w(e);let r=h();return T(r.clearFilters())}),u(8," Clear All Filters "),l()()}}function NF(n,t){n&1&&(a(0,"div",47)(1,"div",72),g(2,"i",75),l(),a(3,"h3",42),u(4,"No Users Found"),l(),a(5,"p",7),u(6,"There are no users registered on the platform yet."),l()())}var wu=class n{constructor(t,e,i){this.adminService=t;this.toastr=e;this.router=i}users=[];filteredUsers=[];loading=!1;error=null;searchTerm="";filterRole="All";sortColumn="id";sortDirection="asc";stats={totalUsers:0,verifiedUsers:0,unverifiedUsers:0,admins:0,moderators:0,members:0,recentUsers:0};ngOnInit(){this.loadUsers()}loadUsers(){this.loading=!0,this.error=null,this.adminService.getUsers().subscribe({next:t=>{this.users=t,this.filteredUsers=[...t],this.calculateStats(),this.loading=!1},error:t=>{console.error("Error loading users:",t),this.error="Failed to load users. Please try again later.",this.loading=!1,t.status===403&&(this.toastr.error("You do not have permission to access this page"),this.router.navigateByUrl("/"))}})}calculateStats(){let t=new Date;t.setDate(t.getDate()-30),this.stats.totalUsers=this.users.length,this.stats.verifiedUsers=this.users.filter(e=>e.emailConfirmed).length,this.stats.unverifiedUsers=this.users.filter(e=>!e.emailConfirmed).length,this.stats.admins=this.users.filter(e=>e.roles.includes("Admin")).length,this.stats.moderators=this.users.filter(e=>e.roles.includes("Moderator")).length,this.stats.members=this.users.filter(e=>!(e.roles.includes("Admin")||e.roles.includes("Moderator"))).length,this.stats.recentUsers=this.users.filter(e=>new Date(e.createdAt)>t).length}applyFilters(){let t=this.users;if(this.searchTerm){let e=this.searchTerm.toLowerCase();t=t.filter(i=>i.username.toLowerCase().includes(e)||i.displayName.toLowerCase().includes(e)||i.email.toLowerCase().includes(e))}this.filterRole!=="All"&&(t=t.filter(e=>e.roles.includes(this.filterRole))),t=this.sortUsers(t),this.filteredUsers=t}sortUsers(t){return t.sort((e,i)=>{let r,o;switch(this.sortColumn){case"id":r=e.id,o=i.id;break;case"username":r=e.username?.toLowerCase()||"",o=i.username?.toLowerCase()||"";break;case"displayName":r=e.displayName?.toLowerCase()||"",o=i.displayName?.toLowerCase()||"";break;case"email":r=e.email?.toLowerCase()||"",o=i.email?.toLowerCase()||"";break;case"createdAt":r=new Date(e.createdAt).getTime(),o=new Date(i.createdAt).getTime();break;default:r=e.id,o=i.id;break}let s=this.sortDirection==="asc"?1:-1;return r<o?-1*s:r>o?1*s:0})}onSearch(t){this.searchTerm=t.target.value,this.applyFilters()}onFilterRole(t){this.filterRole=t,this.applyFilters()}onSort(t){this.sortColumn===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.applyFilters()}clearFilters(){this.searchTerm="",this.filterRole="All",this.applyFilters()}viewUserDetails(t){this.router.navigate(["/admin/users",t])}deleteUser(t,e){confirm(`Are you sure you want to delete user ${e}?`)&&this.adminService.deleteUser(t).subscribe({next:()=>{this.toastr.success(`User ${e} has been deleted`),this.loadUsers()},error:i=>{console.error("Error deleting user:",i),this.toastr.error(i.error||"Failed to delete user")}})}getRolesBadgeClass(t){return t.includes("Admin")?"bg-danger":t.includes("Moderator")?"bg-warning text-dark":"bg-info text-dark"}formatDate(t){return new Date(t).toLocaleDateString()}refreshData(){this.loadUsers(),this.toastr.info("Data has been refreshed")}static \u0275fac=function(e){return new(e||n)(R(pr),R(re),R(J))};static \u0275cmp=z({type:n,selectors:[["app-admin-dashboard"]],decls:117,vars:31,consts:[[1,"container-fluid","py-4"],[1,"row","mb-4"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa","fa-tachometer","me-2"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-refresh","me-2"],[1,"text-muted"],["id","stats-section",1,"row","mb-4"],[1,"col-md-4","col-lg-2","mb-3"],[1,"card","bg-primary","text-white","h-100"],[1,"card-body","text-center"],[1,"display-4"],[1,"mb-0"],[1,"card","bg-success","text-white","h-100"],[1,"card","bg-warning","text-dark","h-100"],[1,"card","bg-danger","text-white","h-100"],[1,"card","bg-info","text-white","h-100"],[1,"card","bg-secondary","text-white","h-100"],["id","system-info-section",1,"row","mb-4"],["id","user-management-section",1,"row","mb-4"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"badge","bg-light","text-dark"],[1,"card-body"],[1,"col-md-6","mb-3","mb-md-0"],[1,"input-group"],[1,"input-group-text"],[1,"fa","fa-search"],["type","text","placeholder","Search by name or email...",1,"form-control",3,"input","value"],["class","btn btn-outline-secondary","type","button",3,"click",4,"ngIf"],[1,"col-md-6"],[1,"btn-group","w-100","role-filter-group"],[1,"btn","btn-filter",3,"click"],["class","text-center py-5",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","table-responsive",4,"ngIf"],["id","content-management-section",1,"row","mb-4"],[1,"card","h-100"],[1,"card-header","bg-secondary","text-white"],[1,"card-body","text-center","py-5"],[1,"fa","fa-file-text","fa-4x","text-muted","mb-3"],[1,"text-dark"],["disabled","",1,"btn","btn-outline-secondary"],[1,"fa","fa-cogs","fa-4x","text-muted","mb-3"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-times"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-dark"],[1,"alert","alert-danger"],[1,"table-responsive"],[1,"table","table-hover","table-striped"],[1,"table-dark"],[2,"cursor","pointer",3,"click"],["class","fa",3,"ngClass",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","py-2"],[4,"ngIf"],[1,"fa",3,"ngClass"],[1,"d-flex","align-items-center"],["class","me-2",4,"ngIf"],[1,"badge",3,"ngClass"],[1,"btn-group"],["title","View Details",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fa","fa-eye"],["title","Delete User",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fa","fa-trash"],[1,"me-2"],[1,"fa","fa-user-circle","text-primary"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"mb-4"],[1,"fa","fa-search","fa-4x","text-muted"],[1,"btn","btn-outline-primary",3,"click"],[1,"fa","fa-users","fa-4x","text-muted"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),g(5,"i",4),u(6," Admin Dashboard"),l(),a(7,"button",5),b("click",function(){return i.refreshData()}),g(8,"i",6),u(9," Refresh Data "),l()(),a(10,"p",7),u(11,"Manage users and view system statistics"),l()()(),a(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"h3",12),u(17),l(),a(18,"p",13),u(19,"Total Users"),l()()()(),a(20,"div",9)(21,"div",14)(22,"div",11)(23,"h3",12),u(24),l(),a(25,"p",13),u(26,"Verified Users"),l()()()(),a(27,"div",9)(28,"div",15)(29,"div",11)(30,"h3",12),u(31),l(),a(32,"p",13),u(33,"Unverified Users"),l()()()(),a(34,"div",9)(35,"div",16)(36,"div",11)(37,"h3",12),u(38),l(),a(39,"p",13),u(40,"Admins"),l()()()(),a(41,"div",9)(42,"div",17)(43,"div",11)(44,"h3",12),u(45),l(),a(46,"p",13),u(47,"Moderators"),l()()()(),a(48,"div",9)(49,"div",18)(50,"div",11)(51,"h3",12),u(52),l(),a(53,"p",13),u(54,"New (30d)"),l()()()()(),a(55,"div",19)(56,"div",2),g(57,"app-system-info"),l()(),a(58,"div",20)(59,"div",2)(60,"div",21)(61,"div",22)(62,"div",3)(63,"h5",13),u(64,"User Management"),l(),a(65,"span",23),u(66),l()()(),a(67,"div",24)(68,"div",1)(69,"div",25)(70,"div",26)(71,"span",27),g(72,"i",28),l(),a(73,"input",29),b("input",function(o){return i.onSearch(o)}),l(),y(74,xF,2,0,"button",30),l()(),a(75,"div",31)(76,"div",32)(77,"button",33),b("click",function(){return i.onFilterRole("All")}),u(78," All "),l(),a(79,"button",33),b("click",function(){return i.onFilterRole("Admin")}),u(80," Admins "),l(),a(81,"button",33),b("click",function(){return i.onFilterRole("Moderator")}),u(82," Moderators "),l(),a(83,"button",33),b("click",function(){return i.onFilterRole("Member")}),u(84," Members "),l()()()(),y(85,wF,6,0,"div",34)(86,TF,2,1,"div",35)(87,AF,32,9,"div",36)(88,RF,9,0,"div",34)(89,NF,7,0,"div",34),l()()()(),a(90,"div",37)(91,"div",31)(92,"div",38)(93,"div",39)(94,"h5",13),u(95,"Content Management"),l()(),a(96,"div",40),g(97,"i",41),a(98,"h4",42),u(99,"Content Management"),l(),a(100,"p",7),u(101,"Manage predictions, categories, and other content."),l(),a(102,"button",43),u(103,"Coming Soon"),l()()()(),a(104,"div",31)(105,"div",38)(106,"div",39)(107,"h5",13),u(108,"Site Settings"),l()(),a(109,"div",40),g(110,"i",44),a(111,"h4",42),u(112,"Site Configuration"),l(),a(113,"p",7),u(114,"Configure site settings, preferences, and features."),l(),a(115,"button",43),u(116,"Coming Soon"),l()()()()()()),e&2&&(c(17),k(i.stats.totalUsers),c(7),k(i.stats.verifiedUsers),c(7),k(i.stats.unverifiedUsers),c(7),k(i.stats.admins),c(7),k(i.stats.moderators),c(7),k(i.stats.recentUsers),c(14),q("",i.filteredUsers.length," / ",i.users.length," Users"),c(7),f("value",i.searchTerm),c(),f("ngIf",i.searchTerm),c(3),M("btn-primary",i.filterRole==="All")("btn-outline-primary",i.filterRole!=="All"),c(2),M("btn-primary",i.filterRole==="Admin")("btn-outline-primary",i.filterRole!=="Admin"),c(2),M("btn-primary",i.filterRole==="Moderator")("btn-outline-primary",i.filterRole!=="Moderator"),c(2),M("btn-primary",i.filterRole==="Member")("btn-outline-primary",i.filterRole!=="Member"),c(2),f("ngIf",i.loading),c(),f("ngIf",i.error),c(),f("ngIf",!i.loading&&!i.error&&i.filteredUsers.length>0),c(),f("ngIf",!i.loading&&!i.error&&i.filteredUsers.length===0&&i.users.length>0),c(),f("ngIf",!i.loading&&!i.error&&i.users.length===0))},dependencies:[Y,Bt,Se,ee,it,xu,Fe],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 12px #0000001a;border-radius:8px}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#343a40!important;color:#fff!important;font-weight:500}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#333!important;background-color:#fff}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-of-type(odd) > td[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#333!important}.role-filter-group[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]{border-radius:0;padding:.5rem 1rem;font-weight:500;border:1px solid #0d6efd;color:#0d6efd;background-color:#fff;transition:all .2s ease}.role-filter-group[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]:first-child{border-top-left-radius:6px;border-bottom-left-radius:6px}.role-filter-group[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]:last-child{border-top-right-radius:6px;border-bottom-right-radius:6px}.role-filter-group[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]:hover{background-color:#0d6efd;color:#fff;transform:translateY(-1px)}.role-filter-group[_ngcontent-%COMP%]   .btn-filter.btn-primary[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff;border-color:#0d6efd}.role-filter-group[_ngcontent-%COMP%]   .btn-filter.btn-outline-primary[_ngcontent-%COMP%]{background-color:#fff;color:#0d6efd;border-color:#0d6efd}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0;padding:.25rem .5rem;margin:0 1px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}.badge[_ngcontent-%COMP%]{padding:.5em .75em;font-weight:400}.text-dark[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#333!important}.spinner-border[_ngcontent-%COMP%]{color:#0d6efd}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#ced4da}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.card-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.125)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026;transition:all .3s ease}.display-4[_ngcontent-%COMP%]{font-weight:700}@media (max-width: 768px){.role-filter-group[_ngcontent-%COMP%]{flex-direction:column}.role-filter-group[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]{border-radius:4px!important;margin-bottom:2px}.table-responsive[_ngcontent-%COMP%]{font-size:.875rem}}.mb-0[_ngcontent-%COMP%]{color:#000}"]})};function FF(n,t){n&1&&(a(0,"div",8)(1,"div",9)(2,"span",10),u(3,"Loading..."),l()(),a(4,"p",11),u(5,"Loading user details..."),l()())}function VF(n,t){if(n&1&&(a(0,"div",12),u(1),l()),n&2){let e=h();c(),x(" ",e.error," ")}}function LF(n,t){if(n&1&&(a(0,"div",32),g(1,"img",33),l()),n&2){let e=h(2);c(),f("src",e.user.photoUrl,te)}}function BF(n,t){if(n&1&&(a(0,"div",32)(1,"div",34)(2,"span",35),u(3),l()()()),n&2){let e=h(2);c(3),k(e.user.displayName.charAt(0).toUpperCase())}}function UF(n,t){if(n&1){let e=P();a(0,"div",36)(1,"input",37),b("change",function(){let r=w(e).$implicit,o=h(2);return T(o.updateRole(r))}),l(),a(2,"label",38),u(3),l()()}if(n&2){let e=t.$implicit,i=h(2);c(),f("id",e)("checked",i.selectedRoles.includes(e)),c(),f("for",e),c(),x(" ",e," ")}}function jF(n,t){if(n&1){let e=P();a(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"h5",17),u(5,"User Profile"),l()(),a(6,"div",18),y(7,LF,2,1,"div",19)(8,BF,4,1,"div",19),a(9,"h4"),u(10),l(),a(11,"p",20),u(12),l(),g(13,"hr"),a(14,"div",21)(15,"p")(16,"strong"),u(17,"Email:"),l(),u(18),l(),a(19,"p")(20,"strong"),u(21,"Email Status:"),l(),a(22,"span",22),u(23),l()(),a(24,"p")(25,"strong"),u(26,"Created:"),l(),u(27),l(),a(28,"p")(29,"strong"),u(30,"Last Active:"),l(),u(31),l(),a(32,"p")(33,"strong"),u(34,"Password Set:"),l(),a(35,"span",22),u(36),l()(),a(37,"p")(38,"strong"),u(39,"Was Warned:"),l(),a(40,"span",22),u(41),l()()()()()(),a(42,"div",23)(43,"div",15)(44,"div",16)(45,"h5",17),u(46,"User Roles"),l()(),a(47,"div",24)(48,"div",25)(49,"p"),u(50,"Select the roles for this user:"),l(),y(51,UF,4,4,"div",26),l(),a(52,"button",27),b("click",function(){w(e);let r=h();return T(r.updateRoles())}),u(53," Update Roles "),l()()(),a(54,"div",15)(55,"div",16)(56,"h5",17),u(57,"User Bio"),l()(),a(58,"div",24)(59,"p"),u(60),l()()(),a(61,"div",28)(62,"div",29)(63,"h5",17),u(64,"Danger Zone"),l()(),a(65,"div",24)(66,"p"),u(67,"Permanently delete this user and all associated data."),l(),a(68,"button",30),b("click",function(){w(e);let r=h();return T(r.deleteUser())}),g(69,"i",31),u(70," Delete User "),l()()()()()}if(n&2){let e=h();c(7),f("ngIf",e.user.photoUrl),c(),f("ngIf",!e.user.photoUrl),c(2),k(e.user.displayName),c(2),k(e.user.username),c(6),x(" ",e.user.email,""),c(4),f("ngClass",e.user.emailConfirmed?"bg-success":"bg-warning text-dark"),c(),x(" ",e.user.emailConfirmed?"Verified":"Unverified"," "),c(4),x(" ",e.formatDate(e.user.createdAt),""),c(4),x(" ",e.formatDate(e.user.lastActive),""),c(4),f("ngClass",e.user.hasChangedGenericPassword?"bg-success":"bg-warning text-dark"),c(),x(" ",e.user.hasChangedGenericPassword?"Yes":"No"," "),c(4),f("ngClass",e.user.wasWarnedAboutPasswordChange?"bg-success":"bg-warning text-dark"),c(),x(" ",e.user.wasWarnedAboutPasswordChange?"Yes":"No"," "),c(10),f("ngForOf",e.availableRoles),c(9),k(e.user.bio||"No bio available.")}}var Tu=class n{constructor(t,e,i,r){this.route=t;this.router=e;this.adminService=i;this.toastr=r}user=null;loading=!1;error=null;availableRoles=["Admin","Moderator","Member"];selectedRoles=[];ngOnInit(){this.loadUser()}loadUser(){let t=parseInt(this.route.snapshot.paramMap.get("id")||"0");if(t<=0){this.error="Invalid user ID";return}this.loading=!0,this.adminService.getUserDetails(t).subscribe({next:e=>{this.user=e,this.selectedRoles=[...e.roles],this.loading=!1},error:e=>{console.error("Error loading user details:",e),this.error="Failed to load user details",this.loading=!1,e.status===404&&(this.toastr.error("User not found"),this.router.navigateByUrl("/admin"))}})}updateRoles(){this.user&&this.adminService.updateUserRoles(this.user.username,this.selectedRoles).subscribe({next:t=>{this.user.roles=t,this.toastr.success("Roles updated successfully")},error:t=>{console.error("Error updating roles:",t),this.toastr.error(t.error||"Failed to update roles"),this.selectedRoles=[...this.user.roles]}})}deleteUser(){this.user&&confirm(`Are you sure you want to delete user ${this.user.username}?`)&&this.adminService.deleteUser(this.user.id).subscribe({next:()=>{this.toastr.success(`User ${this.user.username} has been deleted`),this.router.navigateByUrl("/admin")},error:t=>{console.error("Error deleting user:",t),this.toastr.error(t.error||"Failed to delete user")}})}goBack(){this.router.navigateByUrl("/admin")}updateRole(t){this.selectedRoles.includes(t)?this.selectedRoles=this.selectedRoles.filter(e=>e!==t):this.selectedRoles.push(t)}formatDate(t){return t?new Date(t).toLocaleString():""}static \u0275fac=function(e){return new(e||n)(R(Ne),R(J),R(pr),R(re))};static \u0275cmp=z({type:n,selectors:[["app-user-detail"]],decls:9,vars:3,consts:[[1,"container","mt-5"],[1,"row","mb-4"],[1,"col-md-12"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-arrow-left","me-2"],["class","text-center py-5",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"alert","alert-danger"],[1,"row"],[1,"col-md-4"],[1,"card","mb-4"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body","text-center"],["class","mb-3",4,"ngIf"],[1,"text-muted","mb-0"],[1,"text-start"],[1,"badge",3,"ngClass"],[1,"col-md-8"],[1,"card-body"],[1,"mb-4"],["class","form-check",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"card","border-danger"],[1,"card-header","bg-danger","text-white"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash","me-2"],[1,"mb-3"],["alt","User Photo",1,"img-fluid","rounded-circle",2,"max-width","150px",3,"src"],[1,"bg-light","d-flex","align-items-center","justify-content-center","rounded-circle","mx-auto",2,"width","150px","height","150px"],[1,"display-4","text-secondary"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id","checked"],[1,"form-check-label",3,"for"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),b("click",function(){return i.goBack()}),g(4,"i",4),u(5," Back to Users "),l()()(),y(6,FF,6,0,"div",5)(7,VF,2,1,"div",6)(8,jF,71,15,"div",7),l()),e&2&&(c(6),f("ngIf",i.loading),c(),f("ngIf",i.error),c(),f("ngIf",!i.loading&&!i.error&&i.user))},dependencies:[Y,Bt,Se,ee,it,Fe],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 12px #0000001a;border-radius:8px;margin-bottom:1.5rem}.card-header[_ngcontent-%COMP%]{border-top-left-radius:8px!important;border-top-right-radius:8px!important}.form-check[_ngcontent-%COMP%]{padding:.5rem;border-radius:4px;margin-bottom:.5rem;border:1px solid #dee2e6;transition:all .2s}.form-check[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.form-check-input[_ngcontent-%COMP%]:checked + .form-check-label[_ngcontent-%COMP%]{font-weight:700}.badge[_ngcontent-%COMP%]{padding:.5em .75em}.mb-4[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%]{color:#000}.container[_ngcontent-%COMP%]   mt-5[_ngcontent-%COMP%]{color:#000}"]})};var Su=class n{activeLink="dashboard";setActiveLink(t){this.activeLink=t}scrollToSection(t){setTimeout(()=>{let e=document.getElementById(t);if(e){let o=e.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:o,behavior:"smooth"}),e.style.transition="background-color 0.3s ease",e.style.backgroundColor="rgba(13, 110, 253, 0.1)",setTimeout(()=>{e.style.backgroundColor=""},1500)}else console.warn(`Section with ID '${t}' not found`)},100)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-admin"]],decls:44,vars:8,consts:[[1,"admin-container"],[1,"container-fluid"],[1,"row"],[1,"col-md-3","col-lg-2","sidebar"],[1,"admin-sidebar-header"],[1,"fa","fa-shield"],[1,"admin-sidebar-menu"],[1,"nav","flex-column"],[1,"nav-item"],["href","javascript:void(0)",1,"nav-link",3,"click"],[1,"fa","fa-dashboard","me-2"],[1,"fa","fa-info-circle","me-2"],[1,"fa","fa-users","me-2"],[1,"fa","fa-file-text","me-2"],["href","javascript:void(0)",1,"nav-link","disabled"],[1,"fa","fa-line-chart","me-2"],[1,"text-muted","d-block"],[1,"fa","fa-cogs","me-2"],[1,"admin-sidebar-footer"],["routerLink","/",1,"btn","btn-outline-light","btn-sm","w-100"],[1,"fa","fa-arrow-left","me-2"],[1,"col-md-9","col-lg-10","admin-content"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),g(6,"i",5),u(7," Admin"),l()(),a(8,"div",6)(9,"ul",7)(10,"li",8)(11,"a",9),b("click",function(){return i.scrollToSection("stats-section"),i.setActiveLink("dashboard")}),g(12,"i",10),u(13," Dashboard "),l()(),a(14,"li",8)(15,"a",9),b("click",function(){return i.scrollToSection("system-info-section"),i.setActiveLink("system-info")}),g(16,"i",11),u(17," System Info "),l()(),a(18,"li",8)(19,"a",9),b("click",function(){return i.scrollToSection("user-management-section"),i.setActiveLink("users")}),g(20,"i",12),u(21," User Management "),l()(),a(22,"li",8)(23,"a",9),b("click",function(){return i.scrollToSection("content-management-section"),i.setActiveLink("content")}),g(24,"i",13),u(25," Content Management "),l()(),a(26,"li",8)(27,"a",14),g(28,"i",15),u(29," Analytics "),a(30,"small",16),u(31,"Coming Soon"),l()()(),a(32,"li",8)(33,"a",14),g(34,"i",17),u(35," Settings "),a(36,"small",16),u(37,"Coming Soon"),l()()()()(),a(38,"div",18)(39,"a",19),g(40,"i",20),u(41," Back to Site "),l()()(),a(42,"div",21),g(43,"router-outlet"),l()()()()),e&2&&(c(11),M("active",i.activeLink==="dashboard"),c(4),M("active",i.activeLink==="system-info"),c(4),M("active",i.activeLink==="users"),c(4),M("active",i.activeLink==="content"))},dependencies:[Y,it,ga,Tt],styles:[".admin-container[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 100px);background-color:#f8f9fa}.sidebar[_ngcontent-%COMP%]{background-color:#343a40;color:#fff;min-height:calc(100vh - 100px);padding:0;position:sticky;top:100px;height:calc(100vh - 100px);display:flex;flex-direction:column}.admin-sidebar-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid rgba(255,255,255,.1)}.admin-sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem}.admin-sidebar-menu[_ngcontent-%COMP%]{flex:1;padding:10px 0}.admin-sidebar-menu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ffffffb3;padding:10px 20px;border-left:3px solid transparent;transition:all .2s}.admin-sidebar-menu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#ffffff0d;color:#fff}.admin-sidebar-menu[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#ffffff1a;color:#fff;border-left-color:#0d6efd}.admin-sidebar-menu[_ngcontent-%COMP%]   .nav-link.disabled[_ngcontent-%COMP%]{color:#ffffff4d;pointer-events:none}.admin-sidebar-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid rgba(255,255,255,.1)}.admin-content[_ngcontent-%COMP%]{padding:30px 20px}@media (max-width: 767.98px){.sidebar[_ngcontent-%COMP%]{position:static;height:auto;min-height:auto}.admin-sidebar-header[_ngcontent-%COMP%]{text-align:center}.admin-sidebar-menu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-left:none;border-bottom:3px solid transparent;text-align:center}.admin-sidebar-menu[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border-left-color:transparent;border-bottom-color:#0d6efd}}"]})};function $F(n,t){if(n&1&&(a(0,"span",63),u(1),l()),n&2){let e=h(2);c(),x('Search: "',e.searchTerm,'"')}}function HF(n,t){if(n&1&&(a(0,"span",63),u(1),l()),n&2){let e=h(2);c(),x("Post Type: ",e.getPostTypeDisplayName(),"")}}function zF(n,t){if(n&1&&(a(0,"span",63),u(1),l()),n&2){let e=h(2);c(),x("Type: ",e.selectedType,"")}}function qF(n,t){if(n&1&&(a(0,"span",63),u(1),l()),n&2){let e=h(2);c(),x("Status: ",e.selectedStatus,"")}}function GF(n,t){if(n&1&&(a(0,"span",63),u(1),l()),n&2){let e=h(2);c(),x("Sort: ",e.getSortDisplayName(),"")}}function WF(n,t){if(n&1&&(a(0,"div",60)(1,"small",61),u(2," Active filters: "),y(3,$F,2,1,"span",62)(4,HF,2,1,"span",62)(5,zF,2,1,"span",62)(6,qF,2,1,"span",62)(7,GF,2,1,"span",62),l()()),n&2){let e=h();c(3),f("ngIf",e.searchTerm),c(),f("ngIf",e.selectedPostType),c(),f("ngIf",e.selectedType),c(),f("ngIf",e.selectedStatus),c(),f("ngIf",e.sortBy!=="newest")}}function YF(n,t){if(n&1&&(a(0,"span"),u(1),l()),n&2){let e=h(2);c(),zs(" Showing ",e.getDisplayRange()," of ",e.pagination.totalItems," posts (",e.originalPredictionsCount," predictions + ",e.counterPredictionsCount," counter predictions) ")}}function ZF(n,t){if(n&1&&(a(0,"span"),u(1),a(2,"span",72),u(3),l()()),n&2){let e=h(2);c(),q(" Showing ",e.getDisplayRange()," of ",e.pagination.totalItems," filtered posts "),c(2),x("(",e.allPosts.length," total)")}}function QF(n,t){if(n&1){let e=P();a(0,"div",64)(1,"div",14),y(2,YF,2,4,"span",65)(3,ZF,4,3,"span",65),l(),a(4,"div",66)(5,"select",67),je("ngModelChange",function(r){w(e);let o=h();return We(o.pagination.pageSize,r)||(o.pagination.pageSize=r),T(r)}),b("change",function(){w(e);let r=h();return T(r.onPageSizeChange())}),a(6,"option",68),u(7,"5 per page"),l(),a(8,"option",69),u(9,"10 per page"),l(),a(10,"option",70),u(11,"20 per page"),l(),a(12,"option",71),u(13,"50 per page"),l()()()()}if(n&2){let e=h();c(2),f("ngIf",!e.hasActiveFilters()),c(),f("ngIf",e.hasActiveFilters()),c(2),Ue("ngModel",e.pagination.pageSize)}}function KF(n,t){if(n&1){let e=P();a(0,"li",76)(1,"button",83),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.goToPage(r))}),u(2),l()()}if(n&2){let e=t.$implicit,i=h(2);M("active",e===i.pagination.currentPage),c(),M("bg-primary",e===i.pagination.currentPage)("bg-dark",e!==i.pagination.currentPage)("text-white",!0)("border-secondary",e!==i.pagination.currentPage)("border-primary",e===i.pagination.currentPage),c(),x(" ",e," ")}}function JF(n,t){if(n&1){let e=P();a(0,"div",73)(1,"nav",74)(2,"ul",75)(3,"li",76)(4,"button",77),b("click",function(){w(e);let r=h();return T(r.goToPage(1))}),g(5,"i",78),l()(),a(6,"li",76)(7,"button",77),b("click",function(){w(e);let r=h();return T(r.goToPage(r.pagination.currentPage-1))}),g(8,"i",79),l()(),y(9,KF,3,13,"li",80),a(10,"li",76)(11,"button",77),b("click",function(){w(e);let r=h();return T(r.goToPage(r.pagination.currentPage+1))}),g(12,"i",81),l()(),a(13,"li",76)(14,"button",77),b("click",function(){w(e);let r=h();return T(r.goToPage(r.pagination.totalPages))}),g(15,"i",82),l()()()()()}if(n&2){let e=h();c(3),M("disabled",!e.pagination.hasPrevious),c(),f("disabled",!e.pagination.hasPrevious),c(2),M("disabled",!e.pagination.hasPrevious),c(),f("disabled",!e.pagination.hasPrevious),c(2),f("ngForOf",e.getVisiblePages()),c(),M("disabled",!e.pagination.hasNext),c(),f("disabled",!e.pagination.hasNext),c(2),M("disabled",!e.pagination.hasNext),c(),f("disabled",!e.pagination.hasNext)}}function XF(n,t){if(n&1&&(a(0,"span"),u(1),l()),n&2){let e=h().$implicit;c(),k(e.title)}}function e5(n,t){if(n&1&&(a(0,"span"),g(1,"i",123),u(2),l()),n&2){let e=h().$implicit;c(2),x(' Counter to: "',e.originalTitle,'" ')}}function t5(n,t){n&1&&(a(0,"span",124),g(1,"i",125),u(2,"Counter Prediction "),l())}function n5(n,t){if(n&1&&(a(0,"span",126),u(1),l()),n&2){let e=h().$implicit,i=h(2);M("bg-success",!e.isDraft&&e.isActive)("bg-warning",e.isDraft)("bg-secondary",!e.isDraft&&!e.isActive),c(),x(" ",i.getStatusText(e)," ")}}function i5(n,t){if(n&1&&(a(0,"span",124),u(1),l()),n&2){let e=h().$implicit;c(),k(e.privacyType||"Public")}}function r5(n,t){if(n&1&&(a(0,"div",127)(1,"small",72),u(2),l()()),n&2){let e=h().$implicit;c(2),x(" Original by: ",(e.originalAuthor==null?null:e.originalAuthor.displayName)||"Unknown"," ")}}function o5(n,t){if(n&1){let e=P();a(0,"li")(1,"button",100),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.viewOriginalPrediction(r))}),g(2,"i",128),u(3,"View Original "),l()()}}function s5(n,t){if(n&1){let e=P();a(0,"li")(1,"button",100),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.editPrediction(r.id))}),g(2,"i",129),u(3,"Continue Editing "),l()()}}function a5(n,t){if(n&1){let e=P();a(0,"li")(1,"button",100),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.publishPrediction(r.id))}),g(2,"i",130),u(3,"Publish "),l()()}}function l5(n,t){if(n&1){let e=P();a(0,"li")(1,"button",100),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.duplicatePrediction(r.id))}),g(2,"i",131),u(3,"Duplicate "),l()()}}function c5(n,t){if(n&1&&(a(0,"p",132),u(1),et(2,"slice"),l()),n&2){let e=h().$implicit;c(),q(" ",gn(2,2,e.description,0,120),"",e.description.length>120?"...":""," ")}}function d5(n,t){if(n&1&&g(0,"i",139),n&2){let e=h().$implicit,i=h(4);De(i.getFullIconClass(e.iconName))}}function u5(n,t){if(n&1&&(a(0,"span",137),y(1,d5,1,2,"i",138),u(2),l()),n&2){let e=t.$implicit;c(),f("ngIf",e.iconName),c(),x(" ",e.name," ")}}function p5(n,t){if(n&1&&(a(0,"span",140),u(1),l()),n&2){let e=h(2).$implicit;c(),x(" +",e.categories.length-3," more ")}}function f5(n,t){if(n&1&&(a(0,"div",133)(1,"div",134),y(2,u5,3,2,"span",135)(3,p5,2,1,"span",136),l()()),n&2){let e=h().$implicit;c(2),f("ngForOf",e.categories.slice(0,3)),c(),f("ngIf",e.categories.length>3)}}function m5(n,t){if(n&1&&(a(0,"div",108),g(1,"i",141),u(2),l()),n&2){let e=h().$implicit,i=h(2);c(2),x(" Ends: ",i.formatDate(e.endDate)," ")}}function h5(n,t){if(n&1&&(a(0,"div",142)(1,"strong"),u(2,"Notes:"),l(),u(3),et(4,"slice"),l()),n&2){let e=h().$implicit;c(3),q(" ",gn(4,2,e.notes,0,100),"",e.notes.length>100?"...":""," ")}}function g5(n,t){if(n&1&&(a(0,"div",143),g(1,"i",144),u(2),l()),n&2){let e=h().$implicit;c(2),x(" ",e.counterPredictionsCount," ")}}function v5(n,t){if(n&1&&(a(0,"div",145),u(1),l()),n&2){let e=h().$implicit;c(),x(" ",e.counterPredictionsCount===1?"Response":"Responses"," ")}}function _5(n,t){if(n&1&&(a(0,"div",146),u(1),l()),n&2){let e=h().$implicit,i=h(2);c(),x(" ",i.getDaysUntilEnd(e.endDate)," ")}}function y5(n,t){if(n&1){let e=P();a(0,"button",147),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.editPrediction(r.id))}),g(1,"i",148),u(2,"Continue Editing "),l()}}function b5(n,t){if(n&1){let e=P();a(0,"button",149),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.viewCounterPredictions(r.id))}),g(1,"i",144),u(2,"View Responses "),l()}}function C5(n,t){if(n&1){let e=P();a(0,"button",149),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.viewOriginalPrediction(r))}),g(1,"i",150),u(2,"View Original "),l()}}function x5(n,t){if(n&1){let e=P();a(0,"button",151),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.sharePost(r))}),g(1,"i",152),u(2,"Share "),l()}}function w5(n,t){if(n&1){let e=P();a(0,"div",86)(1,"div",87)(2,"div",88)(3,"div",89)(4,"div")(5,"h6",90),y(6,XF,2,1,"span",65)(7,e5,3,1,"span",65),l(),a(8,"div",66),g(9,"i",91),a(10,"span",92),u(11),l(),y(12,t5,3,0,"span",93)(13,n5,2,7,"span",94)(14,i5,2,1,"span",93),l(),y(15,r5,3,1,"div",95),l(),a(16,"div",96)(17,"button",97),g(18,"i",98),l(),a(19,"ul",99)(20,"li")(21,"button",100),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.viewPrediction(r))}),g(22,"i",101),u(23,"View Details "),l()(),y(24,o5,4,0,"li",65)(25,s5,4,0,"li",65)(26,a5,4,0,"li",65)(27,l5,4,0,"li",65),a(28,"li"),g(29,"hr",102),l(),a(30,"li")(31,"button",103),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.deletePrediction(r))}),g(32,"i",104),u(33,"Delete "),l()()()()()(),a(34,"div",30),y(35,c5,3,6,"p",105)(36,f5,4,2,"div",106),a(37,"div",84)(38,"div",107)(39,"div",108),u(40),l(),y(41,m5,3,1,"div",109)(42,h5,5,6,"div",110),l(),a(43,"div",111)(44,"div",112),y(45,g5,3,1,"div",113)(46,v5,2,1,"div",114)(47,_5,2,1,"div",115),l()()()(),a(48,"div",116)(49,"div",3)(50,"button",117),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.viewPrediction(r))}),g(51,"i",118),u(52),l(),a(53,"div",119),y(54,y5,3,0,"button",120)(55,b5,3,0,"button",121)(56,C5,3,0,"button",121)(57,x5,3,0,"button",122),l()()()()()}if(n&2){let e=t.$implicit,i=h(2);c(),M("border-primary",e.isCounterPrediction),c(5),f("ngIf",!e.isCounterPrediction),c(),f("ngIf",e.isCounterPrediction),c(2),De(i.getPredictionTypeIcon(i.getPredictionType(e))),c(2),k(i.getPredictionType(e)),c(),f("ngIf",e.isCounterPrediction),c(),f("ngIf",!e.isCounterPrediction),c(),f("ngIf",!e.isCounterPrediction),c(),f("ngIf",e.isCounterPrediction),c(2),f("id","dropdown-"+e.id),c(7),f("ngIf",e.isCounterPrediction),c(),f("ngIf",!e.isCounterPrediction&&e.isDraft),c(),f("ngIf",!e.isCounterPrediction&&e.isDraft),c(),f("ngIf",!e.isCounterPrediction&&!e.isDraft),c(8),f("ngIf",e.description),c(),f("ngIf",!e.isCounterPrediction&&e.categories&&e.categories.length>0),c(4),x(" Created: ",i.formatDate(e.createdAt)," "),c(),f("ngIf",!e.isCounterPrediction&&e.endDate),c(),f("ngIf",e.notes),c(3),f("ngIf",!e.isCounterPrediction),c(),f("ngIf",!e.isCounterPrediction),c(),f("ngIf",!e.isCounterPrediction&&e.endDate),c(5),x(" ",e.isCounterPrediction?"View My Response":e.isDraft?"Preview":"View"," "),c(2),f("ngIf",!e.isCounterPrediction&&e.isDraft),c(),f("ngIf",!e.isCounterPrediction&&!e.isDraft&&e.counterPredictionsCount>0),c(),f("ngIf",e.isCounterPrediction),c(),f("ngIf",!e.isDraft)}}function T5(n,t){if(n&1&&(a(0,"div",84),y(1,w5,58,29,"div",85),l()),n&2){let e=h();c(),f("ngForOf",e.paginatedPosts)}}function S5(n,t){if(n&1){let e=P();a(0,"li",76)(1,"button",83),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.goToPage(r))}),u(2),l()()}if(n&2){let e=t.$implicit,i=h(2);M("active",e===i.pagination.currentPage),c(),M("bg-primary",e===i.pagination.currentPage)("bg-dark",e!==i.pagination.currentPage)("text-white",!0)("border-secondary",e!==i.pagination.currentPage)("border-primary",e===i.pagination.currentPage),c(),x(" ",e," ")}}function E5(n,t){if(n&1){let e=P();a(0,"div",73)(1,"nav",74)(2,"ul",153)(3,"li",76)(4,"button",77),b("click",function(){w(e);let r=h();return T(r.goToPage(1))}),g(5,"i",78),u(6," First "),l()(),a(7,"li",76)(8,"button",77),b("click",function(){w(e);let r=h();return T(r.goToPage(r.pagination.currentPage-1))}),g(9,"i",79),u(10," Previous "),l()(),y(11,S5,3,13,"li",80),a(12,"li",76)(13,"button",77),b("click",function(){w(e);let r=h();return T(r.goToPage(r.pagination.currentPage+1))}),u(14," Next "),g(15,"i",81),l()(),a(16,"li",76)(17,"button",77),b("click",function(){w(e);let r=h();return T(r.goToPage(r.pagination.totalPages))}),u(18," Last "),g(19,"i",82),l()()()()()}if(n&2){let e=h();c(3),M("disabled",!e.pagination.hasPrevious),c(),f("disabled",!e.pagination.hasPrevious),c(3),M("disabled",!e.pagination.hasPrevious),c(),f("disabled",!e.pagination.hasPrevious),c(3),f("ngForOf",e.getVisiblePages()),c(),M("disabled",!e.pagination.hasNext),c(),f("disabled",!e.pagination.hasNext),c(3),M("disabled",!e.pagination.hasNext),c(),f("disabled",!e.pagination.hasNext)}}function I5(n,t){n&1&&(a(0,"div",154)(1,"div",155)(2,"span",156),u(3,"Loading..."),l()(),a(4,"p",157),u(5,"Loading your predictions..."),l()())}function P5(n,t){n&1&&(a(0,"button",161),g(1,"i",8),u(2,"Create Your First Prediction "),l())}function D5(n,t){if(n&1){let e=P();a(0,"button",162),b("click",function(){w(e);let r=h(2);return T(r.clearFilters())}),g(1,"i",163),u(2,"Clear Filters "),l()}}function k5(n,t){if(n&1&&(a(0,"div",154),g(1,"i",158),a(2,"h5",72),u(3),l(),a(4,"p",72),u(5),l(),y(6,P5,3,0,"button",159)(7,D5,3,0,"button",160),l()),n&2){let e=h();c(3),k(e.getEmptyStateTitle()),c(2),k(e.getEmptyStateMessage()),c(),f("ngIf",!e.hasActiveFilters()),c(),f("ngIf",e.hasActiveFilters())}}var Eu=class n{router=E(J);route=E(Ne);http=E(ve);toastr=E(re);accountService=E(pe);allPosts=[];filteredPosts=[];paginatedPosts=[];counterPredictions=[];isLoading=!1;showDebugInfo=!1;debugInfo=null;pagination={currentPage:1,pageSize:10,totalItems:0,totalPages:0,hasNext:!1,hasPrevious:!1};searchTerm="";selectedType="";selectedStatus="";selectedPostType="";sortBy="mostResponses";searchTimeout;get userPosts(){return this.allPosts}get publishedCount(){return this.allPosts.filter(t=>!t.isDraft&&!t.isCounterPrediction).length}get draftCount(){return this.allPosts.filter(t=>t.isDraft&&!t.isCounterPrediction).length}get activeCount(){return this.allPosts.filter(t=>!t.isDraft&&t.isActive&&!t.isCounterPrediction).length}get totalCounterPredictions(){return this.allPosts.filter(t=>!t.isCounterPrediction).reduce((t,e)=>t+e.counterPredictionsCount,0)}get counterPredictionsCount(){return this.allPosts.filter(t=>t.isCounterPrediction).length}get originalPredictionsCount(){return this.allPosts.filter(t=>!t.isCounterPrediction).length}get totalPosts(){return this.allPosts.length}ngOnInit(){this.checkRouteParams(),this.loadUserPosts()}getSafeIconClass(t){if(!t)return"fa-tag";let e=t.replace("fa-","").toLowerCase().trim();if(!e)return"fa-tag";let i={sports:"fa-trophy",sport:"fa-trophy",soccer:"fa-futbol-o",football:"fa-futbol-o","american-football":"fa-shield",americanfootball:"fa-shield",nfl:"fa-shield",rugby:"fa-shield",gridiron:"fa-shield",basketball:"fa-basketball-ball",baseball:"fa-baseball",tennis:"fa-trophy",golf:"fa-trophy",hockey:"fa-hockey-puck",racing:"fa-car",olympics:"fa-trophy",championship:"fa-trophy",league:"fa-trophy",premier:"fa-trophy",competition:"fa-trophy",music:"fa-music",movies:"fa-film",tv:"fa-tv",entertainment:"fa-film",gaming:"fa-gamepad",esports:"fa-gamepad",game:"fa-gamepad",bingo:"fa-th",games:"fa-gamepad",technology:"fa-laptop",tech:"fa-laptop",software:"fa-code",mobile:"fa-mobile",computer:"fa-laptop",business:"fa-briefcase",finance:"fa-money",economy:"fa-line-chart",stocks:"fa-line-chart",education:"fa-graduation-cap",school:"fa-graduation-cap",university:"fa-university",science:"fa-flask",books:"fa-book",travel:"fa-plane",tourism:"fa-plane",geography:"fa-globe",world:"fa-globe",health:"fa-heart",medicine:"fa-medkit",fitness:"fa-heart",news:"fa-newspaper-o",politics:"fa-institution",government:"fa-institution",food:"fa-cutlery",cooking:"fa-cutlery",lifestyle:"fa-home",home:"fa-home",default:"fa-tag",category:"fa-tag",tag:"fa-tag",tags:"fa-tags"};if(i[e])return i[e];for(let[d,p]of Object.entries(i))if(e.includes(d)||d.includes(e))return p;let r=["fa-trophy","fa-futbol-o","fa-basketball-ball","fa-baseball","fa-music","fa-film","fa-tv","fa-gamepad","fa-laptop","fa-mobile","fa-book","fa-graduation-cap","fa-university","fa-flask","fa-briefcase","fa-money","fa-line-chart","fa-globe","fa-plane","fa-heart","fa-medkit","fa-newspaper-o","fa-institution","fa-cutlery","fa-home","fa-users","fa-tag","fa-tags","fa-star","fa-cog","fa-camera","fa-car","fa-th","fa-list-ol","fa-sitemap","fa-check","fa-times","fa-plus","fa-minus","fa-edit","fa-trash","fa-search","fa-filter","fa-sort","fa-shield"],o=t.startsWith("fa-")?t:`fa-${t}`;if(r.includes(o))return o;let s=`fa-${e}`;return r.includes(s)?s:"fa-tag"}getFullIconClass(t){let e=this.getSafeIconClass(t);return e.startsWith("fa ")?e:`fa ${e}`}getPredictionTypeIcon(t){switch(t){case"Ranking":return"fa fa-list-ol";case"Bracket":return"fa fa-sitemap";case"Bingo":return"fa fa-th";default:return"fa fa-question"}}checkRouteParams(){this.route.queryParams.subscribe(t=>{t.search&&(this.searchTerm=t.search),t.type&&(this.selectedType=t.type),t.status&&(this.selectedStatus=t.status),t.postType&&(this.selectedPostType=t.postType),t.sort&&(this.sortBy=t.sort),t.page&&(this.pagination.currentPage=+t.page),t.size&&(this.pagination.pageSize=+t.size)})}goToPage(t){t<1||t>this.pagination.totalPages||(this.pagination.currentPage=t,this.updateUrlParams(),this.applyPagination(),window.scrollTo({top:0,behavior:"smooth"}))}onPageSizeChange(){this.pagination.currentPage=1,this.updateUrlParams(),this.applyFiltersAndPagination()}getVisiblePages(){let t=this.pagination.totalPages,e=this.pagination.currentPage,i=[];if(t<=7)for(let r=1;r<=t;r++)i.push(r);else{i.push(1),e>4&&i.push(-1);let r=Math.max(2,e-1),o=Math.min(t-1,e+1);for(let s=r;s<=o;s++)i.push(s);e<t-3&&i.push(-1),t>1&&i.push(t)}return i.filter(r=>r!==-1)}getDisplayRange(){if(this.pagination.totalItems===0)return"0";let t=(this.pagination.currentPage-1)*this.pagination.pageSize+1,e=Math.min(this.pagination.currentPage*this.pagination.pageSize,this.pagination.totalItems);return`${t}-${e}`}updatePaginationInfo(){this.pagination.totalItems=this.filteredPosts.length,this.pagination.totalPages=Math.ceil(this.pagination.totalItems/this.pagination.pageSize),this.pagination.hasNext=this.pagination.currentPage<this.pagination.totalPages,this.pagination.hasPrevious=this.pagination.currentPage>1,this.pagination.currentPage>this.pagination.totalPages&&this.pagination.totalPages>0&&(this.pagination.currentPage=this.pagination.totalPages),this.pagination.currentPage<1&&(this.pagination.currentPage=1)}applyPagination(){this.updatePaginationInfo();let t=(this.pagination.currentPage-1)*this.pagination.pageSize,e=t+this.pagination.pageSize;this.paginatedPosts=this.filteredPosts.slice(t,e)}applyFiltersAndPagination(){this.applyFiltersAndSorting(),this.applyPagination()}loadUserPosts(){return U(this,null,function*(){this.isLoading=!0;try{let t=this.accountService.currentUser();if(!t){this.toastr.error("You must be logged in to view your predictions"),this.router.navigate(["/auth"]);return}console.log("Loading posts for user:",t.id),yield Promise.all([this.loadOriginalPredictions(),this.loadCounterPredictions()]),this.applyFiltersAndPagination()}catch(t){console.error("Error loading user posts:",t),this.toastr.error("Failed to load your predictions"),this.allPosts=[],this.applyFiltersAndPagination()}finally{this.isLoading=!1}})}loadOriginalPredictions(){return U(this,null,function*(){try{console.log("Loading original predictions...");let t=yield this.http.get(`${Q.apiUrl}post/my-posts`).toPromise().catch(()=>null);if(!t){let e=this.accountService.currentUser();e&&(t=yield this.http.get(`${Q.apiUrl}post/user/${e.id}`).toPromise().catch(()=>null))}if(t&&Array.isArray(t)){let e=t.map(i=>({id:i.id,title:i.title||"Untitled Prediction",description:i.description||"",predictionType:this.getPredictionTypeDisplayName(i.predictionType),createdAt:this.parseDate(i.createdAt)||new Date,endDate:this.parseDate(i.endDate),isDraft:i.isDraft===!0,isActive:i.isActive!==!1,counterPredictionsCount:i.counterPredictionsCount||0,notes:i.notes||i.description||"",privacyType:i.privacyType||"Public",author:i.author,categories:i.categories||[],isCounterPrediction:!1}));this.allPosts=[...e],console.log("Loaded original predictions:",e.length)}}catch(t){console.error("Error loading original predictions:",t)}})}loadCounterPredictions(){return U(this,null,function*(){try{console.log("Loading counter predictions...");let t=yield this.http.get(`${Q.apiUrl}post/my-counter-predictions`).toPromise();if(t&&Array.isArray(t)){let e=t.map(i=>({id:i.id,title:`Counter to: "${i.originalTitle}"`,description:`Your ${i.counterPredictionType.toLowerCase()} counter prediction`,predictionType:this.getPredictionTypeDisplayName(i.predictionType),createdAt:this.parseDate(i.createdAt)||new Date,endDate:void 0,isDraft:!1,isActive:!0,counterPredictionsCount:0,notes:`Counter prediction for "${i.originalTitle}"`,privacyType:"Public",author:void 0,categories:[],isCounterPrediction:!0,originalPredictionId:i.originalPredictionId,originalTitle:i.originalTitle,originalAuthor:i.originalAuthor,counterPredictionType:i.counterPredictionType,totalScore:i.totalScore}));this.allPosts=[...this.allPosts,...e],console.log("Loaded counter predictions:",e.length)}}catch(t){console.error("Error loading counter predictions:",t)}})}onSearchChange(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{console.log("Search term changed to:",this.searchTerm),this.pagination.currentPage=1,this.updateUrlParams(),this.applyFiltersAndPagination()},300)}onFilterChange(){console.log("Filter changed - PostType:",this.selectedPostType,"Type:",this.selectedType,"Status:",this.selectedStatus,"Sort:",this.sortBy),this.pagination.currentPage=1,this.updateUrlParams(),this.applyFiltersAndPagination()}clearFilters(){console.log("Clearing all filters"),this.searchTerm="",this.selectedType="",this.selectedStatus="",this.selectedPostType="",this.sortBy="mostResponses",this.pagination.currentPage=1,this.updateUrlParams(),this.applyFiltersAndPagination()}updateUrlParams(){let t={};this.searchTerm&&(t.search=this.searchTerm),this.selectedType&&(t.type=this.selectedType),this.selectedStatus&&(t.status=this.selectedStatus),this.selectedPostType&&(t.postType=this.selectedPostType),this.sortBy&&this.sortBy!=="newest"&&(t.sort=this.sortBy),this.pagination.currentPage>1&&(t.page=this.pagination.currentPage),this.pagination.pageSize!==10&&(t.size=this.pagination.pageSize),this.router.navigate([],{relativeTo:this.route,queryParams:t,queryParamsHandling:"merge"})}applyFiltersAndSorting(){console.log("=== Applying Enhanced Filters and Sorting ==="),console.log("Original posts count:",this.allPosts.length);let t=[...this.allPosts];if(this.searchTerm&&this.searchTerm.trim()!==""){let e=this.searchTerm.toLowerCase().trim();t=t.filter(i=>i.title.toLowerCase().includes(e)||i.description.toLowerCase().includes(e)||i.notes&&i.notes.toLowerCase().includes(e)||i.originalTitle&&i.originalTitle.toLowerCase().includes(e))}if(this.selectedPostType&&this.selectedPostType!=="")switch(this.selectedPostType){case"original":t=t.filter(e=>!e.isCounterPrediction);break;case"counter":t=t.filter(e=>e.isCounterPrediction);break}if(this.selectedType&&this.selectedType!==""&&(t=t.filter(e=>e.predictionType===this.selectedType)),this.selectedStatus&&this.selectedStatus!=="")switch(this.selectedStatus){case"published":t=t.filter(e=>!e.isDraft&&!e.isCounterPrediction);break;case"draft":t=t.filter(e=>e.isDraft&&!e.isCounterPrediction);break;case"active":t=t.filter(e=>!e.isDraft&&e.isActive&&!e.isCounterPrediction);break;case"ended":t=t.filter(e=>!e.isDraft&&!e.isActive&&!e.isCounterPrediction);break}switch(this.sortBy){case"oldest":t.sort((e,i)=>e.createdAt.getTime()-i.createdAt.getTime());break;case"mostResponses":t.sort((e,i)=>i.counterPredictionsCount-e.counterPredictionsCount);break;case"endingSoon":t=t.filter(e=>e.endDate).sort((e,i)=>!e.endDate||!i.endDate?0:e.endDate.getTime()-i.endDate.getTime());break;case"alphabetical":t.sort((e,i)=>e.title.localeCompare(i.title));break;case"newest":default:t.sort((e,i)=>i.createdAt.getTime()-e.createdAt.getTime());break}this.filteredPosts=t,console.log("Filtered posts:",this.filteredPosts.length)}hasActiveFilters(){return!!(this.searchTerm&&this.searchTerm.trim()!==""||this.selectedType&&this.selectedType!==""||this.selectedStatus&&this.selectedStatus!==""||this.selectedPostType&&this.selectedPostType!==""||this.sortBy&&this.sortBy!=="newest")}getPostTypeDisplayName(){switch(this.selectedPostType){case"original":return"My Predictions";case"counter":return"Counter Predictions";default:return this.selectedPostType}}getSortDisplayName(){switch(this.sortBy){case"oldest":return"Oldest First";case"mostResponses":return"Most Responses";case"endingSoon":return"Ending Soon";case"alphabetical":return"A-Z";case"newest":return"Newest First";default:return this.sortBy}}getPredictionType(t){return t.counterPredictionType||t.predictionType}viewPrediction(t){return U(this,null,function*(){try{if(t.isCounterPrediction){let e=t.counterPredictionType?.toLowerCase()||"ranking";this.router.navigate(["/my-counter-prediction",t.id,e])}else this.router.navigate(["/my-prediction",t.id])}catch(e){console.error("Error viewing prediction:",e),this.toastr.error("Failed to load prediction")}})}viewOriginalPrediction(t){t.isCounterPrediction&&t.originalPredictionId&&this.router.navigate(["/prediction-details",t.originalPredictionId])}sharePost(t){let e;if(t.isCounterPrediction&&t.originalPredictionId?e=`${window.location.origin}/prediction-details/${t.originalPredictionId}`:e=`${window.location.origin}/prediction-details/${t.id}`,navigator.share){let i=t.isCounterPrediction?`Check out this prediction: "${t.originalTitle}"`:`Check out my prediction: "${t.title}"`;navigator.share({title:i,url:e}).catch(console.error)}else navigator.clipboard.writeText(e).then(()=>{this.toastr.success("Link copied to clipboard!")}).catch(()=>{this.toastr.error("Failed to copy link")})}deletePrediction(t){return U(this,null,function*(){let e=t.isCounterPrediction?"Are you sure you want to delete this counter prediction? This action cannot be undone.":"Are you sure you want to delete this prediction? This action cannot be undone.";if(confirm(e))try{if(t.isCounterPrediction){let i=t.counterPredictionType?.toLowerCase()||"ranking";yield this.http.delete(`${Q.apiUrl}post/counter-prediction/${t.id}/${i}`).toPromise(),this.toastr.success("Counter prediction deleted successfully")}else yield this.http.delete(`${Q.apiUrl}prediction/${t.id}`).toPromise(),this.toastr.success("Prediction deleted successfully");this.loadUserPosts()}catch(i){console.error("Error deleting:",i),this.toastr.error("Failed to delete")}})}editPrediction(t){return U(this,null,function*(){try{console.log("Loading prediction for editing:",t),this.router.navigate(["/create-prediction"],{queryParams:{edit:t}})}catch(e){console.error("Error loading prediction for editing:",e),this.toastr.error("Failed to load prediction for editing")}})}viewCounterPredictions(t){this.router.navigate(["/prediction-details",t],{fragment:"counter-predictions"})}publishPrediction(t){return U(this,null,function*(){if(confirm("Are you sure you want to publish this prediction? Once published, other users will be able to see and counter-predict it."))try{yield this.http.put(`${Q.apiUrl}prediction/${t}/publish`,{}).toPromise(),this.toastr.success("Prediction published successfully!"),this.loadUserPosts()}catch(e){console.error("Error publishing prediction:",e),this.toastr.error("Failed to publish prediction")}})}duplicatePrediction(t){return U(this,null,function*(){if(confirm("This will create a copy of your prediction as a new draft. Continue?"))try{let e=yield this.http.post(`${Q.apiUrl}prediction/${t}/duplicate`,{}).toPromise();this.toastr.success("Prediction duplicated successfully!"),this.loadUserPosts()}catch(e){console.error("Error duplicating prediction:",e),this.toastr.error("Failed to duplicate prediction")}})}getStatusText(t){return t.isDraft?"Draft":t.isActive?"Active":"Ended"}formatDate(t){if(!t||!(t instanceof Date)||isNaN(t.getTime()))return"Invalid Date";try{return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Date format error"}}getDaysUntilEnd(t){if(!t||!(t instanceof Date))return"";let e=new Date,i=t.getTime()-e.getTime(),r=Math.ceil(i/(1e3*60*60*24));return r<0?"Ended":r===0?"Ends today":r===1?"1 day left":r<=7?`${r} days left`:""}getPredictionTypeDisplayName(t){if(typeof t=="string")return t;switch(t){case 0:case"0":return"Ranking";case 1:case"1":return"Bracket";case 2:case"2":return"Bingo";default:return"Unknown"}}parseDate(t){if(t)try{if(t instanceof Date)return new Date(t.getTime());if(typeof t=="string"){let e=t.trim();if(e==="0001-01-01T00:00:00"||e.startsWith("0001-01-01"))return;let i=new Date(e);if(!isNaN(i.getTime())&&i.getFullYear()>1900)return i}if(typeof t=="number"&&t>0){let e=t>1e10?t:t*1e3,i=new Date(e);if(!isNaN(i.getTime())&&i.getFullYear()>1900)return i}return}catch(e){console.error("Error parsing date:",t,e);return}}getEmptyStateTitle(){if(this.hasActiveFilters())return"No posts match your filters";if(this.allPosts.length===0)return"No Predictions Yet";switch(this.selectedStatus){case"published":return"No Published Predictions";case"draft":return"No Draft Predictions";case"active":return"No Active Predictions";case"ended":return"No Ended Predictions";default:return"No Posts Found"}}getEmptyStateMessage(){if(this.hasActiveFilters())return"Try adjusting your search filters to find what you're looking for.";if(this.allPosts.length===0)return"Start by creating your first prediction and see how others respond!";switch(this.selectedStatus){case"published":return"You haven't published any predictions yet. Publish your drafts to let others counter-predict!";case"draft":return"You don't have any draft predictions. Start creating one to save your progress.";case"active":return"You don't have any active predictions. Published predictions that haven't ended will appear here.";case"ended":return"You don't have any ended predictions yet.";default:return"Create your first prediction to get started!"}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-my-predictions"]],decls:130,vars:19,consts:[[1,"container-fluid","mt-4"],[1,"card","bg-primary","border-primary","mb-4"],[1,"card-header","bg-primary","border-primary"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-light","mb-1"],[1,"fa","fa-user","me-2"],[1,"text-light","mb-0","opacity-75"],["routerLink","/create-prediction",1,"btn","btn-outline-light"],[1,"fa","fa-plus","me-2"],[1,"row","mb-4"],[1,"col-md-2","mb-3"],[1,"card","bg-success","border-success"],[1,"card-body","text-center"],[1,"fa","fa-check-circle","fa-2x","text-light","mb-2"],[1,"text-light"],[1,"text-light","mb-0"],[1,"card","bg-warning","border-warning"],[1,"fa","fa-edit","fa-2x","text-dark","mb-2"],[1,"text-dark"],[1,"text-dark","mb-0"],[1,"card","bg-info","border-info"],[1,"fa","fa-users","fa-2x","text-light","mb-2"],[1,"card","bg-secondary","border-secondary"],[1,"fa","fa-clock-o","fa-2x","text-light","mb-2"],[1,"card","bg-primary","border-primary"],[1,"fa","fa-reply","fa-2x","text-light","mb-2"],[1,"text-light","mb-0","small"],[1,"card","bg-dark","border-dark"],[1,"fa","fa-chart-bar","fa-2x","text-light","mb-2"],[1,"card","bg-secondary","border-secondary","mb-4"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-3"],[1,"form-label","text-light"],["type","text","placeholder","Search your predictions...",1,"form-control","bg-dark","text-light","border-secondary",3,"ngModelChange","input","ngModel","value"],[1,"col-md-2"],[1,"form-select","bg-dark","text-light","border-secondary",3,"ngModelChange","change","ngModel"],["value",""],["value","original"],["value","counter"],["value","Ranking"],["value","Bracket"],["value","Bingo"],["value","published"],["value","draft"],["value","active"],["value","ended"],["value","newest"],["value","oldest"],["value","mostResponses"],["value","endingSoon"],["value","alphabetical"],[1,"col-md-1","d-flex","align-items-end"],[1,"btn","btn-outline-light","w-100",3,"click"],[1,"fa","fa-times","me-1"],["class","mt-2",4,"ngIf"],["class","d-flex justify-content-between align-items-center mb-3",4,"ngIf"],["class","d-flex justify-content-center mb-4",4,"ngIf"],["class","row",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"mt-2"],[1,"text-light","opacity-75"],["class","badge bg-info me-1",4,"ngIf"],[1,"badge","bg-info","me-1"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[4,"ngIf"],[1,"d-flex","align-items-center","gap-2"],[1,"form-select","form-select-sm","bg-dark","text-light","border-secondary",2,"width","auto",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],[1,"text-muted"],[1,"d-flex","justify-content-center","mb-4"],["aria-label","My predictions pagination"],[1,"pagination","pagination-sm"],[1,"page-item"],[1,"page-link","bg-dark","text-light","border-secondary",3,"click","disabled"],[1,"fa","fa-angle-double-left"],[1,"fa","fa-angle-left"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"fa","fa-angle-right"],[1,"fa","fa-angle-double-right"],[1,"page-link",3,"click"],[1,"row"],["class","col-lg-6 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-6","mb-4"],[1,"card","bg-dark","border-dark","h-100"],[1,"card-header","bg-dark","border-dark"],[1,"d-flex","justify-content-between","align-items-start"],[1,"card-title","text-light","mb-1"],[1,"text-primary","me-1"],[1,"badge","bg-primary"],["class","badge bg-info",4,"ngIf"],["class","badge",3,"bg-success","bg-warning","bg-secondary",4,"ngIf"],["class","mt-1",4,"ngIf"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-sm","btn-outline-light","dropdown-toggle",3,"id"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"fa","fa-eye","me-2"],[1,"dropdown-divider"],[1,"dropdown-item","text-danger",3,"click"],[1,"fa","fa-trash","me-2"],["class","card-text text-light small mb-3",4,"ngIf"],["class","mb-3",4,"ngIf"],[1,"col-8"],[1,"small","text-muted","mb-2"],["class","small text-muted mb-2",4,"ngIf"],["class","small text-light",4,"ngIf"],[1,"col-4","text-end"],[1,"d-flex","flex-column","align-items-end"],["class","badge bg-info mb-2",4,"ngIf"],["class","small text-muted",4,"ngIf"],["class","small text-muted mt-1",4,"ngIf"],[1,"card-footer","bg-transparent","border-dark"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fa","fa-eye","me-1"],[1,"btn-group"],["class","btn btn-success btn-sm",3,"click",4,"ngIf"],["class","btn btn-info btn-sm",3,"click",4,"ngIf"],["class","btn btn-outline-secondary btn-sm",3,"click",4,"ngIf"],[1,"fa","fa-reply","text-primary","me-1"],[1,"badge","bg-info"],[1,"fa","fa-reply","me-1"],[1,"badge"],[1,"mt-1"],[1,"fa","fa-external-link","me-2"],[1,"fa","fa-edit","me-2"],[1,"fa","fa-globe","me-2"],[1,"fa","fa-copy","me-2"],[1,"card-text","text-light","small","mb-3"],[1,"mb-3"],[1,"d-flex","flex-wrap","gap-1"],["class","badge bg-secondary very-small d-flex align-items-center",4,"ngFor","ngForOf"],["class","badge bg-secondary very-small",4,"ngIf"],[1,"badge","bg-secondary","very-small","d-flex","align-items-center"],["class","me-1",3,"class",4,"ngIf"],[1,"me-1"],[1,"badge","bg-secondary","very-small"],[1,"fa","fa-clock-o","me-1"],[1,"small","text-light"],[1,"badge","bg-info","mb-2"],[1,"fa","fa-users","me-1"],[1,"small","text-muted"],[1,"small","text-muted","mt-1"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-edit","me-1"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"fa","fa-external-link","me-1"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"fa","fa-share","me-1"],[1,"pagination"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[1,"fa","fa-lightbulb-o","fa-3x","text-muted","mb-3"],["class","btn btn-primary","routerLink","/create-prediction",4,"ngIf"],["class","btn btn-outline-secondary",3,"click",4,"ngIf"],["routerLink","/create-prediction",1,"btn","btn-primary"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-times","me-2"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h2",4),g(6,"i",5),u(7,"My Predictions "),l(),a(8,"p",6),u(9," Manage your predictions and counter predictions "),l()(),a(10,"button",7),g(11,"i",8),u(12,"Create New Prediction "),l()()()(),a(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12),g(17,"i",13),a(18,"h4",14),u(19),l(),a(20,"p",15),u(21,"Published"),l()()()(),a(22,"div",10)(23,"div",16)(24,"div",12),g(25,"i",17),a(26,"h4",18),u(27),l(),a(28,"p",19),u(29,"Drafts"),l()()()(),a(30,"div",10)(31,"div",20)(32,"div",12),g(33,"i",21),a(34,"h4",14),u(35),l(),a(36,"p",15),u(37,"Total Responses"),l()()()(),a(38,"div",10)(39,"div",22)(40,"div",12),g(41,"i",23),a(42,"h4",14),u(43),l(),a(44,"p",15),u(45,"Active"),l()()()(),a(46,"div",10)(47,"div",24)(48,"div",12),g(49,"i",25),a(50,"h4",14),u(51),l(),a(52,"p",26),u(53,"Counter Predictions"),l()()()(),a(54,"div",10)(55,"div",27)(56,"div",12),g(57,"i",28),a(58,"h4",14),u(59),l(),a(60,"p",15),u(61,"Total Posts"),l()()()()(),a(62,"div",29)(63,"div",30)(64,"div",31)(65,"div",32)(66,"label",33),u(67,"Search"),l(),a(68,"input",34),je("ngModelChange",function(o){return We(i.searchTerm,o)||(i.searchTerm=o),o}),b("input",function(){return i.onSearchChange()}),l()(),a(69,"div",35)(70,"label",33),u(71,"Post Type"),l(),a(72,"select",36),je("ngModelChange",function(o){return We(i.selectedPostType,o)||(i.selectedPostType=o),o}),b("change",function(){return i.onFilterChange()}),a(73,"option",37),u(74,"All Posts"),l(),a(75,"option",38),u(76,"My Predictions"),l(),a(77,"option",39),u(78,"Counter Predictions"),l()()(),a(79,"div",35)(80,"label",33),u(81,"Type"),l(),a(82,"select",36),je("ngModelChange",function(o){return We(i.selectedType,o)||(i.selectedType=o),o}),b("change",function(){return i.onFilterChange()}),a(83,"option",37),u(84,"All Types"),l(),a(85,"option",40),u(86,"Ranking"),l(),a(87,"option",41),u(88,"Bracket"),l(),a(89,"option",42),u(90,"Bingo"),l()()(),a(91,"div",35)(92,"label",33),u(93,"Status"),l(),a(94,"select",36),je("ngModelChange",function(o){return We(i.selectedStatus,o)||(i.selectedStatus=o),o}),b("change",function(){return i.onFilterChange()}),a(95,"option",37),u(96,"All Status"),l(),a(97,"option",43),u(98,"Published"),l(),a(99,"option",44),u(100,"Draft"),l(),a(101,"option",45),u(102,"Active"),l(),a(103,"option",46),u(104,"Ended"),l()()(),a(105,"div",35)(106,"label",33),u(107,"Sort By"),l(),a(108,"select",36),je("ngModelChange",function(o){return We(i.sortBy,o)||(i.sortBy=o),o}),b("change",function(){return i.onFilterChange()}),a(109,"option",47),u(110,"Newest First"),l(),a(111,"option",48),u(112,"Oldest First"),l(),a(113,"option",49),u(114,"Most Responses"),l(),a(115,"option",50),u(116,"Ending Soon"),l(),a(117,"option",51),u(118,"A-Z"),l()()(),a(119,"div",52)(120,"button",53),b("click",function(){return i.clearFilters()}),g(121,"i",54),u(122,"Clear "),l()()(),y(123,WF,8,5,"div",55),l()(),y(124,QF,14,3,"div",56)(125,JF,16,13,"div",57)(126,T5,2,1,"div",58)(127,E5,20,13,"div",57)(128,I5,6,0,"div",59)(129,k5,8,4,"div",59),l()),e&2&&(c(19),k(i.publishedCount),c(8),k(i.draftCount),c(8),k(i.totalCounterPredictions),c(8),k(i.activeCount),c(8),k(i.counterPredictionsCount),c(8),k(i.totalPosts),c(9),Ue("ngModel",i.searchTerm),f("value",i.searchTerm),c(4),Ue("ngModel",i.selectedPostType),c(10),Ue("ngModel",i.selectedType),c(12),Ue("ngModel",i.selectedStatus),c(14),Ue("ngModel",i.sortBy),c(15),f("ngIf",i.hasActiveFilters()),c(),f("ngIf",!i.isLoading),c(),f("ngIf",i.pagination.totalPages>1),c(),f("ngIf",i.paginatedPosts.length>0),c(),f("ngIf",i.pagination.totalPages>1),c(),f("ngIf",i.isLoading),c(),f("ngIf",i.paginatedPosts.length===0&&!i.isLoading))},dependencies:[Y,Se,ee,rr,it,Tt,Fe,pi,fi,qe,Nn,Ee,wn],styles:[".card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease;border-radius:8px}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}.badge[_ngcontent-%COMP%]{font-size:.75rem}.very-small[_ngcontent-%COMP%]{font-size:.7rem}.form-control.bg-dark[_ngcontent-%COMP%]{background-color:#0000004d!important;border-color:#fff3;color:#fff}.form-control.bg-dark[_ngcontent-%COMP%]:focus{background-color:#0006!important;border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40;color:#fff}.form-select.bg-dark[_ngcontent-%COMP%]{background-color:#0000004d!important;border-color:#fff3;color:#fff}.form-select.bg-dark[_ngcontent-%COMP%]:focus{background-color:#0006!important;border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40;color:#fff}.form-select.bg-dark[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}.dropdown-menu[_ngcontent-%COMP%]{background-color:#343a40;border-color:#495057}.dropdown-item[_ngcontent-%COMP%]{color:#fff}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#495057;color:#fff}.dropdown-item.text-danger[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:.25rem}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{margin-left:0}.badge.bg-info[_ngcontent-%COMP%]{background-color:#0dcaf0!important;color:#000}.card.bg-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#28a745,#20c997)!important}.card.bg-warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffc107,#fd7e14)!important}.card.bg-info[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#17a2b8,#6f42c1)!important}.card.bg-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6c757d,#495057)!important}.card-header.bg-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3)!important}.card-header.bg-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#495057)!important}.form-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.5rem}.badge.bg-info.me-1[_ngcontent-%COMP%]{font-size:.7rem;padding:.25em .5em}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}pre[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;font-size:.8rem;background-color:#0003;border-radius:4px;padding:.75rem}.fixed-bottom[_ngcontent-%COMP%]{z-index:1000}.badge.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important}.badge.bg-warning[_ngcontent-%COMP%]{background-color:#ffc107!important;color:#000!important}.badge.bg-secondary[_ngcontent-%COMP%]{background-color:#6c757d!important}.badge.bg-primary[_ngcontent-%COMP%]{background-color:#007bff!important}.card-body[_ngcontent-%COMP%]{padding:1rem}.card-footer[_ngcontent-%COMP%]{padding:.75rem 1rem;background-color:transparent}.text-muted[_ngcontent-%COMP%]{opacity:.75}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;line-height:1.3}.card-text[_ngcontent-%COMP%]{line-height:1.4}.btn[_ngcontent-%COMP%]{border-radius:6px;font-weight:500;transition:all .2s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-sm[_ngcontent-%COMP%]{font-size:.8rem;padding:.375rem .75rem}.fa[_ngcontent-%COMP%]{transition:transform .2s ease}.btn[_ngcontent-%COMP%]:hover   .fa[_ngcontent-%COMP%]{transform:scale(1.1)}.badge.bg-secondary.very-small[_ngcontent-%COMP%]{font-size:.65rem;padding:.2em .4em;margin:.1rem}.card.bg-success[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%], .card.bg-warning[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%], .card.bg-info[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%], .card.bg-secondary[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{opacity:.9}@media (max-width: 768px){.card-body[_ngcontent-%COMP%]{padding:.75rem}.card-footer[_ngcontent-%COMP%]{padding:.5rem .75rem}.btn-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:0;width:100%}.badge[_ngcontent-%COMP%]{font-size:.7rem}.very-small[_ngcontent-%COMP%]{font-size:.65rem}}@media (max-width: 576px){.card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem}.btn-sm[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem}.badge[_ngcontent-%COMP%]{font-size:.65rem}}.bg-dark[_ngcontent-%COMP%]{background-color:#1a1a1a!important}.border-dark[_ngcontent-%COMP%]{border-color:#333!important}.text-light[_ngcontent-%COMP%]{color:#f8f9fa!important}.btn[_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:2px solid #007bff;outline-offset:2px}@media (prefers-contrast: high){.card[_ngcontent-%COMP%]{border-width:2px}.badge[_ngcontent-%COMP%]{border:1px solid}}@media (prefers-reduced-motion: reduce){.card[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%], .fa[_ngcontent-%COMP%]{transition:none}.card[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:hover{transform:none}}"]})};var Iu=class n{http=E(ve);baseUrl=Q.apiUrl+"post";createCounterPrediction(t){return this.http.post(`${this.baseUrl}/counter-prediction`,t)}canUserCounterPredict(t){return this.http.get(`${this.baseUrl}/can-counter-predict/${t}`)}getUserCounterPrediction(t){return this.http.get(`${this.baseUrl}/my-prediction/${t}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var M5=()=>[];function O5(n,t){if(n&1){let e=P();a(0,"div")(1,"button",11),b("click",function(){w(e);let r=h();return T(r.toggleForm())}),g(2,"i",12),u(3),l()()}if(n&2){let e=h();c(3),x(" ",e.showForm()?"Cancel":"Create Counter Prediction"," ")}}function A5(n,t){if(n&1&&(a(0,"span")(1,"strong"),u(2,"Step 2:"),l(),u(3),l()),n&2){let e=h(3);c(3),x(" Choose a team for Rank ",e.selectedSlot.rowIndex+1," ")}}function R5(n,t){n&1&&(a(0,"span")(1,"strong"),u(2,"Step 2:"),l(),u(3," Choose a team for the selected bingo cell "),l())}function N5(n,t){if(n&1){let e=P();a(0,"div",38),g(1,"i",39),y(2,A5,4,1,"span",8)(3,R5,4,0,"span",8),a(4,"button",40),b("click",function(){w(e);let r=h(2);return T(r.clearSelection())}),g(5,"i",41),u(6,"Cancel Selection "),l()()}if(n&2){let e=h(2);c(2),f("ngIf",e.selectedSlot),c(),f("ngIf",e.selectedBingoCell!==null)}}function F5(n,t){if(n&1&&(a(0,"th"),u(1),l()),n&2){let e=t.index;c(),x(" Position ",e+1," ")}}function V5(n,t){if(n&1&&g(0,"img",73),n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function L5(n,t){n&1&&(a(0,"div",74),g(1,"i",75),l())}function B5(n,t){if(n&1&&(a(0,"div",76),u(1),l()),n&2){let e=h(2).$implicit;c(),k(e.team.description)}}function U5(n,t){if(n&1){let e=P();a(0,"div",65),y(1,V5,1,1,"img",66)(2,L5,2,0,"div",67),a(3,"div",68)(4,"div",69),u(5),l(),y(6,B5,2,1,"div",70),l(),a(7,"button",71),b("click",function(r){w(e);let o=h().index,s=h().index;return h(3).removeTeamFromRanking(s,o),T(r.stopPropagation())}),g(8,"i",72),l()()}if(n&2){let e=h().$implicit,i=h(4);c(),f("ngIf",e.team.photoUrl),c(),f("ngIf",!e.team.photoUrl),c(3),k(e.team.name),c(),f("ngIf",e.team.description),c(),f("disabled",i.isSelectingTeam)}}function j5(n,t){if(n&1&&(a(0,"div",77),g(1,"i",78),a(2,"div",79),u(3),l(),a(4,"div",80),u(5),l()()),n&2){let e=h(2).index,i=h(3);c(3),x(" ",i.isSelectingTeam?"Select this position":"Click to select team"," "),c(2),x(" Rank ",e+1," ")}}function $5(n,t){n&1&&(a(0,"div",81)(1,"div",82),g(2,"i",83),u(3,"Selected "),l()())}function H5(n,t){if(n&1){let e=P();a(0,"td")(1,"div",61),b("click",function(){let r=w(e).index,o=h().index,s=h(3);return T(s.isSelectingTeam?null:s.openTeamPicker(o,r))}),y(2,U5,9,5,"div",62)(3,j5,6,2,"div",63)(4,$5,4,0,"div",64),l()()}if(n&2){let e=t.$implicit,i=t.index,r=h().index,o=h(3);c(),M("occupied",e.team)("empty",!e.team)("selected",(o.selectedSlot==null?null:o.selectedSlot.rowIndex)===r&&(o.selectedSlot==null?null:o.selectedSlot.colIndex)===i)("selecting",o.isSelectingTeam&&!e.team),c(),f("ngIf",e.team),c(),f("ngIf",!e.team),c(),f("ngIf",(o.selectedSlot==null?null:o.selectedSlot.rowIndex)===r&&(o.selectedSlot==null?null:o.selectedSlot.colIndex)===i)}}function z5(n,t){if(n&1&&(a(0,"tr")(1,"td",60),u(2),l(),y(3,H5,5,11,"td",51),l()),n&2){let e=t.$implicit;c(2),x("#",e.order,""),c(),f("ngForOf",e.columns||$e(2,M5))}}function q5(n,t){if(n&1&&(a(0,"span"),u(1),l()),n&2){let e=h(3);c(),x("Available Teams (",e.getAvailableTeams().length,")")}}function G5(n,t){if(n&1&&(a(0,"span"),u(1),l()),n&2){let e=h(3);c(),x("Choose Team for Rank ",((e.selectedSlot==null?null:e.selectedSlot.rowIndex)||0)+1,"")}}function W5(n,t){if(n&1&&g(0,"img",91),n&2){let e=h().$implicit;f("src",e.photoUrl,te)}}function Y5(n,t){n&1&&(a(0,"div",92),g(1,"i",93),l())}function Z5(n,t){if(n&1&&(a(0,"div",94),u(1),l()),n&2){let e=h().$implicit;c(),k(e.description)}}function Q5(n,t){n&1&&(a(0,"div",95),g(1,"i",96),l())}function K5(n,t){n&1&&(a(0,"div",97),g(1,"i",98),l())}function J5(n,t){if(n&1){let e=P();a(0,"div",84),b("click",function(){let r=w(e).$implicit,o=h(3);return T(o.isSelectingTeam?o.selectTeamForSlot(r):null)})("mouseenter",function(r){w(e);let o=h(3);return T(o.onTeamHover(r,!0))})("mouseleave",function(r){w(e);let o=h(3);return T(o.onTeamHover(r,!1))}),a(1,"div",3),y(2,W5,1,1,"img",85)(3,Y5,2,0,"div",86),a(4,"div",5)(5,"div",87),u(6),l(),y(7,Z5,2,1,"div",88),l(),y(8,Q5,2,0,"div",89)(9,K5,2,0,"div",90),l()()}if(n&2){let e=t.$implicit,i=h(3);M("selectable",i.isSelectingTeam)("available",!i.isSelectingTeam),c(2),f("ngIf",e.photoUrl),c(),f("ngIf",!e.photoUrl),c(3),k(e.name),c(),f("ngIf",e.description),c(),f("ngIf",i.isSelectingTeam),c(),f("ngIf",!i.isSelectingTeam)}}function X5(n,t){if(n&1&&g(0,"img",107),n&2){let e=h().$implicit;f("src",e.photoUrl,te)}}function eV(n,t){n&1&&(a(0,"div",108),g(1,"i",109),l())}function tV(n,t){if(n&1&&(a(0,"div",102)(1,"div",3),y(2,X5,1,1,"img",103)(3,eV,2,0,"div",104),a(4,"div",5)(5,"div",87),u(6),l(),a(7,"div",105),u(8),l()(),g(9,"i",106),l()()),n&2){let e=t.$implicit,i=h(4);c(2),f("ngIf",e.photoUrl),c(),f("ngIf",!e.photoUrl),c(3),k(e.name),c(2),k(i.getTeamPosition(e))}}function nV(n,t){if(n&1&&(a(0,"div",99)(1,"h6",100),u(2),l(),y(3,tV,10,4,"div",101),l()),n&2){let e=h(3);c(2),x("Assigned Teams (",e.getAssignedTeams().length,")"),c(),f("ngForOf",e.getAssignedTeams())}}function iV(n,t){n&1&&(a(0,"div",110),g(1,"i",111),a(2,"div",79),u(3,"All teams assigned!"),l()())}function rV(n,t){if(n&1){let e=P();a(0,"div",112),g(1,"i",113),a(2,"div",79),u(3,"No available teams to assign"),l(),a(4,"button",114),b("click",function(){w(e);let r=h(3);return T(r.clearSelection())}),u(5," Cancel Selection "),l()()}}function oV(n,t){if(n&1&&(a(0,"div",42)(1,"h5",43),g(2,"i",44),u(3,"Your Ranking "),a(4,"small",45),u(5),l()(),a(6,"div",46)(7,"div",47)(8,"div",48)(9,"table",49)(10,"thead")(11,"tr")(12,"th",50),u(13,"Rank"),l(),y(14,F5,2,1,"th",51),l()(),a(15,"tbody"),y(16,z5,4,3,"tr",51),l()()()(),a(17,"div",52)(18,"div",53)(19,"div",54)(20,"h6",15),y(21,q5,2,1,"span",8)(22,G5,2,1,"span",8),l()(),a(23,"div",55),y(24,J5,10,10,"div",56)(25,nV,4,2,"div",57)(26,iV,4,0,"div",58)(27,rV,6,0,"div",59),l()()()()()),n&2){let e=h(2);c(5),q(" (",e.getAssignedTeams().length," / ",e.selectedTeams.length," teams assigned) "),c(9),f("ngForOf",e.getFirstRowColumns()),c(2),f("ngForOf",e.getPostRankRows()),c(5),f("ngIf",!e.isSelectingTeam),c(),f("ngIf",e.isSelectingTeam),c(2),f("ngForOf",e.getAvailableTeams()),c(),f("ngIf",e.getAssignedTeams().length>0&&!e.isSelectingTeam),c(),f("ngIf",e.getAvailableTeams().length===0&&!e.isSelectingTeam),c(),f("ngIf",e.getAvailableTeams().length===0&&e.isSelectingTeam)}}function sV(n,t){if(n&1){let e=P();a(0,"div",42)(1,"div",115)(2,"div",116),g(3,"i",117),a(4,"h6",118),u(5,"Ranking Not Initialized"),l(),a(6,"p",119),u(7,"Let's set up your ranking table."),l(),a(8,"button",120),b("click",function(){w(e);let r=h(2);return T(r.initializeCounterPrediction())}),g(9,"i",121),u(10,"Initialize Ranking "),l()()()()}}function aV(n,t){if(n&1&&g(0,"img",133),n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function lV(n,t){n&1&&(a(0,"div",134),g(1,"i",135),l())}function cV(n,t){if(n&1){let e=P();a(0,"div",128),y(1,aV,1,1,"img",129)(2,lV,2,0,"div",130),a(3,"div",131),u(4),l(),a(5,"button",132),b("click",function(r){w(e);let o=h().index;return h(3).removeTeamFromBingo(o),T(r.stopPropagation())}),g(6,"i",72),l()()}if(n&2){let e=h().$implicit,i=h(3);c(),f("ngIf",e.team.photoUrl),c(),f("ngIf",!e.team.photoUrl),c(2),k(e.team.name),c(),f("disabled",i.isSelectingTeam)}}function dV(n,t){if(n&1&&(a(0,"div",136),g(1,"i",137),a(2,"div",79),u(3),l()()),n&2){let e=h(4);c(3),x(" ",e.isSelectingTeam?"Select this cell":"Click to add team"," ")}}function uV(n,t){n&1&&(a(0,"div",81)(1,"div",82),g(2,"i",83),u(3,"Selected "),l()())}function pV(n,t){if(n&1){let e=P();a(0,"div",125),b("click",function(){let r=w(e).index,o=h(3);return T(o.isSelectingTeam?null:o.openBingoCellPicker(r))}),y(1,cV,7,4,"div",126)(2,dV,4,1,"div",127)(3,uV,4,0,"div",64),l()}if(n&2){let e=t.$implicit,i=t.index,r=h(3);M("occupied",e.team)("empty",!e.team)("selected",r.selectedBingoCell===i)("selecting",r.isSelectingTeam&&!e.team),c(),f("ngIf",e.team),c(),f("ngIf",!e.team),c(),f("ngIf",r.selectedBingoCell===i)}}function fV(n,t){if(n&1&&(a(0,"span"),u(1),l()),n&2){let e=h(3);c(),x("Available Teams (",e.getAvailableTeams().length,")")}}function mV(n,t){n&1&&(a(0,"span"),u(1,"Choose Team for Bingo Cell"),l())}function hV(n,t){if(n&1&&g(0,"img",91),n&2){let e=h().$implicit;f("src",e.photoUrl,te)}}function gV(n,t){n&1&&(a(0,"div",92),g(1,"i",93),l())}function vV(n,t){if(n&1&&(a(0,"div",94),u(1),l()),n&2){let e=h().$implicit;c(),k(e.description)}}function _V(n,t){n&1&&(a(0,"div",95),g(1,"i",96),l())}function yV(n,t){if(n&1){let e=P();a(0,"div",84),b("click",function(){let r=w(e).$implicit,o=h(3);return T(o.isSelectingTeam?o.selectTeamForSlot(r):null)})("mouseenter",function(r){w(e);let o=h(3);return T(o.onTeamHover(r,!0))})("mouseleave",function(r){w(e);let o=h(3);return T(o.onTeamHover(r,!1))}),a(1,"div",3),y(2,hV,1,1,"img",85)(3,gV,2,0,"div",86),a(4,"div",5)(5,"div",87),u(6),l(),y(7,vV,2,1,"div",88),l(),y(8,_V,2,0,"div",89),l()()}if(n&2){let e=t.$implicit,i=h(3);M("selectable",i.isSelectingTeam)("available",!i.isSelectingTeam),c(2),f("ngIf",e.photoUrl),c(),f("ngIf",!e.photoUrl),c(3),k(e.name),c(),f("ngIf",e.description),c(),f("ngIf",i.isSelectingTeam)}}function bV(n,t){if(n&1&&g(0,"img",107),n&2){let e=h().$implicit;f("src",e.photoUrl,te)}}function CV(n,t){n&1&&(a(0,"div",108),g(1,"i",109),l())}function xV(n,t){if(n&1&&(a(0,"div",102)(1,"div",3),y(2,bV,1,1,"img",103)(3,CV,2,0,"div",104),a(4,"div",5)(5,"div",87),u(6),l(),a(7,"div",105),u(8),l()(),g(9,"i",106),l()()),n&2){let e=t.$implicit,i=h(4);c(2),f("ngIf",e.photoUrl),c(),f("ngIf",!e.photoUrl),c(3),k(e.name),c(2),k(i.getTeamPosition(e))}}function wV(n,t){if(n&1&&(a(0,"div",99)(1,"h6",100),u(2),l(),y(3,xV,10,4,"div",101),l()),n&2){let e=h(3);c(2),x("Assigned Teams (",e.getAssignedTeams().length,")"),c(),f("ngForOf",e.getAssignedTeams())}}function TV(n,t){n&1&&(a(0,"div",110),g(1,"i",111),a(2,"div",79),u(3,"All teams assigned!"),l()())}function SV(n,t){if(n&1){let e=P();a(0,"div",112),g(1,"i",113),a(2,"div",79),u(3,"No available teams to assign"),l(),a(4,"button",114),b("click",function(){w(e);let r=h(3);return T(r.clearSelection())}),u(5," Cancel Selection "),l()()}}function EV(n,t){if(n&1&&(a(0,"div",42)(1,"h5",43),g(2,"i",122),u(3,"Your Bingo Card "),a(4,"small",45),u(5),l()(),a(6,"div",46)(7,"div",47)(8,"div",123),y(9,pV,4,11,"div",124),l()(),a(10,"div",52)(11,"div",53)(12,"div",54)(13,"h6",15),y(14,fV,2,1,"span",8)(15,mV,2,0,"span",8),l()(),a(16,"div",55),y(17,yV,9,9,"div",56)(18,wV,4,2,"div",57)(19,TV,4,0,"div",58)(20,SV,6,0,"div",59),l()()()()()),n&2){let e=h(2);c(5),q(" (",e.getAssignedTeams().length," / ",e.selectedTeams.length," teams assigned) "),c(3),oe("grid-template-columns","repeat("+e.getGridSize()+", 1fr)"),c(),f("ngForOf",e.getBingoCells()),c(5),f("ngIf",!e.isSelectingTeam),c(),f("ngIf",e.isSelectingTeam),c(2),f("ngForOf",e.getAvailableTeams()),c(),f("ngIf",e.getAssignedTeams().length>0&&!e.isSelectingTeam),c(),f("ngIf",e.getAvailableTeams().length===0&&!e.isSelectingTeam),c(),f("ngIf",e.getAvailableTeams().length===0&&e.isSelectingTeam)}}function IV(n,t){n&1&&(a(0,"span"),u(1,"Auto Fill Ranking"),l())}function PV(n,t){n&1&&(a(0,"span"),u(1,"Auto Fill Bingo"),l())}function DV(n,t){n&1&&(a(0,"span"),u(1,"Auto Fill"),l())}function kV(n,t){n&1&&(a(0,"span"),u(1,"No teams assigned yet"),l())}function MV(n,t){if(n&1&&(a(0,"span"),u(1),l()),n&2){let e=h(3);c(),q(" ",e.getAssignedTeams().length," assigned, ",e.getAvailableTeams().length," remaining ")}}function OV(n,t){if(n&1&&(a(0,"span"),u(1),l()),n&2){let e=h(3);c(),x(" All ",e.getAssignedTeams().length," teams assigned ")}}function AV(n,t){n&1&&(a(0,"small",97),g(1,"i",151),u(2,"Ready to submit "),l())}function RV(n,t){if(n&1){let e=P();a(0,"div",138)(1,"div",2)(2,"h6",100),g(3,"i",139),u(4,"Quick Actions "),a(5,"small",45),u(6),l()(),a(7,"div",140)(8,"button",141),b("click",function(){w(e);let r=h(2);return T(r.autoFillPrediction())}),g(9,"i",142),y(10,IV,2,0,"span",8)(11,PV,2,0,"span",8)(12,DV,2,0,"span",8),l(),a(13,"button",143),b("click",function(){w(e);let r=h(2);return T(r.shuffleTeams())}),g(14,"i",144),u(15,"Shuffle "),l(),a(16,"button",145),b("click",function(){w(e);let r=h(2);return T(r.clearAll())}),g(17,"i",146),u(18,"Clear All "),l(),a(19,"button",147),b("click",function(){w(e);let r=h(2);return T(r.smartFillPrediction())}),g(20,"i",148),u(21,"Smart Fill "),l()(),a(22,"div",149)(23,"small",97),g(24,"i",150),y(25,kV,2,0,"span",8)(26,MV,2,2,"span",8)(27,OV,2,1,"span",8),l(),y(28,AV,3,0,"small",90),l()()()}if(n&2){let e=h(2);c(6),x("(",e.getAvailableTeams().length," teams available)"),c(2),f("disabled",e.getAvailableTeams().length===0)("title",e.getAvailableTeams().length===0?"No teams available to assign":"Automatically fill all empty positions with available teams"),c(2),f("ngIf",(e.originalPrediction==null?null:e.originalPrediction.predictionType)==="Ranking"||(e.originalPrediction==null?null:e.originalPrediction.predictionType)===0||(e.originalPrediction==null?null:e.originalPrediction.predictionType)==="0"),c(),f("ngIf",(e.originalPrediction==null?null:e.originalPrediction.predictionType)==="Bingo"||(e.originalPrediction==null?null:e.originalPrediction.predictionType)===2||(e.originalPrediction==null?null:e.originalPrediction.predictionType)==="2"),c(),f("ngIf",!e.isRecognizedPredictionType()),c(),f("disabled",e.getAvailableTeams().length===0)("title",e.getAvailableTeams().length===0?"No teams available to shuffle":"Randomly shuffle teams in positions"),c(3),f("title","Remove all team assignments"),c(3),f("disabled",e.getAvailableTeams().length===0)("title",e.getAvailableTeams().length===0?"No teams available":"Fill positions strategically based on team names or existing patterns"),c(6),f("ngIf",e.getAssignedTeams().length===0),c(),f("ngIf",e.getAssignedTeams().length>0&&e.getAvailableTeams().length>0),c(),f("ngIf",e.getAvailableTeams().length===0&&e.getAssignedTeams().length>0),c(),f("ngIf",e.isValidCounterPrediction())}}function NV(n,t){n&1&&(a(0,"div"),g(1,"i",152),u(2," Perfect! All positions filled - ready to submit your counter prediction! "),l())}function FV(n,t){if(n&1&&(a(0,"div"),g(1,"i",153),u(2),l()),n&2){let e=h(2);c(2),q(" ",e.getCompletionPercentage(),"% complete - fill all positions to submit (",e.selectedTeams.length-e.getAssignedTeams().length," remaining) ")}}function VV(n,t){n&1&&(a(0,"div"),g(1,"i",154),u(2," Start by assigning teams to create your counter prediction "),l())}function LV(n,t){n&1&&g(0,"span",155)}function BV(n,t){n&1&&g(0,"i",156)}function UV(n,t){n&1&&(a(0,"span"),u(1,"Submit Counter Prediction"),l())}function jV(n,t){if(n&1&&(a(0,"span"),u(1),l()),n&2){let e=h(2);c(),x("Complete All Positions (",e.getCompletionPercentage(),"%)")}}function $V(n,t){if(n&1){let e=P();a(0,"div",13)(1,"div",14)(2,"h4",15),g(3,"i",16),u(4,"Create Your Counter Prediction "),l()(),a(5,"div",2)(6,"form",17)(7,"div",18)(8,"label",19),u(9,"Notes (Optional)"),l(),g(10,"textarea",20),a(11,"div",21),u(12," Explain your reasoning or strategy "),l()()(),y(13,N5,7,2,"div",22)(14,oV,28,10,"div",23)(15,sV,11,0,"div",23)(16,EV,21,11,"div",23)(17,RV,29,15,"div",24),a(18,"div",1)(19,"div",25)(20,"div",26)(21,"div")(22,"h6",6),u(23,"Progress"),l(),a(24,"div",27),u(25),l()(),a(26,"div",28)(27,"div",29),u(28),l()()(),a(29,"div",30),g(30,"div",31),l()()(),a(31,"div",32),y(32,NV,3,0,"div",8)(33,FV,3,2,"div",8)(34,VV,3,0,"div",8),l(),a(35,"div",33)(36,"button",34),b("click",function(){w(e);let r=h();return T(r.toggleForm())}),u(37," Cancel "),l(),a(38,"button",35),b("click",function(){w(e);let r=h();return T(r.submitCounterPrediction())}),y(39,LV,1,0,"span",36)(40,BV,1,0,"i",37)(41,UV,2,0,"span",8)(42,jV,2,1,"span",8),l()()()()}if(n&2){let e=h();c(6),f("formGroup",e.counterPredictionForm),c(7),f("ngIf",e.isSelectingTeam),c(),f("ngIf",e.shouldShowRanking()),c(),f("ngIf",((e.originalPrediction==null?null:e.originalPrediction.predictionType)==="Ranking"||(e.originalPrediction==null?null:e.originalPrediction.predictionType)===0||(e.originalPrediction==null?null:e.originalPrediction.predictionType)==="0")&&(!e.postRank||!(e.postRank!=null&&e.postRank.rankTable))),c(),f("ngIf",((e.originalPrediction==null?null:e.originalPrediction.predictionType)==="Bingo"||(e.originalPrediction==null?null:e.originalPrediction.predictionType)===2||(e.originalPrediction==null?null:e.originalPrediction.predictionType)==="2")&&(e.postBingo==null?null:e.postBingo.bingoCells)),c(),f("ngIf",!e.isSelectingTeam),c(8),q(" ",e.getAssignedTeams().length," of ",e.selectedTeams.length," teams assigned "),c(3),x(" ",e.getCompletionPercentage(),"% "),c(2),oe("width",e.getCompletionPercentage(),"%"),c(),M("alert-success",e.getCompletionPercentage()===100)("alert-warning",e.getCompletionPercentage()>0&&e.getCompletionPercentage()<100)("alert-info",e.getCompletionPercentage()===0),c(),f("ngIf",e.getCompletionPercentage()===100),c(),f("ngIf",e.getCompletionPercentage()>0&&e.getCompletionPercentage()<100),c(),f("ngIf",e.getCompletionPercentage()===0),c(2),f("disabled",e.isSubmitting),c(2),f("disabled",e.getCompletionPercentage()!==100||e.isSubmitting),c(),f("ngIf",e.isSubmitting),c(),f("ngIf",!e.isSubmitting),c(),f("ngIf",e.getCompletionPercentage()===100),c(),f("ngIf",e.getCompletionPercentage()<100)}}function HV(n,t){n&1&&(a(0,"div",157)(1,"div",158)(2,"span",159),u(3,"Loading..."),l()(),a(4,"p",160),u(5,"Checking eligibility..."),l()())}var Pu=class n{originalPrediction=null;template=null;availableTeams=[];fb=E(mt);toastr=E(re);counterPredictionService=E(Iu);accountService=E(pe);counterPredictionForm=new Et({});selectedTeams=[];showForm=xe(!1);canCounterPredict=xe(!1);isCheckingEligibility=xe(!1);hasExistingCounterPrediction=xe(!1);postRank=null;postBingo=null;selectedSlot=null;selectedBingoCell=null;isSelectingTeam=!1;showTeamPicker=!1;isSubmitting=!1;ngOnInit(){this.initializeForm(),this.checkCounterPredictEligibility(),this.template&&this.availableTeams.length>0&&this.initializeCounterPrediction(),new URLSearchParams(window.location.search).get("action")==="counter-predict"&&setTimeout(()=>{this.showForm.set(!0),this.toastr.info("Create your counter prediction below!")},500)}initializeForm(){this.counterPredictionForm=this.fb.group({notes:["",[V.maxLength(500)]]})}checkCounterPredictEligibility(){return U(this,null,function*(){if(this.originalPrediction?.id){this.isCheckingEligibility.set(!0);try{let t=yield this.counterPredictionService.canUserCounterPredict(this.originalPrediction.id).toPromise();if(this.canCounterPredict.set(t||!1),!t)try{let e=yield this.counterPredictionService.getUserCounterPrediction(this.originalPrediction.id).toPromise();this.hasExistingCounterPrediction.set(!!e)}catch{this.hasExistingCounterPrediction.set(!1)}}catch{let e=this.accountService.currentUser();if(e&&this.originalPrediction){let i=this.originalPrediction.userId!==e.id&&!this.originalPrediction.isDraft&&this.originalPrediction.isActive&&this.availableTeams.length>0;this.canCounterPredict.set(i),this.hasExistingCounterPrediction.set(!1)}else this.canCounterPredict.set(!1)}finally{this.isCheckingEligibility.set(!1)}}})}initializeCounterPrediction(){if(!this.originalPrediction||!this.template){this.toastr.warning("Missing prediction or template data");return}this.selectedTeams=[...this.availableTeams];let t=this.originalPrediction.predictionType;t==="Ranking"||t===0||t==="0"?this.initializeCounterRanking():t==="Bingo"||t===2||t==="2"?this.initializeCounterBingo():t==="Bracket"||t===1||t==="1"?this.toastr.info("Bracket counter predictions will be available soon"):this.toastr.warning(`Unsupported prediction type: ${this.originalPrediction.predictionType}`)}initializeCounterRanking(){let t=this.template?.numberOfRows||5,e=this.template?.numberOfColumns||1;this.postRank={rankingTemplateId:this.template?.id||0,predictionId:this.originalPrediction?.id||0,rankTable:{numberOfRows:t,numberOfColumns:e,rows:[]},teams:[...this.selectedTeams],totalScore:0,isOfficialResult:!1};for(let i=0;i<t;i++){let r={order:i+1,columns:[],isWrong:!1};for(let o=0;o<e;o++){let s={team:null,officialScore:0,order:o};r.columns.push(s)}this.postRank.rankTable.rows.push(r)}}initializeCounterBingo(){let t=this.template.gridSize||5;this.postBingo={gridSize:t,bingoCells:[],teams:[...this.selectedTeams],totalScore:0,isOfficialResult:!1};for(let e=0;e<t;e++)for(let i=0;i<t;i++){let r={row:e,column:i,team:null,score:0,officialScore:0,isWrong:!1};this.postBingo.bingoCells.push(r)}}openTeamPicker(t,e){if(!this.postRank?.rankTable?.rows[t]?.columns[e]){this.toastr.warning("Invalid slot selected");return}this.selectedSlot={rowIndex:t,colIndex:e},this.selectedBingoCell=null,this.showTeamPicker=!0,this.isSelectingTeam=!0,this.toastr.info(`Select a team for Rank ${t+1}`)}openBingoCellPicker(t){if(!this.postBingo?.bingoCells[t]){this.toastr.warning("Invalid cell selected");return}this.selectedBingoCell=t,this.selectedSlot=null,this.showTeamPicker=!0,this.isSelectingTeam=!0,this.toastr.info("Select a team for this bingo square")}selectTeamForSlot(t){if(this.selectedSlot)this.assignTeamToRanking(this.selectedSlot.rowIndex,this.selectedSlot.colIndex,t);else if(this.selectedBingoCell!==null)this.assignTeamToBingo(this.selectedBingoCell,t);else{this.toastr.warning("Please select a position first");return}this.clearSelection()}assignTeamToRanking(t,e,i){if(!this.postRank?.rankTable?.rows[t]?.columns[e]){this.toastr.error("Invalid ranking position");return}let r=this.findTeamInRanking(i);if(r)if(confirm(`${i.name} is already assigned to Rank ${r.rowIndex+1}. Move it to Rank ${t+1}?`))this.removeTeamFromRanking(r.rowIndex,r.columnIndex);else return;this.postRank.rankTable.rows[t].columns[e].team=i,this.toastr.success(`${i.name} assigned to Rank ${t+1}`)}assignTeamToBingo(t,e){if(!this.postBingo?.bingoCells[t]){this.toastr.error("Invalid bingo cell");return}let i=this.findTeamInBingo(e);if(i!==-1)if(confirm(`${e.name} is already assigned to another cell. Move it to this cell?`))this.removeTeamFromBingo(i);else return;this.postBingo.bingoCells[t].team=e,this.toastr.success(`${e.name} assigned to bingo cell`)}findTeamInRanking(t){if(!this.postRank?.rankTable?.rows)return null;for(let e=0;e<this.postRank.rankTable.rows.length;e++)for(let i=0;i<this.postRank.rankTable.rows[e].columns.length;i++)if(this.postRank.rankTable.rows[e].columns[i].team?.id===t.id)return{rowIndex:e,columnIndex:i};return null}findTeamInBingo(t){return this.postBingo?.bingoCells?this.postBingo.bingoCells.findIndex(e=>e.team?.id===t.id):-1}removeTeamFromRanking(t,e){if(this.postRank?.rankTable?.rows[t]?.columns[e]){let i=this.postRank.rankTable.rows[t].columns[e].team?.name;this.postRank.rankTable.rows[t].columns[e].team=null,i&&this.toastr.info(`${i} removed from Rank ${t+1}`)}}removeTeamFromBingo(t){if(this.postBingo?.bingoCells[t]){let e=this.postBingo.bingoCells[t].team?.name;this.postBingo.bingoCells[t].team=null,e&&this.toastr.info(`${e} removed from bingo cell`)}}clearSelection(){this.selectedSlot=null,this.selectedBingoCell=null,this.showTeamPicker=!1,this.isSelectingTeam=!1}getAvailableTeams(){let t=new Set,e=this.originalPrediction?.predictionType;return(e==="Ranking"||e===0||e==="0")&&this.postRank?this.postRank.rankTable.rows.forEach(i=>{i.columns.forEach(r=>{r.team&&t.add(r.team.id)})}):(e==="Bingo"||e===2||e==="2")&&this.postBingo&&this.postBingo.bingoCells.forEach(i=>{i.team&&t.add(i.team.id)}),this.selectedTeams.filter(i=>!t.has(i.id))}getAssignedTeams(){let t=new Set,e=this.originalPrediction?.predictionType;return(e==="Ranking"||e===0||e==="0")&&this.postRank?this.postRank.rankTable.rows.forEach(i=>{i.columns.forEach(r=>{r.team&&t.add(r.team.id)})}):(e==="Bingo"||e===2||e==="2")&&this.postBingo&&this.postBingo.bingoCells.forEach(i=>{i.team&&t.add(i.team.id)}),this.selectedTeams.filter(i=>t.has(i.id))}autoFillPrediction(){let t=this.originalPrediction?.predictionType;t==="Ranking"||t===0||t==="0"?this.autoFillRanking():t==="Bingo"||t===2||t==="2"?this.autoFillBingo():this.toastr.warning("Auto-fill not supported for this prediction type")}smartFillPrediction(){let t=this.originalPrediction?.predictionType;t==="Ranking"||t===0||t==="0"?this.smartFillRanking():t==="Bingo"||t===2||t==="2"?this.smartFillBingo():this.toastr.warning("Smart fill not supported for this prediction type")}autoFillRanking(){if(!this.postRank)return;let t=this.getAvailableTeams();if(t.length===0){this.toastr.warning("No teams available to assign");return}let e=0,i=0;for(let r=0;r<this.postRank.rankTable.rows.length&&e<t.length;r++)for(let o=0;o<this.postRank.rankTable.rows[r].columns.length&&e<t.length;o++){let s=this.postRank.rankTable.rows[r].columns[o];s.team||(s.team=t[e++],i++)}this.toastr.success(`Auto-filled ${i} positions`,"Ranking Complete")}autoFillBingo(){if(!this.postBingo)return;let t=this.getAvailableTeams();if(t.length===0){this.toastr.warning("No teams available to assign");return}let e=this.postBingo.bingoCells.filter(o=>!o.team),i=Math.min(t.length,e.length);[...e].sort(()=>.5-Math.random()).slice(0,i).forEach((o,s)=>{s<t.length&&(o.team=t[s])}),this.toastr.success(`Auto-filled ${i} bingo squares`,"Bingo Complete")}smartFillRanking(){if(!this.postRank)return;let t=this.getAvailableTeams();if(t.length===0){this.toastr.warning("No teams available to assign");return}let e=[...t].sort((o,s)=>o.name.localeCompare(s.name)),i=0,r=0;for(let o=0;o<this.postRank.rankTable.rows.length&&i<e.length;o++)for(let s=0;s<this.postRank.rankTable.rows[o].columns.length&&i<e.length;s++){let d=this.postRank.rankTable.rows[o].columns[s];d.team||(d.team=e[i++],r++)}this.toastr.success(`Smart-filled ${r} positions alphabetically`,"Strategic Ranking")}smartFillBingo(){if(!this.postBingo)return;let t=this.getAvailableTeams();if(t.length===0){this.toastr.warning("No teams available to assign");return}let e=this.postBingo.bingoCells.filter(v=>!v.team),i=this.postBingo.gridSize,r=e.filter(v=>(v.row===0||v.row===i-1)&&(v.column===0||v.column===i-1)),o=e.filter(v=>!r.includes(v)&&(v.row===0||v.row===i-1||v.column===0||v.column===i-1)),s=e.filter(v=>!r.includes(v)&&!o.includes(v)),d=[...t].sort((v,_)=>v.name.localeCompare(_.name)),p=0,m=0;for(let v of r.slice(0,Math.min(d.length-p,r.length)))p<d.length&&(v.team=d[p++],m++);for(let v of o.slice(0,Math.min(d.length-p,o.length)))p<d.length&&(v.team=d[p++],m++);for(let v of s.slice(0,Math.min(d.length-p,s.length)))p<d.length&&(v.team=d[p++],m++);this.toastr.success(`Smart-filled ${m} squares strategically`,"Strategic Bingo")}clearAll(){let t=this.originalPrediction?.predictionType;t==="Ranking"||t===0||t==="0"?this.clearAllRankings():(t==="Bingo"||t===2||t==="2")&&this.clearAllBingo(),this.clearSelection()}clearAllRankings(){this.postRank&&(this.postRank.rankTable.rows.forEach(t=>{t.columns.forEach(e=>{e.team=null})}),this.toastr.info("All rankings cleared"))}clearAllBingo(){this.postBingo&&(this.postBingo.bingoCells.forEach(t=>{t.team=null}),this.toastr.info("All bingo squares cleared"))}shuffleTeams(){let t=this.getAvailableTeams();if(t.length===0)return;let e=this.originalPrediction?.predictionType;e==="Ranking"||e===0||e==="0"?this.shuffleRankingTeams(t):(e==="Bingo"||e===2||e==="2")&&this.shuffleBingoTeams(t)}shuffleRankingTeams(t){if(!this.postRank)return;let e=[...t].sort(()=>Math.random()-.5);this.clearAllRankings();let i=0;for(let r=0;r<this.postRank.rankTable.rows.length&&i<e.length;r++)for(let o=0;o<this.postRank.rankTable.rows[r].columns.length&&i<e.length;o++)this.postRank.rankTable.rows[r].columns[o].team=e[i++];this.toastr.success("Teams shuffled randomly")}shuffleBingoTeams(t){if(!this.postBingo)return;this.clearAllBingo();let e=[...t].sort(()=>Math.random()-.5),i=this.postBingo.bingoCells.filter(s=>!s.team),r=Math.min(e.length,i.length);[...i].sort(()=>Math.random()-.5).slice(0,r).forEach((s,d)=>{d<e.length&&(s.team=e[d])}),this.toastr.success("Bingo squares shuffled randomly")}isRecognizedPredictionType(){let t=this.originalPrediction?.predictionType;return t==="Ranking"||t===0||t==="0"||t==="Bingo"||t===2||t==="2"||t==="Bracket"||t===1||t==="1"}shouldShowRanking(){let t=this.originalPrediction?.predictionType,e=t==="Ranking"||t===0||t==="0",i=!!this.postRank,r=!!this.postRank?.rankTable,o=(this.postRank?.rankTable?.rows?.length||0)>0;return e&&i&&r&&o}isValidCounterPrediction(){let t=this.originalPrediction?.predictionType;if((t==="Ranking"||t===0||t==="0")&&this.postRank?.rankTable?.rows){let e=this.postRank.rankTable.numberOfRows*this.postRank.rankTable.numberOfColumns;return this.postRank.rankTable.rows.reduce((r,o)=>r+o.columns.filter(s=>s.team!==null).length,0)===e&&e>0}else if((t==="Bingo"||t===2||t==="2")&&this.postBingo?.bingoCells){let e=this.postBingo.bingoCells.length;return this.postBingo.bingoCells.filter(r=>r.team!==null).length===e&&e>0}return!1}getCompletionPercentage(){let t=this.originalPrediction?.predictionType;if((t==="Ranking"||t===0||t==="0")&&this.postRank?.rankTable?.rows){let e=this.postRank.rankTable.numberOfRows*this.postRank.rankTable.numberOfColumns,i=this.postRank.rankTable.rows.reduce((r,o)=>r+o.columns.filter(s=>s.team!==null).length,0);return e>0?Math.round(i/e*100):0}else if((t==="Bingo"||t===2||t==="2")&&this.postBingo?.bingoCells){let e=this.postBingo.bingoCells.length,i=this.postBingo.bingoCells.filter(r=>r.team!==null).length;return e>0?Math.round(i/e*100):0}return 0}submitCounterPrediction(){return U(this,null,function*(){let t=this.getCompletionPercentage();if(t<100){this.toastr.error(`Please fill all positions before submitting (${t}% complete)`);return}if(!this.isValidCounterPrediction()){this.toastr.error("Please complete your prediction before submitting");return}if(!this.counterPredictionForm.valid){this.toastr.error("Please check your form inputs");return}this.isSubmitting=!0;try{let e=this.originalPrediction.predictionType,i={notes:this.counterPredictionForm.get("notes")?.value||""};if(e==="Ranking"||e===0||e==="0"){if(!this.postRank)throw new Error("PostRank data is missing");i.postRank=this.postRank}else if(e==="Bingo"||e===2||e==="2"){if(!this.postBingo)throw new Error("PostBingo data is missing");i.postBingo=this.postBingo}else throw new Error(`Unsupported prediction type: ${e}`);if(i.postRank){let o=0;i.postRank.rankTable?.rows&&i.postRank.rankTable.rows.forEach(s=>{s.columns?.forEach(d=>{d.team&&o++})})}if(i.postBingo){let o=i.postBingo.bingoCells?.filter(s=>s.team)||[]}i.id=this.originalPrediction.id;let r=yield this.counterPredictionService.createCounterPrediction(i).toPromise();this.toastr.success("Counter prediction created successfully!"),this.showForm.set(!1),this.resetForm(),this.canCounterPredict.set(!1),this.hasExistingCounterPrediction.set(!0),window.location.reload()}catch(e){let i="Failed to create counter prediction";e?.error?.message?i=e.error.message:e?.error&&typeof e.error=="string"?i=e.error:e?.message?i=e.message:e?.status===400?i="Invalid data provided. Please check your selections.":e?.status===401?i="You are not authorized to create this counter prediction.":e?.status===500&&(i="Server error. Please try again later."),this.toastr.error(i)}finally{this.isSubmitting=!1}})}toggleForm(){this.showForm.update(t=>!t),this.showForm()||this.resetForm()}resetForm(){this.counterPredictionForm.reset(),this.clearSelection(),this.initializeCounterPrediction()}getCounterPredictionStatus(){if(this.isCheckingEligibility())return"Checking eligibility...";if(this.hasExistingCounterPrediction())return"You have already submitted a counter prediction for this post.";if(!this.canCounterPredict()){let t=this.accountService.currentUser();return this.originalPrediction?.author?.id===t?.id?"You cannot counter-predict your own prediction.":this.originalPrediction?.isDraft?"Counter predictions are not available for draft predictions.":this.originalPrediction?.isActive?"Counter prediction not available.":"This prediction is no longer active."}return"You can create a counter prediction for this post."}canShowCounterPredictButton(){return this.canCounterPredict()&&!this.isCheckingEligibility()}onTeamHover(t,e){let i=t.target;i&&(i.style.backgroundColor=e?"#495057":"transparent")}isTeamSelected(t){let e=this.originalPrediction?.predictionType;return(e==="Ranking"||e===0||e==="0")&&this.postRank?this.findTeamInRanking(t)!==null:(e==="Bingo"||e===2||e==="2")&&this.postBingo?this.findTeamInBingo(t)!==-1:!1}getTeamPosition(t){let e=this.originalPrediction?.predictionType;if((e==="Ranking"||e===0||e==="0")&&this.postRank){let i=this.findTeamInRanking(t);if(i)return`Rank ${i.rowIndex+1}`}else if((e==="Bingo"||e===2||e==="2")&&this.postBingo){let i=this.findTeamInBingo(t);if(i!==-1){let r=this.postBingo.bingoCells[i];return`Cell (${r.row+1}, ${r.column+1})`}}return""}getProgressPercentage(){return this.selectedTeams.length===0?0:Math.round(this.getAssignedTeams().length/this.selectedTeams.length*100)}getPostRankRows(){return this.postRank?.rankTable?.rows||[]}getFirstRowColumns(){let t=this.getPostRankRows();return t.length>0?t[0].columns||[]:[]}getBingoCells(){return this.postBingo?.bingoCells||[]}getGridSize(){return this.postBingo?.gridSize||5}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-counter-prediction"]],inputs:{originalPrediction:"originalPrediction",template:"template",availableTeams:"availableTeams"},decls:13,vars:4,consts:[[1,"counter-prediction-container"],[1,"card","bg-info","border-info","mb-3"],[1,"card-body"],[1,"d-flex","align-items-center"],[1,"fa","fa-info-circle","fa-2x","me-3","text-white"],[1,"flex-grow-1"],[1,"text-white","mb-1"],[1,"text-white","mb-0"],[4,"ngIf"],["class","card bg-secondary border-secondary mb-4",4,"ngIf"],["class","text-center py-3",4,"ngIf"],[1,"btn","btn-light",3,"click"],[1,"fa","fa-plus","me-2"],[1,"card","bg-secondary","border-secondary","mb-4"],[1,"card-header","bg-secondary","border-secondary"],[1,"text-light","mb-0"],[1,"fa","fa-plus-circle","me-2"],[1,"mb-4",3,"formGroup"],[1,"mb-3"],[1,"form-label","text-light"],["formControlName","notes","rows","3","placeholder","Add any notes about your counter prediction...",1,"form-control","bg-dark","text-light","border-secondary"],[1,"form-text","text-light","opacity-75"],["class","alert alert-info mb-4",4,"ngIf"],["class","mb-4",4,"ngIf"],["class","card bg-dark border-dark mb-3",4,"ngIf"],[1,"card-body","py-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-white","small"],[1,"text-end"],[1,"h4","text-white","mb-0"],[1,"progress","mt-2",2,"height","8px"],[1,"progress-bar","bg-success"],[1,"alert","mb-3"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn","btn-outline-light",3,"click","disabled"],[1,"btn","btn-success",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","fa fa-check me-2",4,"ngIf"],[1,"alert","alert-info","mb-4"],[1,"fa","fa-hand-pointer-o","me-2"],[1,"btn","btn-sm","btn-outline-primary","ms-2",3,"click"],[1,"fa","fa-times","me-1"],[1,"mb-4"],[1,"text-light","mb-3"],[1,"fa","fa-list-ol","me-2"],[1,"text-muted","ms-2"],[1,"row"],[1,"col-md-8"],[1,"table-responsive"],[1,"table","table-dark","table-striped"],["width","80"],[4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","bg-dark","border-dark"],[1,"card-header","bg-dark","border-dark"],[1,"card-body","p-2",2,"max-height","400px","overflow-y","auto"],["class","team-item p-2 mb-2 border border-secondary rounded","style","cursor: pointer; transition: all 0.2s ease;",3,"selectable","available","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["class","mt-3",4,"ngIf"],["class","text-center text-muted py-3",4,"ngIf"],["class","text-center text-warning py-3",4,"ngIf"],[1,"fw-bold"],[1,"team-slot",2,"min-height","70px","border","2px solid","border-radius","8px","padding","12px","display","flex","align-items","center","justify-content","center","cursor","pointer","transition","all 0.2s ease",3,"click"],["class","d-flex align-items-center w-100",4,"ngIf"],["class","text-center text-muted w-100",4,"ngIf"],["class","position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center","style","background: rgba(0, 123, 255, 0.2); border-radius: 8px;",4,"ngIf"],[1,"d-flex","align-items-center","w-100"],["class","rounded me-2","width","32","height","32","alt","Team",3,"src",4,"ngIf"],["class","bg-primary rounded-circle me-2 d-flex align-items-center justify-content-center","style","width: 32px; height: 32px;",4,"ngIf"],[1,"me-auto"],[1,"fw-bold","text-light"],["class","small text-muted",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"fa","fa-times"],["width","32","height","32","alt","Team",1,"rounded","me-2",3,"src"],[1,"bg-primary","rounded-circle","me-2","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px"],[1,"fa","fa-users","text-white","small"],[1,"small","text-muted"],[1,"text-center","text-muted","w-100"],[1,"fa","fa-plus-circle","fa-2x","mb-1"],[1,"small"],[1,"very-small","mt-1"],[1,"position-absolute","top-0","start-0","w-100","h-100","d-flex","align-items-center","justify-content-center",2,"background","rgba(0, 123, 255, 0.2)","border-radius","8px"],[1,"badge","bg-primary"],[1,"fa","fa-hand-pointer-o","me-1"],[1,"team-item","p-2","mb-2","border","border-secondary","rounded",2,"cursor","pointer","transition","all 0.2s ease",3,"click","mouseenter","mouseleave"],["class","rounded me-2","width","28","height","28","alt","Team",3,"src",4,"ngIf"],["class","bg-primary rounded-circle me-2 d-flex align-items-center justify-content-center","style","width: 28px; height: 28px;",4,"ngIf"],[1,"fw-bold","text-light","small"],["class","text-muted very-small",4,"ngIf"],["class","text-primary",4,"ngIf"],["class","text-muted",4,"ngIf"],["width","28","height","28","alt","Team",1,"rounded","me-2",3,"src"],[1,"bg-primary","rounded-circle","me-2","d-flex","align-items-center","justify-content-center",2,"width","28px","height","28px"],[1,"fa","fa-users","text-white",2,"font-size","12px"],[1,"text-muted","very-small"],[1,"text-primary"],[1,"fa","fa-hand-pointer-o"],[1,"text-muted"],[1,"fa","fa-mouse-pointer"],[1,"mt-3"],[1,"text-light","mb-2"],["class","team-item p-2 mb-2 border border-success rounded bg-success bg-opacity-10",4,"ngFor","ngForOf"],[1,"team-item","p-2","mb-2","border","border-success","rounded","bg-success","bg-opacity-10"],["class","rounded me-2","width","24","height","24","alt","Team",3,"src",4,"ngIf"],["class","bg-success rounded-circle me-2 d-flex align-items-center justify-content-center","style","width: 24px; height: 24px;",4,"ngIf"],[1,"text-success","very-small"],[1,"fa","fa-check","text-success"],["width","24","height","24","alt","Team",1,"rounded","me-2",3,"src"],[1,"bg-success","rounded-circle","me-2","d-flex","align-items-center","justify-content-center",2,"width","24px","height","24px"],[1,"fa","fa-users","text-white",2,"font-size","10px"],[1,"text-center","text-muted","py-3"],[1,"fa","fa-check-circle","fa-2x","mb-2"],[1,"text-center","text-warning","py-3"],[1,"fa","fa-exclamation-triangle","fa-2x","mb-2"],[1,"btn","btn-sm","btn-outline-warning","mt-2",3,"click"],[1,"card","bg-warning","border-warning"],[1,"card-body","text-center"],[1,"fa","fa-exclamation-triangle","fa-2x","mb-3","text-dark"],[1,"text-dark"],[1,"text-dark","mb-3"],[1,"btn","btn-dark",3,"click"],[1,"fa","fa-refresh","me-2"],[1,"fa","fa-th","me-2"],[1,"bingo-grid",2,"display","grid","gap","8px","max-width","500px","margin","0 auto"],["class","bingo-cell","style","aspect-ratio: 1; border: 2px solid; border-radius: 8px; padding: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s ease;",3,"occupied","empty","selected","selecting","click",4,"ngFor","ngForOf"],[1,"bingo-cell",2,"aspect-ratio","1","border","2px solid","border-radius","8px","padding","8px","display","flex","align-items","center","justify-content","center","cursor","pointer","transition","all 0.2s ease",3,"click"],["class","text-center position-relative w-100",4,"ngIf"],["class","text-center text-muted",4,"ngIf"],[1,"text-center","position-relative","w-100"],["class","rounded mb-1","width","32","height","32","alt","Team",3,"src",4,"ngIf"],["class","bg-primary rounded-circle mx-auto mb-1 d-flex align-items-center justify-content-center","style","width: 32px; height: 32px;",4,"ngIf"],[1,"small","text-light","fw-bold"],[1,"btn","btn-sm","btn-outline-danger","mt-1",3,"click","disabled"],["width","32","height","32","alt","Team",1,"rounded","mb-1",3,"src"],[1,"bg-primary","rounded-circle","mx-auto","mb-1","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px"],[1,"fa","fa-users","text-white"],[1,"text-center","text-muted"],[1,"fa","fa-plus-circle","fa-lg","mb-1"],[1,"card","bg-dark","border-dark","mb-3"],[1,"fa","fa-bolt","me-2"],[1,"d-flex","flex-wrap","gap-2"],[1,"btn","btn-primary","btn-sm",3,"click","disabled","title"],[1,"fa","fa-magic","me-1"],[1,"btn","btn-outline-success","btn-sm",3,"click","disabled","title"],[1,"fa","fa-random","me-1"],[1,"btn","btn-outline-warning","btn-sm",3,"click","title"],[1,"fa","fa-eraser","me-1"],[1,"btn","btn-outline-info","btn-sm",3,"click","disabled","title"],[1,"fa","fa-brain","me-1"],[1,"mt-2","d-flex","justify-content-between","align-items-center"],[1,"fa","fa-info-circle","me-1"],[1,"fa","fa-check","text-success","me-1"],[1,"fa","fa-check-circle","me-2"],[1,"fa","fa-exclamation-triangle","me-2"],[1,"fa","fa-info-circle","me-2"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fa","fa-check","me-2"],[1,"text-center","py-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),g(4,"i",4),a(5,"div",5)(6,"h6",6),u(7,"Counter Prediction Status"),l(),a(8,"p",7),u(9),l()(),y(10,O5,4,1,"div",8),l()()(),y(11,$V,43,26,"div",9)(12,HV,6,0,"div",10),l()),e&2&&(c(9),k(i.getCounterPredictionStatus()),c(),f("ngIf",i.canShowCounterPredictButton()),c(),f("ngIf",i.showForm()),c(),f("ngIf",i.isCheckingEligibility()))},dependencies:[Y,Se,ee,Fe,ft,qe,Ee,pt,rt,lt,kt],styles:['.counter-prediction-container[_ngcontent-%COMP%]{--primary-color: #007bff;--success-color: #28a745;--warning-color: #ffc107;--info-color: #17a2b8;--secondary-color: #6c757d;--dark-color: #343a40;--border-radius: 8px;--transition: all .2s ease}.counter-prediction-container[_ngcontent-%COMP%]   .very-small[_ngcontent-%COMP%]{font-size:.7rem;line-height:1.2}.counter-prediction-container[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25}.counter-prediction-container[_ngcontent-%COMP%]   .team-item[_ngcontent-%COMP%]{transition:var(--transition);border-radius:var(--border-radius);position:relative;overflow:hidden}.counter-prediction-container[_ngcontent-%COMP%]   .team-item.cdk-drag-dragging[_ngcontent-%COMP%]{box-shadow:0 8px 25px #007bff4d;transform:rotate(2deg);opacity:.8;z-index:1000}.counter-prediction-container[_ngcontent-%COMP%]   .team-item[_ngcontent-%COMP%]:not(.cdk-drag-dragging){cursor:grab}.counter-prediction-container[_ngcontent-%COMP%]   .team-item[_ngcontent-%COMP%]:not(.cdk-drag-dragging):active{cursor:grabbing}.counter-prediction-container[_ngcontent-%COMP%]   .drag-preview[_ngcontent-%COMP%]{transform:rotate(2deg) scale(1.05);box-shadow:0 10px 30px #0006;border-radius:var(--border-radius);max-width:200px;z-index:1000}.counter-prediction-container[_ngcontent-%COMP%]   .team-slot.cdk-drop-list-receiving[_ngcontent-%COMP%]{border-color:var(--info-color)!important;background:#17a2b826!important;transform:scale(1.02);box-shadow:0 0 0 3px #17a2b840}.counter-prediction-container[_ngcontent-%COMP%]   .bingo-cell.cdk-drop-list-receiving[_ngcontent-%COMP%]{border-color:var(--info-color)!important;background:#17a2b826!important;transform:scale(1.05);box-shadow:0 0 0 3px #17a2b840}.counter-prediction-container[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]{background:#ffffff1a;border:2px dashed var(--secondary-color);border-radius:var(--border-radius);opacity:.5;transition:transform .25s cubic-bezier(0,0,.2,1)}.counter-prediction-container[_ngcontent-%COMP%]   .cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.counter-prediction-container[_ngcontent-%COMP%]   .team-slot[_ngcontent-%COMP%]{position:relative;transition:var(--transition);border:2px solid var(--secondary-color);background:#6c757d0d;min-height:70px;border-radius:var(--border-radius);padding:12px;display:flex;align-items:center;justify-content:center;cursor:pointer}.counter-prediction-container[_ngcontent-%COMP%]   .team-slot.occupied[_ngcontent-%COMP%]{border-color:var(--success-color);background:#28a7451a;box-shadow:0 2px 4px #28a7451a}.counter-prediction-container[_ngcontent-%COMP%]   .team-slot.empty[_ngcontent-%COMP%]{border-style:dashed;border-color:var(--secondary-color);background:#6c757d0d}.counter-prediction-container[_ngcontent-%COMP%]   .team-slot.empty[_ngcontent-%COMP%]:hover{border-color:var(--info-color);background:#17a2b81a;transform:translateY(-2px);box-shadow:0 4px 8px #17a2b833}.counter-prediction-container[_ngcontent-%COMP%]   .team-slot.selected[_ngcontent-%COMP%]{border-color:var(--primary-color);background:#007bff26;box-shadow:0 0 0 3px #007bff40;transform:scale(1.02)}.counter-prediction-container[_ngcontent-%COMP%]   .bingo-cell[_ngcontent-%COMP%]{position:relative;transition:var(--transition);border:2px solid var(--secondary-color);background:#6c757d0d;aspect-ratio:1;border-radius:var(--border-radius);padding:8px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;min-height:80px}.counter-prediction-container[_ngcontent-%COMP%]   .bingo-cell.occupied[_ngcontent-%COMP%]{border-color:var(--success-color);background:#28a7451a;box-shadow:0 2px 4px #28a7451a}.counter-prediction-container[_ngcontent-%COMP%]   .bingo-cell.empty[_ngcontent-%COMP%]{border-style:dashed;border-color:var(--secondary-color);background:#6c757d0d}.counter-prediction-container[_ngcontent-%COMP%]   .bingo-cell.empty[_ngcontent-%COMP%]:hover{border-color:var(--info-color);background:#17a2b81a;transform:scale(1.02);box-shadow:0 4px 8px #17a2b833}.counter-prediction-container[_ngcontent-%COMP%]   .bingo-cell.selected[_ngcontent-%COMP%]{border-color:var(--primary-color);background:#007bff26;box-shadow:0 0 0 3px #007bff40;transform:scale(1.05)}.counter-prediction-container[_ngcontent-%COMP%]   .team-item.selectable[_ngcontent-%COMP%]{border-color:var(--primary-color)!important;cursor:grab;background:#007bff0d}.counter-prediction-container[_ngcontent-%COMP%]   .team-item.selectable[_ngcontent-%COMP%]:hover{background:#007bff26!important;transform:translateY(-1px);box-shadow:0 4px 8px #007bff33}.counter-prediction-container[_ngcontent-%COMP%]   .team-item.selectable[_ngcontent-%COMP%]:active{cursor:grabbing}.counter-prediction-container[_ngcontent-%COMP%]   .team-item.available[_ngcontent-%COMP%]{opacity:.7;cursor:grab}.counter-prediction-container[_ngcontent-%COMP%]   .team-item.available[_ngcontent-%COMP%]:hover{opacity:1;background:#6c757d1a;transform:translateY(-1px)}.counter-prediction-container[_ngcontent-%COMP%]   .fa-grip-vertical[_ngcontent-%COMP%]{color:#ffffff80;transition:var(--transition)}.counter-prediction-container[_ngcontent-%COMP%]   .team-item[_ngcontent-%COMP%]:hover   .fa-grip-vertical[_ngcontent-%COMP%]{color:#fffc}.counter-prediction-container[_ngcontent-%COMP%]   .team-slot.cdk-drop-list-receiving[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,rgba(23,162,184,.1) 25%,transparent 25%,transparent 50%,rgba(23,162,184,.1) 50%,rgba(23,162,184,.1) 75%,transparent 75%);background-size:20px 20px;border-radius:var(--border-radius);animation:_ngcontent-%COMP%_slideBackground 1s linear infinite;pointer-events:none}.counter-prediction-container[_ngcontent-%COMP%]   .bingo-cell.cdk-drop-list-receiving[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,rgba(23,162,184,.1) 25%,transparent 25%,transparent 50%,rgba(23,162,184,.1) 50%,rgba(23,162,184,.1) 75%,transparent 75%);background-size:15px 15px;border-radius:var(--border-radius);animation:_ngcontent-%COMP%_slideBackground 1s linear infinite;pointer-events:none}@keyframes _ngcontent-%COMP%_slideBackground{0%{background-position:0 0}to{background-position:20px 20px}}.counter-prediction-container[_ngcontent-%COMP%]   .position-absolute[_ngcontent-%COMP%]{pointer-events:none;z-index:10}.counter-prediction-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .75rem;border-radius:20px;font-weight:500}.counter-prediction-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:8px;border-radius:4px;background:#ffffff1a;overflow:hidden}.counter-prediction-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{transition:width .6s ease;border-radius:4px}.counter-prediction-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:var(--border-radius);font-weight:500;transition:var(--transition);position:relative;overflow:hidden}.counter-prediction-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.counter-prediction-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.counter-prediction-container[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.875rem}.counter-prediction-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 6px #0000001a;transition:var(--transition)}.counter-prediction-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #00000026}.counter-prediction-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-radius:12px 12px 0 0;border-bottom:1px solid rgba(255,255,255,.1)}.counter-prediction-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:var(--border-radius);border:none;font-weight:500}.counter-prediction-container[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--info-color),#138496);color:#fff}.counter-prediction-container[_ngcontent-%COMP%]   .alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--success-color),#1e7e34);color:#fff}.counter-prediction-container[_ngcontent-%COMP%]   .alert-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--warning-color),#e0a800);color:#212529}.counter-prediction-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:var(--border-radius);transition:var(--transition)}.counter-prediction-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #007bff40;border-color:var(--primary-color)}.counter-prediction-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{border-radius:var(--border-radius);overflow:hidden}.counter-prediction-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#0056b3);color:#fff;font-weight:600;text-align:center;border:none;padding:1rem}.counter-prediction-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#ffffff1a;vertical-align:middle;padding:.5rem}.counter-prediction-container[_ngcontent-%COMP%]   .bingo-grid[_ngcontent-%COMP%]{display:grid;gap:8px;max-width:500px;margin:0 auto;padding:1rem;background:#0000000d;border-radius:12px}.counter-prediction-container[_ngcontent-%COMP%]   .drop-success[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_dropSuccess .6s ease-in-out}@keyframes _ngcontent-%COMP%_dropSuccess{0%{transform:scale(1);box-shadow:0 0 #28a745b3}50%{transform:scale(1.05);box-shadow:0 0 0 20px #28a74500}to{transform:scale(1);box-shadow:0 0 #28a74500}}@media (max-width: 768px){.counter-prediction-container[_ngcontent-%COMP%]   .team-slot[_ngcontent-%COMP%]{min-height:60px;padding:8px}.counter-prediction-container[_ngcontent-%COMP%]   .bingo-cell[_ngcontent-%COMP%]{min-height:60px;padding:4px}.counter-prediction-container[_ngcontent-%COMP%]   .bingo-grid[_ngcontent-%COMP%]{max-width:300px;gap:4px}.counter-prediction-container[_ngcontent-%COMP%]   .team-item[_ngcontent-%COMP%]{padding:.5rem}.counter-prediction-container[_ngcontent-%COMP%]   .very-small[_ngcontent-%COMP%]{font-size:.6rem}}.counter-prediction-container[_ngcontent-%COMP%]   .team-slot[_ngcontent-%COMP%]:focus, .counter-prediction-container[_ngcontent-%COMP%]   .bingo-cell[_ngcontent-%COMP%]:focus, .counter-prediction-container[_ngcontent-%COMP%]   .team-item[_ngcontent-%COMP%]:focus{outline:2px solid var(--primary-color);outline-offset:2px}@media (prefers-reduced-motion: reduce){.counter-prediction-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:none!important;animation:none!important}}']})};var i0=()=>[];function zV(n,t){if(n&1&&g(0,"app-counter-prediction",34),n&2){let e=h(2);f("originalPrediction",e.predictionDetail)("template",e.getTemplateData())("availableTeams",e.getAvailableTeams())}}function qV(n,t){if(n&1&&(a(0,"div",35)(1,"div",36),g(2,"i",37),a(3,"h5",38),u(4,"Counter Prediction Not Available"),l(),a(5,"p",39),u(6),l()()()),n&2){let e=h(2);c(6),k(e.getCounterPredictionUnavailableReason())}}function GV(n,t){if(n&1&&(a(0,"th"),u(1),l()),n&2){let e=t.index;c(),x(" Position ",e+1," ")}}function WV(n,t){if(n&1){let e=P();a(0,"img",56),b("error",function(r){w(e);let o=h(6);return T(o.onImageError(r))}),l()}if(n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function YV(n,t){n&1&&(a(0,"div",57),g(1,"i",58),l())}function ZV(n,t){if(n&1&&(a(0,"div",59),u(1),l()),n&2){let e=h(2).$implicit;c(),x(" ",e.team.description," ")}}function QV(n,t){if(n&1&&(a(0,"div",51),y(1,WV,1,1,"img",52)(2,YV,2,0,"div",53),a(3,"div")(4,"div",54),u(5),l(),y(6,ZV,2,1,"div",55),l()()),n&2){let e=h().$implicit;c(),f("ngIf",e.team.photoUrl&&e.team.photoUrl.trim()),c(),f("ngIf",!e.team.photoUrl||!e.team.photoUrl.trim()),c(3),k(e.team.name),c(),f("ngIf",e.team.description&&e.team.description.trim())}}function KV(n,t){n&1&&(a(0,"div",60),g(1,"i",61),u(2," Empty Position "),l())}function JV(n,t){if(n&1&&(a(0,"td"),y(1,QV,7,4,"div",49)(2,KV,3,0,"div",50),l()),n&2){let e=t.$implicit;c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function XV(n,t){if(n&1&&(a(0,"tr")(1,"td",48),u(2),l(),y(3,JV,3,2,"td",47),l()),n&2){let e=t.$implicit;c(2),x("#",e.order,""),c(),f("ngForOf",e.columns||$e(2,i0))}}function eL(n,t){if(n&1&&(a(0,"div",40)(1,"div",41)(2,"h4",25),g(3,"i",42),u(4,"Ranking Prediction "),l(),a(5,"div",43),u(6),l()(),a(7,"div",26)(8,"div",44)(9,"table",45)(10,"thead")(11,"tr")(12,"th",46),u(13,"Rank"),l(),y(14,GV,2,1,"th",47),l()(),a(15,"tbody"),y(16,XV,4,3,"tr",47),l()()()()()),n&2){let e,i=h(2);c(6),x(" Created: ",i.formatDate((e=i.getOriginalRankingData())==null?null:e.createdAt)," "),c(8),f("ngForOf",i.getFirstRowColumns()),c(2),f("ngForOf",i.getOriginalRankingRows())}}function tL(n,t){if(n&1){let e=P();a(0,"img",71),b("error",function(r){w(e);let o=h(5);return T(o.onImageError(r))}),l()}if(n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function nL(n,t){n&1&&(a(0,"div",72),g(1,"i",73),l())}function iL(n,t){if(n&1&&(a(0,"div"),y(1,tL,1,1,"img",68)(2,nL,2,0,"div",69),a(3,"div",70),u(4),l()()),n&2){let e=h().$implicit;c(),f("ngIf",e.team.photoUrl&&e.team.photoUrl.trim()),c(),f("ngIf",!e.team.photoUrl||!e.team.photoUrl.trim()),c(2),k(e.team.name)}}function rL(n,t){n&1&&(a(0,"div",74),g(1,"i",75),a(2,"div",76),u(3,"Empty"),l()())}function oL(n,t){if(n&1&&(a(0,"div",65),y(1,iL,5,3,"div",66)(2,rL,4,0,"div",67),l()),n&2){let e=t.$implicit;M("has-team",e.team)("empty-cell",!e.team),c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function sL(n,t){if(n&1&&(a(0,"div",40)(1,"div",41)(2,"h4",25),g(3,"i",62),u(4,"Bingo Prediction "),l(),a(5,"div",43),u(6),l()(),a(7,"div",26)(8,"div",63),y(9,oL,3,6,"div",64),l()()()),n&2){let e,i,r=h(2);c(6),jr(" Grid Size: ",(e=r.getOriginalBingoData())==null?null:e.gridSize,"x",(e=r.getOriginalBingoData())==null?null:e.gridSize," | Created: ",r.formatDate((e=r.getOriginalBingoData())==null?null:e.createdAt)," "),c(2),oe("grid-template-columns","repeat("+((i=r.getOriginalBingoData())==null?null:i.gridSize)+", 1fr)")("gap","8px")("display","grid"),c(),f("ngForOf",r.getOriginalBingoCells())}}function aL(n,t){if(n&1&&(a(0,"div",77)(1,"div",36),g(2,"i",78),a(3,"h5",79),u(4,"No Original Post Data Found"),l(),a(5,"p",80),u(6),l()()()),n&2){let e=h(2);c(6),x(" This ",e.getPredictionTypeDisplayName().toLowerCase()," prediction doesn't have any original post data yet. ")}}function lL(n,t){if(n&1&&g(0,"img",102),n&2){let e=h().$implicit;f("src",e.author.photoUrl,te)}}function cL(n,t){n&1&&(a(0,"div",103),g(1,"i",104),l())}function dL(n,t){n&1&&(a(0,"span"),u(1,"Official Result"),l())}function uL(n,t){if(n&1&&(a(0,"span"),u(1),l()),n&2){let e=h().index;c(),x("Official Result #",e+1,"")}}function pL(n,t){if(n&1&&(a(0,"th",105),u(1),l()),n&2){let e=t.index;c(),x(" Pos ",e+1," ")}}function fL(n,t){if(n&1){let e=P();a(0,"img",113),b("error",function(r){w(e);let o=h(7);return T(o.onImageError(r))}),l()}if(n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function mL(n,t){n&1&&(a(0,"div",114),g(1,"i",73),l())}function hL(n,t){if(n&1&&(a(0,"div",115),u(1),et(2,"slice"),l()),n&2){let e=h(2).$implicit;c(),q(" ",gn(2,2,e.team.description,0,30),"",e.team.description.length>30?"...":""," ")}}function gL(n,t){if(n&1&&(a(0,"div",108),y(1,fL,1,1,"img",109)(2,mL,2,0,"div",110),a(3,"div")(4,"div",111),u(5),l(),y(6,hL,3,6,"div",112),l()()),n&2){let e=h().$implicit;c(),f("ngIf",e.team.photoUrl&&e.team.photoUrl.trim()),c(),f("ngIf",!e.team.photoUrl||!e.team.photoUrl.trim()),c(3),x(" ",e.team.name," "),c(),f("ngIf",e.team.description&&e.team.description.trim())}}function vL(n,t){n&1&&(a(0,"div",116),g(1,"i",117),l())}function _L(n,t){if(n&1&&(a(0,"td"),y(1,gL,7,4,"div",106)(2,vL,2,0,"div",107),l()),n&2){let e=t.$implicit;c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function yL(n,t){if(n&1&&(a(0,"tr")(1,"td",48),u(2),l(),y(3,_L,3,2,"td",47),l()),n&2){let e=t.$implicit;c(2),x(" #",e.order," "),c(),f("ngForOf",e.columns||$e(2,i0))}}function bL(n,t){if(n&1&&(a(0,"div",84)(1,"div",85)(2,"div",5)(3,"div",86),y(4,lL,1,1,"img",87)(5,cL,2,0,"div",88),a(6,"div")(7,"h6",89),u(8),a(9,"span",90),g(10,"i",91),y(11,dL,2,0,"span",66)(12,uL,2,1,"span",66),l()(),a(13,"small",92),u(14),l()()(),a(15,"div",93)(16,"span",94),g(17,"i",95),u(18,"OFFICIAL "),l()()()(),a(19,"div",26)(20,"div",44)(21,"table",96)(22,"thead")(23,"tr")(24,"th",97),u(25,"Rank"),l(),y(26,pL,2,1,"th",98),l()(),a(27,"tbody"),y(28,yL,4,3,"tr",47),l()()(),a(29,"div",99)(30,"div",100)(31,"small",92),u(32),l()(),a(33,"div",101)(34,"small",92),u(35),l()()()()()),n&2){let e=t.$implicit,i=t.index,r=h(3);M("bg-warning",!0)("border-warning",!0),c(4),f("ngIf",e.author==null?null:e.author.photoUrl),c(),f("ngIf",!(e.author!=null&&e.author.photoUrl)),c(3),x(" ",(e.author==null?null:e.author.displayName)||"Anonymous"," "),c(3),f("ngIf",i===0),c(),f("ngIf",i>0),c(2),x(" ",r.formatDate(e.createdAt)," "),c(12),f("ngForOf",r.getCounterRankingFirstRowColumns(e)),c(2),f("ngForOf",r.getCounterRankingRows(e)),c(4),x(" Teams Assigned: ",r.getCounterRankingAssignedCount(e)," "),c(3),x(" Completion: ",r.getCounterRankingCompletionPercentage(e),"% ")}}function CL(n,t){if(n&1&&g(0,"img",102),n&2){let e=h().$implicit;f("src",e.author.photoUrl,te)}}function xL(n,t){n&1&&(a(0,"div",103),g(1,"i",104),l())}function wL(n,t){n&1&&(a(0,"span"),u(1,"Official Result"),l())}function TL(n,t){if(n&1&&(a(0,"span"),u(1),l()),n&2){let e=h().index;c(),x("Official Result #",e+1,"")}}function SL(n,t){if(n&1){let e=P();a(0,"img",125),b("error",function(r){w(e);let o=h(6);return T(o.onImageError(r))}),l()}if(n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function EL(n,t){n&1&&(a(0,"div",126),g(1,"i",127),l())}function IL(n,t){if(n&1&&(a(0,"div"),y(1,SL,1,1,"img",122)(2,EL,2,0,"div",123),a(3,"div",124),u(4),et(5,"slice"),l()()),n&2){let e=h().$implicit;c(),f("ngIf",e.team.photoUrl&&e.team.photoUrl.trim()),c(),f("ngIf",!e.team.photoUrl||!e.team.photoUrl.trim()),c(2),q("",gn(5,4,e.team.name,0,8),"",e.team.name.length>8?"...":"","")}}function PL(n,t){n&1&&(a(0,"div",128),g(1,"i",129),l())}function DL(n,t){if(n&1&&(a(0,"div",120),y(1,IL,6,8,"div",66)(2,PL,2,0,"div",121),l()),n&2){let e=t.$implicit;M("has-team",e.team)("empty-cell",!e.team),c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function kL(n,t){if(n&1&&(a(0,"div",118)(1,"div",85)(2,"div",5)(3,"div",86),y(4,CL,1,1,"img",87)(5,xL,2,0,"div",88),a(6,"div")(7,"h6",89),u(8),a(9,"span",90),g(10,"i",91),y(11,wL,2,0,"span",66)(12,TL,2,1,"span",66),l()(),a(13,"small",92),u(14),l()()(),a(15,"div",93)(16,"span",94),g(17,"i",95),u(18,"OFFICIAL "),l()()()(),a(19,"div",26)(20,"div",63),y(21,DL,3,6,"div",119),l(),a(22,"div",99)(23,"div",100)(24,"small",92),u(25),l()(),a(26,"div",101)(27,"small",92),u(28),l()()()()()),n&2){let e=t.$implicit,i=t.index,r=h(3);c(4),f("ngIf",e.author==null?null:e.author.photoUrl),c(),f("ngIf",!(e.author!=null&&e.author.photoUrl)),c(3),x(" ",(e.author==null?null:e.author.displayName)||"Anonymous"," "),c(3),f("ngIf",i===0),c(),f("ngIf",i>0),c(2),x(" ",r.formatDate(e.createdAt)," "),c(6),oe("grid-template-columns","repeat("+r.getCounterBingoGridSize(e)+", 1fr)")("gap","4px")("display","grid")("max-width","300px")("margin","0 auto"),c(),f("ngForOf",r.getCounterBingoCells(e)),c(4),x("Teams Assigned: ",r.getCounterBingoAssignedCount(e),""),c(3),x("Completion: ",r.getCounterBingoCompletionPercentage(e),"%")}}function ML(n,t){if(n&1&&(a(0,"div",11)(1,"h3",16),g(2,"i",81),u(3,"Official Results "),a(4,"small",18),u(5),l()(),y(6,bL,36,14,"div",82)(7,kL,29,19,"div",83),l()),n&2){let e=h(2);c(5),x("(",e.getOfficialResults().length," submissions)"),c(),f("ngForOf",e.getOfficialRankingResults()),c(),f("ngForOf",e.getOfficialBingoResults())}}function OL(n,t){if(n&1){let e=P();a(0,"li",145)(1,"button",150),b("click",function(){let r=w(e).$implicit,o=h(4);return T(o.goToCounterPredictionPage(r))}),u(2),l()()}if(n&2){let e=t.$implicit,i=h(4);M("active",e===i.counterPredictionsCurrentPage),c(),M("bg-primary",e===i.counterPredictionsCurrentPage)("bg-dark",e!==i.counterPredictionsCurrentPage)("text-white",!0)("border-secondary",e!==i.counterPredictionsCurrentPage)("border-primary",e===i.counterPredictionsCurrentPage),c(),x(" ",e," ")}}function AL(n,t){if(n&1){let e=P();a(0,"div",130)(1,"div",142),u(2),l(),a(3,"nav",143)(4,"ul",144)(5,"li",145)(6,"button",146),b("click",function(){w(e);let r=h(3);return T(r.goToCounterPredictionPage(r.counterPredictionsCurrentPage-1))}),g(7,"i",147),l()(),y(8,OL,3,13,"li",148),a(9,"li",145)(10,"button",146),b("click",function(){w(e);let r=h(3);return T(r.goToCounterPredictionPage(r.counterPredictionsCurrentPage+1))}),g(11,"i",149),l()()()()()}if(n&2){let e=h(3);c(2),q(" Showing ",e.getCounterPredictionDisplayRange()," of ",e.getAllCounterPredictions().length," responses "),c(3),M("disabled",e.counterPredictionsCurrentPage<=1),c(),f("disabled",e.counterPredictionsCurrentPage<=1),c(2),f("ngForOf",e.getCounterPredictionVisiblePages()),c(),M("disabled",e.counterPredictionsCurrentPage>=e.getCounterPredictionTotalPages()),c(),f("disabled",e.counterPredictionsCurrentPage>=e.getCounterPredictionTotalPages())}}function RL(n,t){if(n&1&&g(0,"img",102),n&2){let e=h().$implicit;f("src",e.author.photoUrl,te)}}function NL(n,t){n&1&&(a(0,"div",163),g(1,"i",164),l())}function FL(n,t){if(n&1&&(a(0,"div",165)(1,"span",166),g(2,"i",167),u(3),l()()),n&2){let e=h().$implicit,i=h(4);c(),De(i.getAccuracyBadgeClass(i.getAccuracy(e))),c(2),x(" ",i.getAccuracy(e),"% Accuracy ")}}function VL(n,t){if(n&1&&(a(0,"div",168)(1,"div",169)(2,"div",160)(3,"div",170),g(4,"i",171),u(5),l()(),a(6,"div",160)(7,"div",172),g(8,"i",173),u(9),l()(),a(10,"div",160)(11,"div",174),g(12,"i",175),u(13),l()()()()),n&2){let e=h().$implicit,i=h(4);c(5),x(" ",i.compareWithOfficialResults(e).totalMatches," Correct "),c(4),x(" ",i.compareWithOfficialResults(e).mismatches.length," Wrong "),c(4),x(" ",i.getAccuracyDescription(i.getAccuracy(e))," ")}}function LL(n,t){if(n&1&&(a(0,"th"),u(1),l()),n&2){let e=t.index;c(),x(" Pos ",e+1," ")}}function BL(n,t){n&1&&g(0,"i",189)}function UL(n,t){n&1&&g(0,"i",190)}function jL(n,t){if(n&1&&(a(0,"div",186),y(1,BL,1,0,"i",187)(2,UL,1,0,"i",188),l()),n&2){let e=h(2).index,i=h().index,r=h().$implicit,o=h(4);c(),f("ngIf",o.isPositionMatch(r,i,e)),c(),f("ngIf",o.isPositionMismatch(r,i,e))}}function $L(n,t){if(n&1){let e=P();a(0,"img",113),b("error",function(r){w(e);let o=h(8);return T(o.onImageError(r))}),l()}if(n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function HL(n,t){n&1&&(a(0,"div",191),g(1,"i",192),l())}function zL(n,t){if(n&1&&(a(0,"div",193),u(1),et(2,"slice"),l()),n&2){let e=h(2).$implicit;c(),q(" ",gn(2,2,e.team.description,0,30),"",e.team.description.length>30?"...":""," ")}}function qL(n,t){if(n&1&&(a(0,"div",181),y(1,jL,3,2,"div",182)(2,$L,1,1,"img",109)(3,HL,2,0,"div",183),a(4,"div")(5,"div",184),u(6),l(),y(7,zL,3,6,"div",185),l()()),n&2){let e=h().$implicit,i=h(6);c(),f("ngIf",i.getOfficialResults().length>0),c(),f("ngIf",e.team.photoUrl&&e.team.photoUrl.trim()),c(),f("ngIf",!e.team.photoUrl||!e.team.photoUrl.trim()),c(3),x(" ",e.team.name," "),c(),f("ngIf",e.team.description&&e.team.description.trim())}}function GL(n,t){n&1&&(a(0,"div",194),g(1,"i",117),l())}function WL(n,t){if(n&1&&(a(0,"td",178),y(1,qL,8,5,"div",179)(2,GL,2,0,"div",180),l()),n&2){let e=t.$implicit,i=t.index,r=h().index,o=h().$implicit,s=h(4);De(s.getPositionComparisonClass(o,r,i)),f("title",s.getComparisonTooltip(o,r,i)),c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function YL(n,t){if(n&1&&(a(0,"tr")(1,"td",176),u(2),l(),y(3,WL,3,5,"td",177),l()),n&2){let e=t.$implicit;c(2),x(" #",e.order," "),c(),f("ngForOf",e.columns||$e(2,i0))}}function ZL(n,t){if(n&1&&(a(0,"div",195)(1,"small",196),g(2,"i",197),u(3),l()()),n&2){let e=h().$implicit,i=h(4);c(3),x("",i.getAccuracy(e),"% Match ")}}function QL(n,t){if(n&1&&(a(0,"div",152)(1,"div",153)(2,"div",5)(3,"div",86),y(4,RL,1,1,"img",87)(5,NL,2,0,"div",154),a(6,"div")(7,"h6",25),u(8),l(),a(9,"small",74),u(10),l()()(),a(11,"div",93)(12,"span",155),u(13),l(),y(14,FL,4,3,"div",156),l()(),y(15,VL,14,3,"div",157),l(),a(16,"div",26)(17,"div",44)(18,"table",158)(19,"thead")(20,"tr")(21,"th",159),u(22,"Rank"),l(),y(23,LL,2,1,"th",47),l()(),a(24,"tbody"),y(25,YL,4,3,"tr",47),l()()(),a(26,"div",99)(27,"div",160)(28,"small",74),u(29),l()(),y(30,ZL,4,1,"div",161),a(31,"div",162)(32,"small",74),u(33),l()()()()()),n&2){let e=t.$implicit,i=t.index,r=h(4);c(4),f("ngIf",e.author==null?null:e.author.photoUrl),c(),f("ngIf",!(e.author!=null&&e.author.photoUrl)),c(3),k((e.author==null?null:e.author.displayName)||"Anonymous"),c(2),k(r.formatDate(e.createdAt)),c(3),x(" Counter #",r.getCounterPredictionGlobalIndex(i)," "),c(),f("ngIf",r.getOfficialResults().length>0),c(),f("ngIf",r.getOfficialResults().length>0),c(8),f("ngForOf",r.getCounterRankingFirstRowColumns(e)),c(2),f("ngForOf",r.getCounterRankingRows(e)),c(4),q(" Teams: ",r.getCounterRankingAssignedCount(e),"/",r.getCounterRankingTotalSlots(e)," "),c(),f("ngIf",r.getOfficialResults().length>0),c(3),x(" Complete: ",r.getCounterRankingCompletionPercentage(e),"% ")}}function KL(n,t){if(n&1&&(a(0,"div"),y(1,QL,34,13,"div",151),l()),n&2){let e=h(3);c(),f("ngForOf",e.getPaginatedCounterRankings())}}function JL(n,t){if(n&1&&g(0,"img",102),n&2){let e=h().$implicit;f("src",e.author.photoUrl,te)}}function XL(n,t){n&1&&(a(0,"div",163),g(1,"i",164),l())}function e6(n,t){if(n&1&&(a(0,"div",165)(1,"span",166),g(2,"i",167),u(3),l()()),n&2){let e=h().$implicit,i=h(4);c(),De(i.getAccuracyBadgeClass(i.getAccuracy(e))),c(2),x(" ",i.getAccuracy(e),"% Accuracy ")}}function t6(n,t){if(n&1&&(a(0,"div",168)(1,"div",169)(2,"div",160)(3,"div",170),g(4,"i",171),u(5),l()(),a(6,"div",160)(7,"div",172),g(8,"i",173),u(9),l()(),a(10,"div",160)(11,"div",174),g(12,"i",202),u(13),l()()()()),n&2){let e=h().$implicit,i=h(4);c(5),x(" ",i.compareWithOfficialResults(e).totalMatches," Matches "),c(4),x(" ",i.compareWithOfficialResults(e).mismatches.length," Misses "),c(4),x(" ",i.getAccuracyDescription(i.getAccuracy(e))," ")}}function n6(n,t){n&1&&g(0,"i",209)}function i6(n,t){n&1&&g(0,"i",210)}function r6(n,t){if(n&1&&(a(0,"div",206),y(1,n6,1,0,"i",207)(2,i6,1,0,"i",208),l()),n&2){let e=h().$implicit,i=h().$implicit,r=h(4);c(),f("ngIf",r.isPositionMatch(i,e.row,e.column)),c(),f("ngIf",r.isPositionMismatch(i,e.row,e.column))}}function o6(n,t){if(n&1){let e=P();a(0,"img",125),b("error",function(r){w(e);let o=h(7);return T(o.onImageError(r))}),l()}if(n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function s6(n,t){n&1&&(a(0,"div",213),g(1,"i",214),l())}function a6(n,t){if(n&1&&(a(0,"div"),y(1,o6,1,1,"img",122)(2,s6,2,0,"div",211),a(3,"div",212),u(4),et(5,"slice"),l()()),n&2){let e=h().$implicit;c(),f("ngIf",e.team.photoUrl&&e.team.photoUrl.trim()),c(),f("ngIf",!e.team.photoUrl||!e.team.photoUrl.trim()),c(2),q("",gn(5,4,e.team.name,0,8),"",e.team.name.length>8?"...":"","")}}function l6(n,t){n&1&&(a(0,"div",215),g(1,"i",129),l())}function c6(n,t){if(n&1&&(a(0,"div",203),y(1,r6,3,2,"div",204)(2,a6,6,8,"div",66)(3,l6,2,0,"div",205),l()),n&2){let e=t.$implicit,i=h().$implicit,r=h(4);De(r.getPositionComparisonClass(i,e.row,e.column)),M("has-team",e.team)("empty-cell",!e.team),f("title",r.getComparisonTooltip(i,e.row,e.column)),c(),f("ngIf",r.getOfficialResults().length>0&&e.team),c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function d6(n,t){if(n&1&&(a(0,"div",195)(1,"small",196),g(2,"i",197),u(3),l()()),n&2){let e=h().$implicit,i=h(4);c(3),x("",i.getAccuracy(e),"% Match ")}}function u6(n,t){if(n&1&&(a(0,"div",199)(1,"div",153)(2,"div",5)(3,"div",86),y(4,JL,1,1,"img",87)(5,XL,2,0,"div",154),a(6,"div")(7,"h6",25),u(8),l(),a(9,"small",74),u(10),l()()(),a(11,"div",93)(12,"span",155),u(13),l(),y(14,e6,4,3,"div",156),a(15,"div",200),u(16),l()()(),y(17,t6,14,3,"div",157),l(),a(18,"div",26)(19,"div",63),y(20,c6,4,10,"div",201),l(),a(21,"div",99)(22,"div",160)(23,"small",74),u(24),l()(),y(25,d6,4,1,"div",161),a(26,"div",162)(27,"small",74),u(28),l()()()()()),n&2){let e=t.$implicit,i=t.index,r=h(4);c(4),f("ngIf",e.author==null?null:e.author.photoUrl),c(),f("ngIf",!(e.author!=null&&e.author.photoUrl)),c(3),k((e.author==null?null:e.author.displayName)||"Anonymous"),c(2),k(r.formatDate(e.createdAt)),c(3),x(" Counter Bingo #",r.getCounterPredictionGlobalIndex(i)," "),c(),f("ngIf",r.getOfficialResults().length>0),c(2),x("Score: ",e.totalScore||0,""),c(),f("ngIf",r.getOfficialResults().length>0),c(2),oe("grid-template-columns","repeat("+r.getCounterBingoGridSize(e)+", 1fr)")("gap","4px")("display","grid")("max-width","300px")("margin","0 auto"),c(),f("ngForOf",r.getCounterBingoCells(e)),c(4),q("Teams: ",r.getCounterBingoAssignedCount(e),"/",r.getCounterBingoTotalCells(e),""),c(),f("ngIf",r.getOfficialResults().length>0),c(3),x("Complete: ",r.getCounterBingoCompletionPercentage(e),"%")}}function p6(n,t){if(n&1&&(a(0,"div"),y(1,u6,29,23,"div",198),l()),n&2){let e=h(3);c(),f("ngForOf",e.getPaginatedCounterBingos())}}function f6(n,t){if(n&1){let e=P();a(0,"li",145)(1,"button",150),b("click",function(){let r=w(e).$implicit,o=h(4);return T(o.goToCounterPredictionPage(r))}),u(2),l()()}if(n&2){let e=t.$implicit,i=h(4);M("active",e===i.counterPredictionsCurrentPage),c(),M("bg-primary",e===i.counterPredictionsCurrentPage)("bg-dark",e!==i.counterPredictionsCurrentPage)("text-white",!0)("border-secondary",e!==i.counterPredictionsCurrentPage)("border-primary",e===i.counterPredictionsCurrentPage),c(),x(" ",e," ")}}function m6(n,t){if(n&1){let e=P();a(0,"div",216)(1,"nav",143)(2,"ul",217)(3,"li",145)(4,"button",146),b("click",function(){w(e);let r=h(3);return T(r.goToCounterPredictionPage(1))}),g(5,"i",218),u(6," First "),l()(),a(7,"li",145)(8,"button",146),b("click",function(){w(e);let r=h(3);return T(r.goToCounterPredictionPage(r.counterPredictionsCurrentPage-1))}),g(9,"i",147),u(10," Previous "),l()(),y(11,f6,3,13,"li",148),a(12,"li",145)(13,"button",146),b("click",function(){w(e);let r=h(3);return T(r.goToCounterPredictionPage(r.counterPredictionsCurrentPage+1))}),u(14," Next "),g(15,"i",149),l()(),a(16,"li",145)(17,"button",146),b("click",function(){w(e);let r=h(3);return T(r.goToCounterPredictionPage(r.getCounterPredictionTotalPages()))}),u(18," Last "),g(19,"i",219),l()()()()()}if(n&2){let e=h(3);c(3),M("disabled",e.counterPredictionsCurrentPage<=1),c(),f("disabled",e.counterPredictionsCurrentPage<=1),c(3),M("disabled",e.counterPredictionsCurrentPage<=1),c(),f("disabled",e.counterPredictionsCurrentPage<=1),c(3),f("ngForOf",e.getCounterPredictionVisiblePages()),c(),M("disabled",e.counterPredictionsCurrentPage>=e.getCounterPredictionTotalPages()),c(),f("disabled",e.counterPredictionsCurrentPage>=e.getCounterPredictionTotalPages()),c(3),M("disabled",e.counterPredictionsCurrentPage>=e.getCounterPredictionTotalPages()),c(),f("disabled",e.counterPredictionsCurrentPage>=e.getCounterPredictionTotalPages())}}function h6(n,t){if(n&1){let e=P();a(0,"div",11)(1,"div",130)(2,"h3",131),g(3,"i",132),u(4," Counter Predictions "),a(5,"small",18),u(6),l()(),a(7,"div",133)(8,"label",134),u(9,"Show:"),l(),a(10,"select",135),je("ngModelChange",function(r){w(e);let o=h(2);return We(o.counterPredictionsPerPage,r)||(o.counterPredictionsPerPage=r),T(r)}),b("change",function(){w(e);let r=h(2);return T(r.onCounterPredictionsPageSizeChange())}),a(11,"option",136),u(12,"5 per page"),l(),a(13,"option",137),u(14,"10 per page"),l(),a(15,"option",138),u(16,"20 per page"),l(),a(17,"option",139),u(18,"Show All"),l()()()(),y(19,AL,12,9,"div",140)(20,KL,2,1,"div",66)(21,p6,2,1,"div",66)(22,m6,20,13,"div",141),l()}if(n&2){let e=h(2);c(6),x("(",e.getAllCounterPredictions().length," responses)"),c(4),Ue("ngModel",e.counterPredictionsPerPage),c(9),f("ngIf",e.getCounterPredictionTotalPages()>1),c(),f("ngIf",e.isRankingType()&&e.getPaginatedCounterRankings().length>0),c(),f("ngIf",e.isBingoType()&&e.getPaginatedCounterBingos().length>0),c(),f("ngIf",e.getCounterPredictionTotalPages()>1)}}function g6(n,t){if(n&1){let e=P();a(0,"button",225),b("click",function(){w(e);let r=h(3);return T(r.scrollToCounterPrediction())}),g(1,"i",226),u(2,"Create Counter Prediction "),l()}}function v6(n,t){if(n&1&&(a(0,"div",11)(1,"div",220)(2,"div",36),g(3,"i",221),a(4,"h5",222),u(5,"No Counter Predictions Yet"),l(),a(6,"p",223),u(7),l(),y(8,g6,3,0,"button",224),l()()()),n&2){let e=h(2);c(7),x("Be the first to create a counter prediction for this ",e.getPredictionTypeDisplayName().toLowerCase(),"!"),c(),f("ngIf",e.canShowCounterPrediction())}}function _6(n,t){if(n&1&&g(0,"img",230),n&2){let e=h(3);f("src",e.predictionDetail.author.photoUrl,te)}}function y6(n,t){n&1&&(a(0,"div",231),g(1,"i",164),l())}function b6(n,t){if(n&1&&(a(0,"div",227),y(1,_6,1,1,"img",228)(2,y6,2,0,"div",229),a(3,"div")(4,"div",54),u(5),l(),a(6,"div",59),u(7,"Author"),l()()()),n&2){let e=h(2);c(),f("ngIf",e.predictionDetail.author.photoUrl),c(),f("ngIf",!e.predictionDetail.author.photoUrl),c(3),k(e.predictionDetail.author.displayName||"Unknown Author")}}function C6(n,t){if(n&1&&(a(0,"li",29)(1,"strong"),u(2,"Ends:"),l(),u(3),l()),n&2){let e=h(2);c(3),x(" ",e.formatDate(e.predictionDetail.endDate)," ")}}function x6(n,t){if(n&1&&(a(0,"li",29)(1,"strong"),u(2,"Official Results:"),l(),a(3,"span",232),u(4),l()()),n&2){let e=h(2);c(4),k(e.getOfficialResults().length)}}function w6(n,t){if(n&1&&g(0,"img",246),n&2){let e=h().$implicit;f("src",e.author.photoUrl,te)}}function T6(n,t){n&1&&(a(0,"div",247),g(1,"i",248),l())}function S6(n,t){if(n&1&&(a(0,"div",241)(1,"div",86),y(2,w6,1,1,"img",242)(3,T6,2,0,"div",243),a(4,"div",244)(5,"div",245),u(6),l(),a(7,"div",193),u(8),l()()()()),n&2){let e=t.$implicit,i=h(3);c(2),f("ngIf",e.author==null?null:e.author.photoUrl),c(),f("ngIf",!(e.author!=null&&e.author.photoUrl)),c(3),k((e.author==null?null:e.author.displayName)||"Anonymous"),c(2),k(i.formatDateShort(e.createdAt))}}function E6(n,t){if(n&1&&(a(0,"div",249)(1,"small",74),u(2),l()()),n&2){let e=h(3);c(2),x("+",e.getAllCounterPredictions().length-3," more")}}function I6(n,t){if(n&1){let e=P();a(0,"div",23)(1,"div",24)(2,"h5",25),g(3,"i",233),u(4,"Response Summary "),l()(),a(5,"div",26)(6,"div",169)(7,"div",100)(8,"div",234),u(9),l(),a(10,"div",59),u(11,"Total Responses"),l()(),a(12,"div",100)(13,"div",235),u(14),l(),a(15,"div",59),u(16,"Unique Users"),l()()(),g(17,"hr",236),a(18,"div",28),y(19,S6,9,4,"div",237)(20,E6,3,1,"div",238),l(),a(21,"button",239),b("click",function(){w(e);let r=h(2);return T(r.scrollToCounterPredictions())}),g(22,"i",240),u(23,"View All Responses "),l()()()}if(n&2){let e=h(2);c(9),k(e.getAllCounterPredictions().length),c(5),k(e.getUniqueRespondersCount()),c(5),f("ngForOf",e.getAllCounterPredictions().slice(0,3)),c(),f("ngIf",e.getAllCounterPredictions().length>3)}}function P6(n,t){if(n&1&&g(0,"img",253),n&2){let e=h().$implicit;f("src",e.photoUrl,te)}}function D6(n,t){n&1&&(a(0,"div",247),g(1,"i",192),l())}function k6(n,t){if(n&1&&(a(0,"div",193),u(1),et(2,"slice"),l()),n&2){let e=h().$implicit;c(),q("",gn(2,2,e.description,0,20),"",e.description.length>20?"...":"","")}}function M6(n,t){if(n&1&&(a(0,"div",241)(1,"div",86),y(2,P6,1,1,"img",251)(3,D6,2,0,"div",243),a(4,"div")(5,"div",252),u(6),l(),y(7,k6,3,6,"div",185),l()()()),n&2){let e=t.$implicit;c(2),f("ngIf",e.photoUrl&&e.photoUrl.trim()),c(),f("ngIf",!e.photoUrl||!e.photoUrl.trim()),c(3),k(e.name),c(),f("ngIf",e.description)}}function O6(n,t){if(n&1&&(a(0,"div",254)(1,"small",74),u(2),l()()),n&2){let e=h(3);c(2),x("+",e.getAvailableTeams().length-5," more teams")}}function A6(n,t){if(n&1&&(a(0,"div",23)(1,"div",24)(2,"h5",25),u(3),l()(),a(4,"div",26)(5,"div",28),y(6,M6,8,4,"div",237)(7,O6,3,1,"div",250),l()()()),n&2){let e=h(2);c(3),x("Available Teams (",e.getAvailableTeams().length,")"),c(3),f("ngForOf",e.getAvailableTeams().slice(0,5)),c(),f("ngIf",e.getAvailableTeams().length>5)}}function R6(n,t){if(n&1&&(a(0,"span",259),g(1,"i",260),u(2),l()),n&2){let e=t.$implicit,i=h(3);oe("background-color",e.colorCode||"#0d6efd")("color",i.getContrastColor(e.colorCode||"#0d6efd"))("border","1px solid "+(e.colorCode||"#0d6efd")),c(),De(i.getFullIconClass(e.iconName)),c(),x(" ",e.name," ")}}function N6(n,t){if(n&1&&(a(0,"div",255)(1,"div",24)(2,"h5",25),g(3,"i",256),u(4,"Categories "),l()(),a(5,"div",26)(6,"div",257),y(7,R6,3,9,"span",258),l()()()),n&2){let e=h(2);c(7),f("ngForOf",e.predictionDetail.categories)}}function F6(n,t){if(n&1){let e=P();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div")(5,"h2",6),u(6),l(),a(7,"p",7),u(8),l()(),a(9,"div",8)(10,"button",9),b("click",function(){w(e);let r=h();return T(r.goBack())}),g(11,"i",10),u(12,"Back "),l()()()()(),a(13,"div",11),y(14,zV,1,3,"app-counter-prediction",12)(15,qV,7,1,"div",13),l(),a(16,"div",14)(17,"div",15)(18,"div",11)(19,"h3",16),g(20,"i",17),u(21,"Original Prediction "),a(22,"small",18),u(23),l()(),y(24,eL,17,3,"div",19)(25,sL,10,10,"div",19)(26,aL,7,1,"div",20),l(),y(27,ML,8,3,"div",21)(28,h6,23,6,"div",21)(29,v6,9,2,"div",21),l(),a(30,"div",22)(31,"div",23)(32,"div",24)(33,"h5",25),u(34,"Prediction Info"),l()(),a(35,"div",26),y(36,b6,8,3,"div",27),a(37,"ul",28)(38,"li",29)(39,"strong"),u(40,"Type:"),l(),u(41),l(),a(42,"li",29)(43,"strong"),u(44,"Created:"),l(),u(45),l(),y(46,C6,4,1,"li",30),a(47,"li",29)(48,"strong"),u(49,"Status:"),l(),a(50,"span"),u(51),l()(),a(52,"li",29)(53,"strong"),u(54,"Counter Predictions:"),l(),a(55,"span",31),u(56),l()(),y(57,x6,5,1,"li",30),l()()(),y(58,I6,24,4,"div",32)(59,A6,8,3,"div",32)(60,N6,8,1,"div",33),l()()()}if(n&2){let e,i=h();c(6),k(i.predictionDetail.title),c(2),k(i.predictionDetail.description),c(6),f("ngIf",i.canShowCounterPrediction()),c(),f("ngIf",!i.canShowCounterPrediction()&&i.predictionDetail),c(8),x("by ",(i.predictionDetail.author==null?null:i.predictionDetail.author.displayName)||"Unknown",""),c(),f("ngIf",i.isRankingType()&&i.hasOriginalRankingData()),c(),f("ngIf",i.isBingoType()&&i.hasOriginalBingoData()),c(),f("ngIf",!i.hasOriginalPostData()),c(),f("ngIf",i.getOfficialResults().length>0),c(),f("ngIf",i.getAllCounterPredictions().length>0),c(),f("ngIf",i.hasOriginalPostData()&&i.getAllCounterPredictions().length===0),c(7),f("ngIf",i.predictionDetail.author),c(5),x(" ",i.getPredictionTypeDisplayName()," "),c(4),x(" ",i.formatDate((e=i.getOriginalRankingData())==null?null:e.createdAt)," "),c(),f("ngIf",i.predictionDetail.endDate),c(4),De(i.predictionDetail.isActive?"text-success":"text-warning"),c(),x(" ",i.predictionDetail.isActive?"Active":"Ended"," "),c(5),k(i.getAllCounterPredictions().length),c(),f("ngIf",i.getOfficialResults().length>0),c(),f("ngIf",i.getAllCounterPredictions().length>0),c(),f("ngIf",i.getAvailableTeams().length>0),c(),f("ngIf",i.predictionDetail.categories&&i.predictionDetail.categories.length>0)}}function V6(n,t){n&1&&(a(0,"div",261)(1,"div",262)(2,"span",263),u(3,"Loading..."),l()(),a(4,"p",264),u(5,"Loading prediction details..."),l()())}function L6(n,t){if(n&1){let e=P();a(0,"div",261),g(1,"i",265),a(2,"h5",105),u(3,"Prediction Not Found"),l(),a(4,"p",74),u(5,"The prediction you're looking for doesn't exist or has been removed."),l(),a(6,"button",266),b("click",function(){w(e);let r=h();return T(r.goBack())}),u(7,"Go Back"),l()()}}var Du=class n{route=E(Ne);router=E(J);http=E(ve);toastr=E(re);accountService=E(pe);predictionDetail=null;isLoading=!1;showDebugInfo=!1;counterPredictionsCurrentPage=1;counterPredictionsPerPage=10;ngOnInit(){this.route.params.subscribe(t=>{let e=+t.id;e&&this.loadPredictionDetails(e)}),this.route.queryParams.subscribe(t=>{t.action==="counter-predict"&&setTimeout(()=>{this.autoShowCounterPrediction()},1e3)}),this.route.fragment.subscribe(t=>{(t==="responses"||t==="counter-predictions")&&setTimeout(()=>{this.scrollToCounterPredictions()},1e3)})}loadPredictionDetails(t){return U(this,null,function*(){this.isLoading=!0;try{console.log("=== Loading Prediction Details with Counter Predictions ==="),console.log("Prediction ID:",t);let e=yield this.http.get(`${Q.apiUrl}post/prediction/${t}/with-posts`).toPromise();if(e){this.predictionDetail=e,console.log("Loaded prediction detail:",this.predictionDetail),console.log("PostRanks count:",this.predictionDetail.postRanks?.length||0),console.log("PostBingos count:",this.predictionDetail.postBingos?.length||0);let i=this.getOriginalPostData(),r=this.getOfficialResults(),o=this.getAllCounterPredictions();console.log("Original post data:",i),console.log("Official Results:",r.length),console.log("Counter Predictions:",o.length)}}catch(e){console.error("Error loading prediction details:",e),this.toastr.error("Failed to load prediction details")}finally{this.isLoading=!1}})}canShowCounterPrediction(){let t=this.accountService.currentUser();if(!t||!this.predictionDetail||this.predictionDetail.isDraft||!this.predictionDetail.isActive)return!1;let e=this.hasOriginalPostData(),r=this.getAvailableTeams().length>0;return!e||!r||this.predictionDetail.userId===t.id||this.hasOfficialResults()?!1:!this.userHasCounterPrediction(t.id)}hasOfficialResults(){return this.getOfficialResults().length>0}userHasCounterPrediction(t){return this.getAllCounterPredictions().some(i=>i.userId===t)}getAllCounterPredictions(){let t=[];return this.predictionDetail?.postRanks&&this.predictionDetail.postRanks.forEach((e,i)=>{e.userId===this.predictionDetail?.userId||t.push({id:e.id,author:e.user,createdAt:new Date(e.createdAt),totalScore:e.totalScore,postRank:e,userId:e.userId,isOfficialResult:!1})}),this.predictionDetail?.postBingos&&this.predictionDetail.postBingos.forEach((e,i)=>{e.userId===this.predictionDetail?.userId||t.push({id:e.id,author:e.user,createdAt:new Date(e.createdAt),totalScore:e.totalScore,postBingo:e,userId:e.userId,isOfficialResult:!1})}),t.sort((e,i)=>i.createdAt.getTime()-e.createdAt.getTime())}getOfficialResults(){let t=[];return this.predictionDetail?.postRanks&&this.predictionDetail.postRanks.filter(i=>i.userId===this.predictionDetail?.userId).sort((i,r)=>new Date(i.createdAt).getTime()-new Date(r.createdAt).getTime()).slice(1).forEach(i=>{t.push({id:i.id,author:i.user,createdAt:new Date(i.createdAt),totalScore:i.totalScore,postRank:i,userId:i.userId,isOfficialResult:!0})}),this.predictionDetail?.postBingos&&this.predictionDetail.postBingos.filter(i=>i.userId===this.predictionDetail?.userId).sort((i,r)=>new Date(i.createdAt).getTime()-new Date(r.createdAt).getTime()).slice(1).forEach(i=>{t.push({id:i.id,author:i.user,createdAt:new Date(i.createdAt),totalScore:i.totalScore,postBingo:i,userId:i.userId,isOfficialResult:!0})}),t.sort((e,i)=>e.createdAt.getTime()-i.createdAt.getTime())}getOfficialRankingResults(){return this.getOfficialResults().filter(t=>t.postRank)}getOfficialBingoResults(){return this.getOfficialResults().filter(t=>t.postBingo)}getOriginalRankingData(){if(!this.predictionDetail?.postRanks||this.predictionDetail.postRanks.length===0)return null;let t=this.predictionDetail.postRanks.filter(e=>e.userId===this.predictionDetail?.userId).sort((e,i)=>new Date(e.createdAt).getTime()-new Date(i.createdAt).getTime());return t.length>0?t[0]:this.predictionDetail.postRanks[0]}getOriginalBingoData(){if(!this.predictionDetail?.postBingos||this.predictionDetail.postBingos.length===0)return null;let t=this.predictionDetail.postBingos.filter(e=>e.userId===this.predictionDetail?.userId).sort((e,i)=>new Date(e.createdAt).getTime()-new Date(i.createdAt).getTime());return t.length>0?t[0]:this.predictionDetail.postBingos[0]}getCounterPredictionUnavailableReason(){let t=this.accountService.currentUser();return t?this.predictionDetail?this.predictionDetail.isDraft?"Counter predictions are not available for draft predictions.":this.predictionDetail.isActive?this.hasOriginalPostData()?this.getAvailableTeams().length===0?"No teams are available for counter prediction.":this.predictionDetail.userId===t.id?"You cannot create counter predictions for your own prediction. You can add official results instead.":this.hasOfficialResults()?"Counter predictions are no longer allowed. The author has published official results for this prediction.":this.userHasCounterPrediction(t.id)?"You have already created a counter prediction for this post.":"Counter prediction is not available for this post.":"This prediction doesn't have any post data yet.":"This prediction is no longer active.":"Prediction data is still loading...":"You must be logged in to create counter predictions."}getCounterPredictionTotalPages(){return this.counterPredictionsPerPage>=50?1:Math.ceil(this.getAllCounterPredictions().length/this.counterPredictionsPerPage)}getCounterPredictionDisplayRange(){let t=this.getAllCounterPredictions().length;if(t===0)return"0";if(this.counterPredictionsPerPage>=50)return`1-${t}`;let e=(this.counterPredictionsCurrentPage-1)*this.counterPredictionsPerPage+1,i=Math.min(this.counterPredictionsCurrentPage*this.counterPredictionsPerPage,t);return`${e}-${i}`}getCounterPredictionVisiblePages(){let t=this.getCounterPredictionTotalPages(),e=this.counterPredictionsCurrentPage,i=[];if(t<=7)for(let r=1;r<=t;r++)i.push(r);else{i.push(1),e>4&&i.push(-1);let r=Math.max(2,e-1),o=Math.min(t-1,e+1);for(let s=r;s<=o;s++)i.push(s);e<t-3&&i.push(-1),t>1&&i.push(t)}return i.filter(r=>r!==-1)}goToCounterPredictionPage(t){t<1||t>this.getCounterPredictionTotalPages()||(this.counterPredictionsCurrentPage=t,setTimeout(()=>{let e=document.getElementById("counter-predictions");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},100))}onCounterPredictionsPageSizeChange(){this.counterPredictionsCurrentPage=1}getCounterPredictionGlobalIndex(t){return(this.counterPredictionsCurrentPage-1)*this.counterPredictionsPerPage+t+1}getPaginatedCounterRankings(){let t=this.getCounterRankings();if(this.counterPredictionsPerPage>=50)return t;let e=(this.counterPredictionsCurrentPage-1)*this.counterPredictionsPerPage,i=e+this.counterPredictionsPerPage;return t.slice(e,i)}getPaginatedCounterBingos(){let t=this.getCounterBingos();if(this.counterPredictionsPerPage>=50)return t;let e=(this.counterPredictionsCurrentPage-1)*this.counterPredictionsPerPage,i=e+this.counterPredictionsPerPage;return t.slice(e,i)}getCounterRankings(){return this.isRankingType()?this.getAllCounterPredictions().filter(t=>t.postRank):[]}getCounterBingos(){return this.isBingoType()?this.getAllCounterPredictions().filter(t=>t.postBingo):[]}getUniqueRespondersCount(){return new Set(this.getAllCounterPredictions().map(e=>e.userId)).size}getCounterRankingRows(t){return t.postRank?.rankTable?.rows||[]}getCounterRankingFirstRowColumns(t){let e=this.getCounterRankingRows(t);return e.length>0?e[0].columns||[]:[]}getCounterRankingAssignedCount(t){let e=this.getCounterRankingRows(t),i=0;return e.forEach(r=>{r.columns?.forEach(o=>{o.team&&i++})}),i}getCounterRankingTotalSlots(t){let e=t.postRank?.rankTable;return e?(e.numberOfRows||0)*(e.numberOfColumns||0):0}getCounterRankingCompletionPercentage(t){let e=this.getCounterRankingAssignedCount(t),i=this.getCounterRankingTotalSlots(t);return i>0?Math.round(e/i*100):0}getCounterBingoCells(t){return t.postBingo?.bingoCells||[]}getCounterBingoGridSize(t){return t.postBingo?.gridSize||5}getCounterBingoAssignedCount(t){return this.getCounterBingoCells(t).filter(i=>i.team).length}getCounterBingoTotalCells(t){return this.getCounterBingoCells(t).length}getCounterBingoCompletionPercentage(t){let e=this.getCounterBingoAssignedCount(t),i=this.getCounterBingoTotalCells(t);return i>0?Math.round(e/i*100):0}getTemplateData(){if(!this.getOriginalPostData())return null;if(this.isRankingType()){let e=this.getOriginalRankingData();return{id:e?.rankingTemplateId||1,numberOfRows:e?.rankTable?.numberOfRows||5,numberOfColumns:e?.rankTable?.numberOfColumns||1,name:"Ranking Template"}}else if(this.isBingoType()){let e=this.getOriginalBingoData();return{id:e?.bingoTemplateId||1,gridSize:e?.gridSize||5,name:"Bingo Template"}}return null}getAvailableTeams(){if(this.isRankingType()&&this.hasOriginalRankingData()){let t=this.getOriginalRankingData(),e=[],i=new Set;return t?.rankTable?.rows&&t.rankTable.rows.forEach(r=>{r.columns&&r.columns.forEach(o=>{o.team&&!i.has(o.team.id)&&(i.add(o.team.id),e.push({id:o.team.id,name:o.team.name||"Unnamed Team",description:o.team.description||"",photoUrl:o.team.photoUrl||"",score:o.team.score||0,createdByUserId:o.team.createdByUserId||0,createdAt:o.team.createdAt?new Date(o.team.createdAt):new Date}))})}),e}if(this.isBingoType()&&this.hasOriginalBingoData()){let t=this.getOriginalBingoData(),e=[],i=new Set;return t?.bingoCells&&t.bingoCells.forEach(r=>{r.team&&!i.has(r.team.id)&&(i.add(r.team.id),e.push({id:r.team.id,name:r.team.name||"Unnamed Team",description:r.team.description||"",photoUrl:r.team.photoUrl||"",score:r.team.score||0,createdByUserId:r.team.createdByUserId||0,createdAt:r.team.createdAt?new Date(r.team.createdAt):new Date}))}),e}return[]}compareWithOfficialResults(t){let e=this.getOfficialResults();if(e.length===0)return{totalMatches:0,totalPositions:0,accuracy:0,matches:[],mismatches:[],hasComparison:!1};let i=e[0];return this.isRankingType()&&t.postRank&&i.postRank?this.compareRankings(t.postRank,i.postRank):this.isBingoType()&&t.postBingo&&i.postBingo?this.compareBingos(t.postBingo,i.postBingo):{totalMatches:0,totalPositions:0,accuracy:0,matches:[],mismatches:[],hasComparison:!1}}compareRankings(t,e){let i=[],r=[],o=t.rankTable?.rows||[],s=e.rankTable?.rows||[],d=0,p=0;for(let m=0;m<Math.max(o.length,s.length);m++){let v=o[m],_=s[m];if(!v||!_)continue;let S=v.columns||[],C=_.columns||[];for(let I=0;I<Math.max(S.length,C.length);I++){let D=S[I],F=C[I];if(!D||!F)continue;d++;let B=D.team?.id,j=F.team?.id;B&&j&&B===j?(p++,i.push({position:`Rank ${m+1}`,rowIndex:m,colIndex:I,teamName:D.team.name,matchType:"exact"})):B&&j?r.push({position:`Rank ${m+1}`,rowIndex:m,colIndex:I,counterTeam:D.team,officialTeam:F.team,mismatchType:"different-team"}):B&&!j?r.push({position:`Rank ${m+1}`,rowIndex:m,colIndex:I,counterTeam:D.team,officialTeam:null,mismatchType:"extra-team"}):!B&&j&&r.push({position:`Rank ${m+1}`,rowIndex:m,colIndex:I,counterTeam:null,officialTeam:F.team,mismatchType:"missing-team"})}}return{totalMatches:p,totalPositions:d,accuracy:d>0?Math.round(p/d*100):0,matches:i,mismatches:r,hasComparison:!0}}compareBingos(t,e){let i=[],r=[],o=t.bingoCells||[],s=e.bingoCells||[],d=0,p=0,m=Math.max(o.length,s.length);for(let v=0;v<m;v++){let _=o[v],S=s[v];if(!_||!S)continue;d++;let C=_.team?.id,I=S.team?.id;C&&I&&C===I?(p++,i.push({position:`Cell (${_.row+1}, ${_.column+1})`,rowIndex:_.row,colIndex:_.column,teamName:_.team.name,matchType:"exact"})):C&&I?r.push({position:`Cell (${_.row+1}, ${_.column+1})`,rowIndex:_.row,colIndex:_.column,counterTeam:_.team,officialTeam:S.team,mismatchType:"different-team"}):C&&!I?r.push({position:`Cell (${_.row+1}, ${_.column+1})`,rowIndex:_.row,colIndex:_.column,counterTeam:_.team,officialTeam:null,mismatchType:"extra-team"}):!C&&I&&r.push({position:`Cell (${_.row+1}, ${_.column+1})`,rowIndex:_.row,colIndex:_.column,counterTeam:null,officialTeam:S.team,mismatchType:"missing-team"})}return{totalMatches:p,totalPositions:d,accuracy:d>0?Math.round(p/d*100):0,matches:i,mismatches:r,hasComparison:!0}}isPositionMatch(t,e,i){let r=this.compareWithOfficialResults(t);if(this.isRankingType())return r.matches.some(o=>o.rowIndex===e&&o.colIndex===i);if(this.isBingoType()){let o=t.postBingo?.gridSize||5,s=e*o+i,p=(t.postBingo?.bingoCells||[])[s];if(p)return r.matches.some(m=>m.rowIndex===p.row&&m.colIndex===p.column)}return!1}isPositionMismatch(t,e,i){let r=this.compareWithOfficialResults(t);if(this.isRankingType())return r.mismatches.some(o=>o.rowIndex===e&&o.colIndex===i);if(this.isBingoType()){let o=t.postBingo?.gridSize||5,s=e*o+i,p=(t.postBingo?.bingoCells||[])[s];if(p)return r.mismatches.some(m=>m.rowIndex===p.row&&m.colIndex===p.column)}return!1}getPositionComparisonClass(t,e,i){return this.getOfficialResults().length===0?"":this.isPositionMatch(t,e,i)?"comparison-match":this.isPositionMismatch(t,e,i)?"comparison-mismatch":"comparison-neutral"}getComparisonTooltip(t,e,i){return this.getOfficialResults().length===0?"No official results available for comparison":this.isPositionMatch(t,e,i)?"\u2705 Correct! This matches the official result":this.isPositionMismatch(t,e,i)?"\u274C Incorrect - different from official result":"Neutral position"}getAccuracy(t){return this.compareWithOfficialResults(t).accuracy}getAccuracyBadgeClass(t){return t>=80?"bg-success":t>=60?"bg-warning text-dark":t>=40?"bg-orange text-white":"bg-danger"}getAccuracyDescription(t){return t>=90?"Excellent prediction!":t>=80?"Very good prediction":t>=60?"Good prediction":t>=40?"Fair prediction":t>=20?"Poor prediction":"Very different from official"}hasOriginalRankingData(){let t=this.isRankingType(),e=this.predictionDetail?.postRanks&&this.predictionDetail.postRanks.length>0,i=this.getOriginalRankingData(),r=i?.rankTable?.rows&&i.rankTable.rows.length>0;return t&&e&&r}getOriginalRankingRows(){return this.getOriginalRankingData()?.rankTable?.rows||[]}getFirstRowColumns(){let t=this.getOriginalRankingRows();return t.length>0?t[0].columns||[]:[]}hasOriginalBingoData(){let t=this.isBingoType(),e=this.predictionDetail?.postBingos&&this.predictionDetail.postBingos.length>0,i=this.getOriginalBingoData(),r=i?.bingoCells&&i.bingoCells.length>0;return t&&e&&r}getOriginalBingoCells(){return this.getOriginalBingoData()?.bingoCells||[]}hasOriginalPostData(){return this.hasOriginalRankingData()||this.hasOriginalBingoData()}isRankingType(){let t=this.predictionDetail?.predictionType;return t==="Ranking"||t===0||t==="0"}isBingoType(){let t=this.predictionDetail?.predictionType;return t==="Bingo"||t===2||t==="2"}isBracketType(){let t=this.predictionDetail?.predictionType;return t==="Bracket"||t===1||t==="1"}getPredictionTypeDisplayName(){return this.isRankingType()?"Ranking":this.isBracketType()?"Bracket":this.isBingoType()?"Bingo":`Unknown (${this.predictionDetail?.predictionType})`}getOriginalPostData(){return this.isRankingType()?this.getOriginalRankingData():this.isBingoType()?this.getOriginalBingoData():null}getContrastColor(t){if(!t)return"#ffffff";let e=t.replace("#",""),i=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),o=parseInt(e.substr(4,2),16);return(i*299+r*587+o*114)/1e3>128?"#000000":"#ffffff"}getSafeIconClass(t){if(!t)return"fa-tag";let e=t.replace("fa-","").toLowerCase().trim();if(!e)return"fa-tag";let i={sports:"fa-trophy",sport:"fa-trophy",soccer:"fa-soccer-ball-o",football:"fa-football",basketball:"fa-basketball-ball",baseball:"fa-baseball",tennis:"fa-trophy",golf:"fa-trophy",hockey:"fa-trophy",racing:"fa-car",olympics:"fa-trophy",championship:"fa-trophy",league:"fa-trophy",premier:"fa-trophy",competition:"fa-trophy",music:"fa-music",movies:"fa-film",tv:"fa-tv",entertainment:"fa-film",gaming:"fa-gamepad",esports:"fa-gamepad",technology:"fa-laptop",tech:"fa-laptop",software:"fa-code",mobile:"fa-mobile",computer:"fa-laptop",business:"fa-briefcase",finance:"fa-money",economy:"fa-chart-line",stocks:"fa-chart-line",education:"fa-graduation-cap",school:"fa-graduation-cap",university:"fa-university",science:"fa-flask",books:"fa-book",travel:"fa-plane",tourism:"fa-plane",geography:"fa-globe",world:"fa-globe",health:"fa-heart",medicine:"fa-medkit",fitness:"fa-heart",news:"fa-newspaper-o",politics:"fa-institution",government:"fa-institution",food:"fa-cutlery",cooking:"fa-cutlery",lifestyle:"fa-home",home:"fa-home",default:"fa-tag",category:"fa-tag"};if(i[e])return i[e];for(let[d,p]of Object.entries(i))if(e.includes(d)||d.includes(e))return p;let r=["fa-trophy","fa-soccer-ball-o","fa-football","fa-basketball-ball","fa-baseball","fa-music","fa-film","fa-tv","fa-gamepad","fa-laptop","fa-mobile","fa-book","fa-graduation-cap","fa-university","fa-flask","fa-briefcase","fa-money","fa-chart-line","fa-globe","fa-plane","fa-heart","fa-medkit","fa-newspaper-o","fa-institution","fa-cutlery","fa-home","fa-users","fa-tag","fa-tags","fa-star","fa-cog","fa-camera","fa-car"],o=t.startsWith("fa-")?t:`fa-${t}`;if(r.includes(o))return o;let s=`fa-${e}`;return r.includes(s)?s:"fa-tag"}getFullIconClass(t){return`fa ${this.getSafeIconClass(t)}`}formatDate(t){if(!t)return"Not available";try{let e=typeof t=="string"?new Date(t):t;return isNaN(e.getTime())?"Invalid date":e.getFullYear()<=1901?"Not available":e.toLocaleDateString()+" "+e.toLocaleTimeString()}catch{return"Invalid date"}}formatDateShort(t){if(!t)return"N/A";try{let e=typeof t=="string"?new Date(t):t;if(isNaN(e.getTime())||e.getFullYear()<=1901)return"N/A";let r=new Date().getTime()-e.getTime(),o=Math.floor(r/(1e3*60*60*24));return o===0?"Today":o===1?"Yesterday":o<7?`${o} days ago`:e.toLocaleDateString()}catch{return"N/A"}}onImageError(t){let e=t.target;e&&(e.style.display="none")}autoShowCounterPrediction(){if(this.canShowCounterPrediction()){let t=document.querySelector("app-counter-prediction");t&&(t.scrollIntoView({behavior:"smooth"}),this.toastr.info("Create your counter prediction below!","Counter Prediction"))}else this.toastr.warning("Counter prediction is not available for this post")}scrollToCounterPrediction(){let t=document.querySelector("app-counter-prediction");t&&t.scrollIntoView({behavior:"smooth",block:"start"})}scrollToCounterPredictions(){let t=document.getElementById("counter-predictions");t&&t.scrollIntoView({behavior:"smooth",block:"start"})}getCurrentUserId(){return this.accountService.currentUser()?.id||0}goBack(){this.router.navigate(["/published-posts"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-prediction-details"]],decls:3,vars:3,consts:[["class","container-fluid mt-4",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"container-fluid","mt-4"],[1,"card","bg-primary","border-primary","mb-4"],[1,"card-header","bg-primary","border-primary"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-light","mb-1"],[1,"text-light","mb-0","opacity-75"],[1,"d-flex","gap-2"],[1,"btn","btn-outline-light",3,"click"],[1,"fa","fa-arrow-left","me-2"],[1,"mb-4"],[3,"originalPrediction","template","availableTeams",4,"ngIf"],["class","card bg-secondary border-secondary",4,"ngIf"],[1,"row","mb-4"],[1,"col-lg-8"],[1,"text-light","mb-3"],[1,"fa","fa-star","me-2","text-warning"],[1,"text-muted","ms-2"],["class","card bg-secondary border-secondary mb-4",4,"ngIf"],["class","card bg-warning border-warning",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"col-lg-4"],[1,"card","bg-dark","border-dark","mb-3"],[1,"card-header","bg-dark","border-dark"],[1,"text-light","mb-0"],[1,"card-body"],["class","d-flex align-items-center mb-3",4,"ngIf"],[1,"list-group","list-group-flush"],[1,"list-group-item","bg-transparent","border-secondary","text-light"],["class","list-group-item bg-transparent border-secondary text-light",4,"ngIf"],[1,"badge","bg-info","ms-2"],["class","card bg-dark border-dark mb-3",4,"ngIf"],["class","card bg-dark border-dark",4,"ngIf"],[3,"originalPrediction","template","availableTeams"],[1,"card","bg-secondary","border-secondary"],[1,"card-body","text-center"],[1,"fa","fa-info-circle","fa-2x","text-light","mb-3"],[1,"text-light"],[1,"text-light","mb-2"],[1,"card","bg-secondary","border-secondary","mb-4"],[1,"card-header","bg-secondary","border-secondary"],[1,"fa","fa-list-ol","me-2"],[1,"small","text-light","opacity-75"],[1,"table-responsive"],[1,"table","table-dark","table-striped"],["width","80"],[4,"ngFor","ngForOf"],[1,"fw-bold","text-warning"],["class","d-flex align-items-center p-2",4,"ngIf"],["class","text-muted small text-center py-2",4,"ngIf"],[1,"d-flex","align-items-center","p-2"],["class","rounded me-2","width","32","height","32","alt","Team",3,"src","error",4,"ngIf"],["class","bg-warning rounded-circle me-2 d-flex align-items-center justify-content-center","style","width: 32px; height: 32px; min-width: 32px;",4,"ngIf"],[1,"fw-bold","text-light"],["class","small text-muted",4,"ngIf"],["width","32","height","32","alt","Team",1,"rounded","me-2",3,"error","src"],[1,"bg-warning","rounded-circle","me-2","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px","min-width","32px"],[1,"fa","fa-users","text-dark","small"],[1,"small","text-muted"],[1,"text-muted","small","text-center","py-2"],[1,"fa","fa-minus-circle"],[1,"fa","fa-th","me-2"],[1,"bingo-grid"],["class","bingo-cell p-2 border text-center original-cell",3,"has-team","empty-cell",4,"ngFor","ngForOf"],[1,"bingo-cell","p-2","border","text-center","original-cell"],[4,"ngIf"],["class","text-muted",4,"ngIf"],["class","rounded mb-1","width","24","height","24","alt","Team",3,"src","error",4,"ngIf"],["class","bg-warning rounded-circle mx-auto mb-1 d-flex align-items-center justify-content-center","style","width: 24px; height: 24px;",4,"ngIf"],[1,"small","text-light","fw-bold"],["width","24","height","24","alt","Team",1,"rounded","mb-1",3,"error","src"],[1,"bg-warning","rounded-circle","mx-auto","mb-1","d-flex","align-items-center","justify-content-center",2,"width","24px","height","24px"],[1,"fa","fa-users","text-dark",2,"font-size","10px"],[1,"text-muted"],[1,"fa","fa-square-o","fa-lg"],[1,"very-small","mt-1"],[1,"card","bg-warning","border-warning"],[1,"fa","fa-exclamation-triangle","fa-2x","mb-3","text-dark"],[1,"text-dark"],[1,"text-dark","mb-2"],[1,"fa","fa-trophy","me-2","text-warning"],["class","card mb-4",3,"bg-warning","border-warning",4,"ngFor","ngForOf"],["class","card mb-4 bg-warning border-warning",4,"ngFor","ngForOf"],[1,"card","mb-4"],[1,"card-header","bg-warning","border-warning"],[1,"d-flex","align-items-center"],["class","rounded-circle me-2","width","32","height","32","alt","Author",3,"src",4,"ngIf"],["class","rounded-circle me-2 d-flex align-items-center justify-content-center bg-dark","style","width: 32px; height: 32px;",4,"ngIf"],[1,"mb-0","text-dark"],[1,"badge","bg-dark","text-warning","ms-2"],[1,"fa","fa-trophy","me-1"],[1,"text-dark",2,"opacity","0.8"],[1,"text-end"],[1,"badge","bg-dark","text-warning"],[1,"fa","fa-star","me-1"],[1,"table","table-striped","table-sm","table-light"],["width","60",1,"text-warning"],["class","text-warning",4,"ngFor","ngForOf"],[1,"row","mt-2"],[1,"col-6"],[1,"col-6","text-end"],["width","32","height","32","alt","Author",1,"rounded-circle","me-2",3,"src"],[1,"rounded-circle","me-2","d-flex","align-items-center","justify-content-center","bg-dark",2,"width","32px","height","32px"],[1,"fa","fa-user","text-warning"],[1,"text-warning"],["class","d-flex align-items-center p-1",4,"ngIf"],["class","small text-center py-1 text-secondary",4,"ngIf"],[1,"d-flex","align-items-center","p-1"],["class","rounded me-1","width","24","height","24","alt","Team",3,"src","error",4,"ngIf"],["class","rounded-circle me-1 d-flex align-items-center justify-content-center bg-warning","style","width: 24px; height: 24px; min-width: 24px;",4,"ngIf"],[1,"fw-bold","small","text-dark"],["class","very-small text-secondary",4,"ngIf"],["width","24","height","24","alt","Team",1,"rounded","me-1",3,"error","src"],[1,"rounded-circle","me-1","d-flex","align-items-center","justify-content-center","bg-warning",2,"width","24px","height","24px","min-width","24px"],[1,"very-small","text-secondary"],[1,"small","text-center","py-1","text-secondary"],[1,"fa","fa-minus"],[1,"card","mb-4","bg-warning","border-warning"],["class","bingo-cell p-1 border text-center","style","min-height: 60px; background-color: #ffc107; border-color: #e0a800;",3,"has-team","empty-cell",4,"ngFor","ngForOf"],[1,"bingo-cell","p-1","border","text-center",2,"min-height","60px","background-color","#ffc107","border-color","#e0a800"],["class","text-secondary very-small",4,"ngIf"],["class","rounded mb-1","width","20","height","20","alt","Team",3,"src","error",4,"ngIf"],["class","bg-dark rounded-circle mx-auto mb-1 d-flex align-items-center justify-content-center","style","width: 20px; height: 20px;",4,"ngIf"],[1,"very-small","text-dark","fw-bold"],["width","20","height","20","alt","Team",1,"rounded","mb-1",3,"error","src"],[1,"bg-dark","rounded-circle","mx-auto","mb-1","d-flex","align-items-center","justify-content-center",2,"width","20px","height","20px"],[1,"fa","fa-users","text-warning",2,"font-size","8px"],[1,"text-secondary","very-small"],[1,"fa","fa-square-o"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["id","counter-predictions",1,"text-light","mb-0"],[1,"fa","fa-users","me-2","text-info"],[1,"d-flex","align-items-center","gap-2"],[1,"text-light","small","me-2"],[1,"form-select","form-select-sm","bg-dark","text-light","border-secondary",2,"width","auto",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["class","d-flex justify-content-between align-items-center mb-3",4,"ngIf"],["class","d-flex justify-content-center mb-4",4,"ngIf"],[1,"text-light","small"],["aria-label","Counter predictions pagination"],[1,"pagination","pagination-sm","mb-0"],[1,"page-item"],[1,"page-link","bg-dark","text-light","border-secondary",3,"click","disabled"],[1,"fa","fa-angle-left"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"fa","fa-angle-right"],[1,"page-link",3,"click"],["class","card mb-3 counter-prediction-card fade-in-up bg-dark border-primary",4,"ngFor","ngForOf"],[1,"card","mb-3","counter-prediction-card","fade-in-up","bg-dark","border-primary"],[1,"card-header","bg-dark","border-primary"],["class","bg-primary rounded-circle me-2 d-flex align-items-center justify-content-center","style","width: 32px; height: 32px;",4,"ngIf"],[1,"badge","bg-primary"],["class","mt-1",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"table","table-striped","table-sm","table-dark"],["width","60"],[1,"col-4"],["class","col-4 text-center",4,"ngIf"],[1,"col-4","text-end"],[1,"bg-primary","rounded-circle","me-2","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px"],[1,"fa","fa-user","text-white"],[1,"mt-1"],[1,"badge"],[1,"fa","fa-target","me-1"],[1,"mt-2"],[1,"row","text-center"],[1,"small","text-success"],[1,"fa","fa-check-circle","me-1"],[1,"small","text-danger"],[1,"fa","fa-times-circle","me-1"],[1,"small","text-info"],[1,"fa","fa-info-circle","me-1"],[1,"fw-bold","text-primary"],[3,"class","title",4,"ngFor","ngForOf"],[3,"title"],["class","d-flex align-items-center p-1 position-relative",4,"ngIf"],["class","small text-center py-1 text-muted",4,"ngIf"],[1,"d-flex","align-items-center","p-1","position-relative"],["class","position-absolute top-0 end-0","style","margin-top: -5px; margin-right: -5px;",4,"ngIf"],["class","rounded-circle me-1 d-flex align-items-center justify-content-center bg-primary","style","width: 24px; height: 24px; min-width: 24px;",4,"ngIf"],[1,"fw-bold","small","text-light"],["class","very-small text-muted",4,"ngIf"],[1,"position-absolute","top-0","end-0",2,"margin-top","-5px","margin-right","-5px"],["class","fa fa-check-circle text-success","style","font-size: 12px; background: white; border-radius: 50%;",4,"ngIf"],["class","fa fa-times-circle text-danger","style","font-size: 12px; background: white; border-radius: 50%;",4,"ngIf"],[1,"fa","fa-check-circle","text-success",2,"font-size","12px","background","white","border-radius","50%"],[1,"fa","fa-times-circle","text-danger",2,"font-size","12px","background","white","border-radius","50%"],[1,"rounded-circle","me-1","d-flex","align-items-center","justify-content-center","bg-primary",2,"width","24px","height","24px","min-width","24px"],[1,"fa","fa-users","text-white",2,"font-size","10px"],[1,"very-small","text-muted"],[1,"small","text-center","py-1","text-muted"],[1,"col-4","text-center"],[1,"text-success"],[1,"fa","fa-bullseye","me-1"],["class","card bg-dark border-primary mb-3 counter-prediction-card fade-in-up",4,"ngFor","ngForOf"],[1,"card","bg-dark","border-primary","mb-3","counter-prediction-card","fade-in-up"],[1,"small","text-muted","mt-1"],["class","bingo-cell p-1 border text-center counter-cell position-relative","style","min-height: 60px;",3,"has-team","empty-cell","class","title",4,"ngFor","ngForOf"],[1,"fa","fa-th","me-1"],[1,"bingo-cell","p-1","border","text-center","counter-cell","position-relative",2,"min-height","60px",3,"title"],["class","position-absolute top-0 end-0","style","margin-top: -3px; margin-right: -3px; z-index: 10;",4,"ngIf"],["class","text-muted very-small",4,"ngIf"],[1,"position-absolute","top-0","end-0",2,"margin-top","-3px","margin-right","-3px","z-index","10"],["class","fa fa-check-circle text-success","style","font-size: 10px; background: white; border-radius: 50%;",4,"ngIf"],["class","fa fa-times-circle text-danger","style","font-size: 10px; background: white; border-radius: 50%;",4,"ngIf"],[1,"fa","fa-check-circle","text-success",2,"font-size","10px","background","white","border-radius","50%"],[1,"fa","fa-times-circle","text-danger",2,"font-size","10px","background","white","border-radius","50%"],["class","bg-primary rounded-circle mx-auto mb-1 d-flex align-items-center justify-content-center","style","width: 20px; height: 20px;",4,"ngIf"],[1,"very-small","text-light","fw-bold"],[1,"bg-primary","rounded-circle","mx-auto","mb-1","d-flex","align-items-center","justify-content-center",2,"width","20px","height","20px"],[1,"fa","fa-users","text-white",2,"font-size","8px"],[1,"text-muted","very-small"],[1,"d-flex","justify-content-center","mb-4"],[1,"pagination"],[1,"fa","fa-angle-double-left"],[1,"fa","fa-angle-double-right"],[1,"card","bg-info","border-info"],[1,"fa","fa-users","fa-2x","text-white","mb-3"],[1,"text-white"],[1,"text-white","mb-2"],["class","btn btn-light",3,"click",4,"ngIf"],[1,"btn","btn-light",3,"click"],[1,"fa","fa-plus","me-2"],[1,"d-flex","align-items-center","mb-3"],["class","rounded-circle me-3","width","48","height","48","alt","Author",3,"src",4,"ngIf"],["class","bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center","style","width: 48px; height: 48px;",4,"ngIf"],["width","48","height","48","alt","Author",1,"rounded-circle","me-3",3,"src"],[1,"bg-primary","rounded-circle","me-3","d-flex","align-items-center","justify-content-center",2,"width","48px","height","48px"],[1,"badge","bg-warning","text-dark","ms-2"],[1,"fa","fa-chart-bar","me-2"],[1,"h4","text-primary"],[1,"h4","text-success"],[1,"border-secondary"],["class","list-group-item bg-transparent border-secondary text-light p-2",4,"ngFor","ngForOf"],["class","text-center py-2",4,"ngIf"],[1,"btn","btn-outline-primary","btn-sm","w-100","mt-2",3,"click"],[1,"fa","fa-eye","me-1"],[1,"list-group-item","bg-transparent","border-secondary","text-light","p-2"],["class","rounded-circle me-2","width","24","height","24","alt","Author",3,"src",4,"ngIf"],["class","bg-primary rounded-circle me-2 d-flex align-items-center justify-content-center","style","width: 24px; height: 24px;",4,"ngIf"],[1,"flex-grow-1"],[1,"small","fw-bold"],["width","24","height","24","alt","Author",1,"rounded-circle","me-2",3,"src"],[1,"bg-primary","rounded-circle","me-2","d-flex","align-items-center","justify-content-center",2,"width","24px","height","24px"],[1,"fa","fa-user","text-white",2,"font-size","10px"],[1,"text-center","py-2"],["class","list-group-item bg-transparent border-secondary text-center",4,"ngIf"],["class","rounded me-2","width","24","height","24","alt","Team",3,"src",4,"ngIf"],[1,"fw-bold","small"],["width","24","height","24","alt","Team",1,"rounded","me-2",3,"src"],[1,"list-group-item","bg-transparent","border-secondary","text-center"],[1,"card","bg-dark","border-dark"],[1,"fa","fa-tags","me-2"],[1,"d-flex","flex-wrap","gap-2"],["class","badge category-badge",3,"background-color","color","border",4,"ngFor","ngForOf"],[1,"badge","category-badge"],[1,"me-1"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[1,"fa","fa-exclamation-triangle","fa-3x","text-warning","mb-3"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){e&1&&y(0,F6,61,23,"div",0)(1,V6,6,0,"div",1)(2,L6,8,0,"div",1),e&2&&(f("ngIf",i.predictionDetail),c(),f("ngIf",!i.predictionDetail&&i.isLoading),c(),f("ngIf",!i.predictionDetail&&!i.isLoading))},dependencies:[Y,Se,ee,rr,Pu,Fe,pi,fi,Nn,Ee,wn],styles:['.prediction-details-container[_ngcontent-%COMP%]{--primary-color: #007bff;--success-color: #28a745;--warning-color: #ffc107;--info-color: #17a2b8;--secondary-color: #6c757d;--dark-color: #343a40;--border-radius: 8px;--transition: all .2s ease}.original-prediction[_ngcontent-%COMP%]{position:relative}.original-prediction[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;background:linear-gradient(45deg,#ffc107,#e0a800);border-radius:var(--border-radius);z-index:-1}.counter-predictions-section[_ngcontent-%COMP%]{scroll-margin-top:100px}.counter-prediction-card[_ngcontent-%COMP%]{transition:var(--transition);position:relative;overflow:hidden}.counter-prediction-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,123,255,.1),transparent);transition:left .5s ease}.counter-prediction-card[_ngcontent-%COMP%]:hover:before{left:100%}.table-dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-dark[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#495057;vertical-align:middle}.table-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem}.table-responsive[_ngcontent-%COMP%]{border-radius:var(--border-radius);overflow:hidden}.bingo-grid[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:1rem;background:#0000001a;border-radius:12px}.bingo-cell[_ngcontent-%COMP%]{border-radius:var(--border-radius);min-height:80px;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:var(--transition);position:relative;overflow:hidden}.bingo-cell.has-team[_ngcontent-%COMP%]{background-color:var(--success-color);border-color:#1e7e34;box-shadow:0 2px 4px #28a7454d}.bingo-cell.empty-cell[_ngcontent-%COMP%]{background-color:var(--secondary-color);border-color:#495057;opacity:.7}.original-cell.has-team[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--warning-color),#e0a800);border-color:#d39e00;box-shadow:0 2px 8px #ffc10766}.counter-cell.has-team[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#0056b3);border-color:#004085;box-shadow:0 2px 8px #007bff66}.team-display[_ngcontent-%COMP%]{transition:var(--transition);border-radius:6px;padding:.5rem}.team-display[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.02)}.team-image[_ngcontent-%COMP%]{border:2px solid rgba(255,255,255,.3);transition:var(--transition)}.team-image[_ngcontent-%COMP%]:hover{border-color:#fff9}.badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.375rem .75rem;border-radius:20px;font-weight:500;transition:var(--transition)}.badge[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.author-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem;border-radius:var(--border-radius);transition:var(--transition)}.author-info[_ngcontent-%COMP%]:hover{background:#ffffff0d}.author-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;border:2px solid rgba(255,255,255,.2);transition:var(--transition)}.author-avatar[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);transform:scale(1.1)}.progress-ring[_ngcontent-%COMP%]{width:40px;height:40px;position:relative}.progress-ring[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.progress-ring[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:none;stroke-width:3;stroke-linecap:round}.progress-ring[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{stroke:#ffffff1a}.progress-ring[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{stroke:var(--primary-color);stroke-dasharray:100;stroke-dashoffset:100;transition:stroke-dashoffset .5s ease}.stats-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff1a,#007bff0d);border:1px solid rgba(0,123,255,.2);border-radius:12px;padding:1rem;transition:var(--transition)}.stats-card[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#007bff26,#007bff14);border-color:#007bff4d;transform:translateY(-2px)}.category-badge[_ngcontent-%COMP%]{padding:.5em .75em;font-size:.85rem;font-weight:500;border-radius:.5rem;display:inline-flex;align-items:center;transition:all .2s ease;cursor:pointer}.category-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #0003}.category-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.25rem}.category-badge[_ngcontent-%COMP%]{position:relative;overflow:hidden}.category-badge[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}.category-badge[_ngcontent-%COMP%]:hover:before{left:100%}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out}.slide-in-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .3s ease-out}.counter-prediction-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.counter-prediction-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.counter-prediction-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.counter-prediction-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.counter-prediction-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}@media (max-width: 768px){.bingo-grid[_ngcontent-%COMP%]{max-width:280px;padding:.5rem}.bingo-cell[_ngcontent-%COMP%]{min-height:60px;padding:.25rem}.counter-prediction-card[_ngcontent-%COMP%]{margin-bottom:1rem}.table-responsive[_ngcontent-%COMP%]{font-size:.875rem}.author-info[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:.5rem}}@media (max-width: 576px){.bingo-grid[_ngcontent-%COMP%]{max-width:250px}.bingo-cell[_ngcontent-%COMP%]{min-height:50px;padding:.125rem}.very-small[_ngcontent-%COMP%]{font-size:.6rem}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem}}.very-small[_ngcontent-%COMP%]{font-size:.7rem;line-height:1.2}.text-shadow[_ngcontent-%COMP%]{text-shadow:0 1px 2px rgba(0,0,0,.3)}.scroll-indicator[_ngcontent-%COMP%]{position:sticky;top:0;background:linear-gradient(90deg,var(--primary-color),#0056b3);color:#fff;padding:.5rem 1rem;margin:-1rem -1rem 1rem;z-index:10;border-radius:0 0 var(--border-radius) var(--border-radius)}.loading-shimmer[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.loading-shimmer.dark[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2a2a2a 25%,#3a3a3a,#2a2a2a 75%);background-size:200% 100%}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.card-glow[_ngcontent-%COMP%]{position:relative;overflow:hidden}.card-glow[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);transform:translate(-100%);transition:transform .6s ease}.card-glow[_ngcontent-%COMP%]:hover:after{transform:translate(100%)}.focusable[_ngcontent-%COMP%]:focus{outline:2px solid var(--primary-color);outline-offset:2px;border-radius:var(--border-radius)}@media (prefers-contrast: high){.bingo-cell[_ngcontent-%COMP%], .team-display[_ngcontent-%COMP%], .counter-prediction-card[_ngcontent-%COMP%]{border-width:2px;border-style:solid}.badge[_ngcontent-%COMP%]{border:1px solid currentColor}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}@media print{.counter-prediction-card[_ngcontent-%COMP%], .stats-card[_ngcontent-%COMP%]{break-inside:avoid;margin-bottom:1rem}.bingo-grid[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact;print-color-adjust:exact}.badge[_ngcontent-%COMP%]{border:1px solid #000}}.comparison-match[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a74533,#28a7451a)!important;border:2px solid #28a745!important;box-shadow:0 0 8px #28a7454d;position:relative}.comparison-mismatch[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc354533,#dc35451a)!important;border:2px solid #dc3545!important;box-shadow:0 0 8px #dc35454d;position:relative}.comparison-neutral[_ngcontent-%COMP%]{background:#6c757d1a;border:2px solid rgba(108,117,125,.3)}.comparison-match[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;background:linear-gradient(45deg,#28a745,#20c997);border-radius:inherit;z-index:-1;opacity:.3}.comparison-mismatch[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;background:linear-gradient(45deg,#dc3545,#e74c3c);border-radius:inherit;z-index:-1;opacity:.3}.comparison-match[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#28a7454d,#28a74533)!important;transform:scale(1.02);box-shadow:0 2px 12px #28a74566}.comparison-mismatch[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#dc35454d,#dc354533)!important;transform:scale(1.02);box-shadow:0 2px 12px #dc354566}.badge.bg-orange[_ngcontent-%COMP%]{background-color:#fd7e14!important;color:#fff!important}.bingo-cell.comparison-match[_ngcontent-%COMP%]{border-color:#28a745!important;background:linear-gradient(135deg,#28a74540,#28a74526)!important;box-shadow:0 0 10px #28a74566}.bingo-cell.comparison-mismatch[_ngcontent-%COMP%]{border-color:#dc3545!important;background:linear-gradient(135deg,#dc354540,#dc354526)!important;box-shadow:0 0 10px #dc354566}.table[_ngcontent-%COMP%]   td.comparison-match[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a74526,#28a7450d)!important;border-color:#28a745!important}.table[_ngcontent-%COMP%]   td.comparison-mismatch[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc354526,#dc35450d)!important;border-color:#dc3545!important}@keyframes _ngcontent-%COMP%_match-pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_mismatch-shake{0%,to{transform:translate(0)}25%{transform:translate(-2px)}75%{transform:translate(2px)}}.fa-check-circle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_match-pulse 2s infinite ease-in-out}.fa-times-circle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_mismatch-shake 3s infinite ease-in-out}.card-header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:0}.card-header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]{padding:2px 4px}.badge[class*=bg-][_ngcontent-%COMP%]:not(.bg-primary):not(.bg-secondary){position:relative;overflow:hidden}.badge.bg-success[_ngcontent-%COMP%]{background:linear-gradient(45deg,#28a745,#20c997)!important}.badge.bg-warning[_ngcontent-%COMP%]{background:linear-gradient(45deg,#ffc107,#fd7e14)!important}.badge.bg-orange[_ngcontent-%COMP%]{background:linear-gradient(45deg,#fd7e14,#dc3545)!important}.badge.bg-danger[_ngcontent-%COMP%]{background:linear-gradient(45deg,#dc3545,#c82333)!important}[title][_ngcontent-%COMP%]{cursor:help;position:relative}.accuracy-indicator[_ngcontent-%COMP%]{width:100%;height:4px;background:#fff3;border-radius:2px;overflow:hidden;margin-top:5px}.accuracy-progress[_ngcontent-%COMP%]{height:100%;border-radius:2px;transition:width .5s ease}.accuracy-progress.excellent[_ngcontent-%COMP%]{background:linear-gradient(90deg,#28a745,#20c997)}.accuracy-progress.good[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ffc107,#fd7e14)}.accuracy-progress.poor[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fd7e14,#dc3545)}.accuracy-progress.very-poor[_ngcontent-%COMP%]{background:linear-gradient(90deg,#dc3545,#c82333)}.counter-prediction-card[_ngcontent-%COMP%]{transition:all .3s ease;position:relative}.counter-prediction-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #007bff33}.counter-prediction-card.high-accuracy[_ngcontent-%COMP%]{border-color:#28a745!important;box-shadow:0 0 15px #28a7454d}.counter-prediction-card.low-accuracy[_ngcontent-%COMP%]{border-color:#dc3545!important;box-shadow:0 0 15px #dc35454d}.comparison-legend[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:15px;padding:10px;background:#ffffff0d;border-radius:8px;font-size:.875rem}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:2px}.legend-match[_ngcontent-%COMP%]{background:#28a745}.legend-mismatch[_ngcontent-%COMP%]{background:#dc3545}.legend-neutral[_ngcontent-%COMP%]{background:#6c757d}@media (max-width: 768px){.comparison-match[_ngcontent-%COMP%], .comparison-mismatch[_ngcontent-%COMP%]{border-width:1px!important}.fa-check-circle[_ngcontent-%COMP%], .fa-times-circle[_ngcontent-%COMP%]{font-size:10px!important}.comparison-legend[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.card-header[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]{margin-bottom:5px}}.table-dark[_ngcontent-%COMP%]   .comparison-match[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a74533,#28a7451a)!important}.table-dark[_ngcontent-%COMP%]   .comparison-mismatch[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc354533,#dc35451a)!important}.comparison-match[_ngcontent-%COMP%], .comparison-mismatch[_ngcontent-%COMP%], .comparison-neutral[_ngcontent-%COMP%]{will-change:transform,box-shadow}@media (prefers-reduced-motion: reduce){.fa-check-circle[_ngcontent-%COMP%], .fa-times-circle[_ngcontent-%COMP%]{animation:none!important}.comparison-match[_ngcontent-%COMP%]:hover, .comparison-mismatch[_ngcontent-%COMP%]:hover{transform:none}}@media (prefers-contrast: high){.comparison-match[_ngcontent-%COMP%]{border-width:3px!important;border-color:#0f0!important}.comparison-mismatch[_ngcontent-%COMP%]{border-width:3px!important;border-color:red!important}}']})};function B6(n,t){if(n&1&&(a(0,"option",53),u(1),l()),n&2){let e=t.$implicit;f("value",e.id),c(),x(" ",e.name," ")}}function U6(n,t){if(n&1&&(a(0,"optgroup",51),y(1,B6,2,2,"option",52),l()),n&2){let e=h();c(),f("ngForOf",e.rootCategories)}}function j6(n,t){if(n&1&&(a(0,"option",53),u(1),l()),n&2){let e=t.$implicit;f("value",e.id),c(),q(" ",e.parentName," \u2192 ",e.name," ")}}function $6(n,t){if(n&1&&(a(0,"optgroup",54),y(1,j6,2,3,"option",52),l()),n&2){let e=h();c(),f("ngForOf",e.allSubcategories)}}function H6(n,t){if(n&1){let e=P();a(0,"span",62),g(1,"i",63),u(2),a(3,"button",64),b("click",function(){w(e);let r=h(2);return T(r.clearSearch())}),g(4,"i",65),l()()}if(n&2){let e=h(2);c(2),x(' Search: "',e.searchTerm,'" ')}}function z6(n,t){if(n&1){let e=P();a(0,"span",66),g(1,"i",67),u(2),a(3,"button",64),b("click",function(){w(e);let r=h(2);return T(r.clearCategoryFilter())}),g(4,"i",65),l()()}if(n&2){let e=h(2);c(2),x(" Category: ",e.getCategoryName(e.selectedCategoryId)," ")}}function q6(n,t){if(n&1){let e=P();a(0,"span",68),g(1,"i",69),u(2),a(3,"button",70),b("click",function(){w(e);let r=h(2);return T(r.clearTypeFilter())}),g(4,"i",65),l()()}if(n&2){let e=h(2);c(2),x(" Type: ",e.selectedType," ")}}function G6(n,t){if(n&1){let e=P();a(0,"span",71),g(1,"i",72),u(2),a(3,"button",64),b("click",function(){w(e);let r=h(2);return T(r.clearSortFilter())}),g(4,"i",65),l()()}if(n&2){let e=h(2);c(2),x(" Sort: ",e.getSortDisplayName()," ")}}function W6(n,t){if(n&1&&(a(0,"div",55)(1,"div",56)(2,"small",57),u(3,"Active filters:"),l(),y(4,H6,5,1,"span",58)(5,z6,5,1,"span",59)(6,q6,5,1,"span",60)(7,G6,5,1,"span",61),l()()),n&2){let e=h();c(4),f("ngIf",e.searchTerm),c(),f("ngIf",e.selectedCategoryId),c(),f("ngIf",e.selectedType),c(),f("ngIf",e.sortBy!=="newest")}}function Y6(n,t){if(n&1&&(a(0,"span"),u(1),l()),n&2){let e=h(2);c(),q(" Showing ",e.getDisplayRange()," of ",e.pagination.totalItems," predictions ")}}function Z6(n,t){if(n&1&&(a(0,"span"),u(1),a(2,"span",81),u(3),l()()),n&2){let e=h(2);c(),q(" Showing ",e.getDisplayRange()," of ",e.pagination.totalItems," filtered predictions "),c(2),x("(",e.allPosts.length," total)")}}function Q6(n,t){if(n&1){let e=P();a(0,"div",73)(1,"div",14),y(2,Y6,2,2,"span",74)(3,Z6,4,3,"span",74),l(),a(4,"div",75)(5,"select",76),je("ngModelChange",function(r){w(e);let o=h();return We(o.pagination.pageSize,r)||(o.pagination.pageSize=r),T(r)}),b("change",function(){w(e);let r=h();return T(r.onPageSizeChange())}),a(6,"option",77),u(7,"5 per page"),l(),a(8,"option",78),u(9,"10 per page"),l(),a(10,"option",79),u(11,"20 per page"),l(),a(12,"option",80),u(13,"50 per page"),l()()()()}if(n&2){let e=h();c(2),f("ngIf",!e.hasActiveFilters()),c(),f("ngIf",e.hasActiveFilters()),c(2),Ue("ngModel",e.pagination.pageSize)}}function K6(n,t){if(n&1){let e=P();a(0,"li",85)(1,"button",92),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.goToPage(r))}),u(2),l()()}if(n&2){let e=t.$implicit,i=h(2);M("active",e===i.pagination.currentPage),c(),M("bg-primary",e===i.pagination.currentPage)("bg-dark",e!==i.pagination.currentPage)("text-white",!0)("border-secondary",e!==i.pagination.currentPage)("border-primary",e===i.pagination.currentPage),c(),x(" ",e," ")}}function J6(n,t){if(n&1){let e=P();a(0,"div",82)(1,"nav",83)(2,"ul",84)(3,"li",85)(4,"button",86),b("click",function(){w(e);let r=h();return T(r.goToPage(1))}),g(5,"i",87),l()(),a(6,"li",85)(7,"button",86),b("click",function(){w(e);let r=h();return T(r.goToPage(r.pagination.currentPage-1))}),g(8,"i",88),l()(),y(9,K6,3,13,"li",89),a(10,"li",85)(11,"button",86),b("click",function(){w(e);let r=h();return T(r.goToPage(r.pagination.currentPage+1))}),g(12,"i",90),l()(),a(13,"li",85)(14,"button",86),b("click",function(){w(e);let r=h();return T(r.goToPage(r.pagination.totalPages))}),g(15,"i",91),l()()()()()}if(n&2){let e=h();c(3),M("disabled",!e.pagination.hasPrevious),c(),f("disabled",!e.pagination.hasPrevious),c(2),M("disabled",!e.pagination.hasPrevious),c(),f("disabled",!e.pagination.hasPrevious),c(2),f("ngForOf",e.getVisiblePages()),c(),M("disabled",!e.pagination.hasNext),c(),f("disabled",!e.pagination.hasNext),c(2),M("disabled",!e.pagination.hasNext),c(),f("disabled",!e.pagination.hasNext)}}function X6(n,t){if(n&1){let e=P();a(0,"li")(1,"button",108),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.counterPredict(r.id))}),g(2,"i",8),u(3,"Counter Predict "),l()()}}function e8(n,t){if(n&1){let e=P();a(0,"li")(1,"button",108),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.viewMyResponse(r.id))}),g(2,"i",109),u(3,"View My Response "),l()()}}function t8(n,t){if(n&1){let e=P();a(0,"li")(1,"button",108),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.viewResponses(r.id))}),g(2,"i",136),u(3),l()()}if(n&2){let e=h().$implicit;c(3),x("View All ",e.counterPredictionsCount," Responses ")}}function n8(n,t){if(n&1&&g(0,"img",137),n&2){let e=h().$implicit;f("src",e.author.photoUrl,te)}}function i8(n,t){n&1&&(a(0,"div",138),g(1,"i",139),l())}function r8(n,t){if(n&1&&(a(0,"div",140),u(1),l()),n&2){let e=h().$implicit,i=h(2);c(),x(" ",i.getResponseStatus(e)," ")}}function o8(n,t){if(n&1&&g(0,"i",147),n&2){let e=h().$implicit,i=h(4);De(i.getFullIconClass(e.iconName))}}function s8(n,t){if(n&1){let e=P();a(0,"span",145),b("click",function(){let r=w(e).$implicit,o=h(4);return T(o.filterByCategory(r.id))}),y(1,o8,1,2,"i",146),u(2),l()}if(n&2){let e=t.$implicit;oe("background-color",e.colorCode||"#6c757d"),c(),f("ngIf",e.iconName),c(),x(" ",e.name," ")}}function a8(n,t){if(n&1&&(a(0,"span",148),u(1),l()),n&2){let e=h(2).$implicit;c(),x(" +",e.categories.length-3," more ")}}function l8(n,t){if(n&1&&(a(0,"div",141)(1,"div",142),y(2,s8,3,4,"span",143)(3,a8,2,1,"span",144),l()()),n&2){let e=h().$implicit;c(2),f("ngForOf",e.categories.slice(0,3)),c(),f("ngIf",e.categories.length>3)}}function c8(n,t){if(n&1&&(a(0,"div",127),g(1,"i",149),u(2),l()),n&2){let e=h().$implicit,i=h(2);c(2),x(" Ends: ",i.formatDate(e.endDate)," ")}}function d8(n,t){n&1&&(a(0,"div",127),g(1,"i",150),u(2," No end date "),l())}function u8(n,t){if(n&1){let e=P();a(0,"button",151),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.counterPredict(r.id))}),g(1,"i",152),u(2,"Counter Predict "),l()}if(n&2){let e=h().$implicit;f("title","Create your own prediction for this "+e.predictionType.toLowerCase())}}function p8(n,t){if(n&1){let e=P();a(0,"button",153),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.viewMyResponse(r.id))}),g(1,"i",130),u(2,"My Response "),l()}n&2&&f("title","View your counter prediction")}function f8(n,t){n&1&&(a(0,"span",154),g(1,"i",155),u(2,"Responded "),l()),n&2&&f("title","You have already created a counter prediction")}function m8(n,t){n&1&&(a(0,"span",154),g(1,"i",156),u(2,"Your Post "),l()),n&2&&f("title","This is your own prediction")}function h8(n,t){if(n&1){let e=P();a(0,"button",157),b("click",function(){w(e);let r=h().$implicit,o=h(2);return T(o.viewResponses(r.id))}),g(1,"i",120),u(2),l()}if(n&2){let e=h().$implicit;f("title","View all "+e.counterPredictionsCount+" counter predictions"),c(2),q(" ",e.counterPredictionsCount," ",e.counterPredictionsCount===1?"Response":"Responses"," ")}}function g8(n,t){if(n&1){let e=P();a(0,"div",95)(1,"div",96)(2,"div",97)(3,"div",98)(4,"div")(5,"h6",99),u(6),l(),a(7,"div",75),g(8,"i",100),a(9,"span",101),u(10),l(),a(11,"span",102),u(12,"Active"),l(),a(13,"span",103),u(14,"Public"),l()()(),a(15,"div",104)(16,"button",105),g(17,"i",106),l(),a(18,"ul",107)(19,"li")(20,"button",108),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.viewPrediction(r.id))}),g(21,"i",109),u(22,"View Details "),l()(),y(23,X6,4,0,"li",74)(24,e8,4,0,"li",74)(25,t8,4,1,"li",74),a(26,"li"),g(27,"hr",110),l(),a(28,"li")(29,"button",108),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.sharePost(r.id))}),g(30,"i",111),u(31,"Share "),l()()()()()(),a(32,"div",25)(33,"div",112),y(34,n8,1,1,"img",113)(35,i8,2,0,"div",114),a(36,"div",115)(37,"div",116),u(38),l(),a(39,"div",117),u(40),l()(),a(41,"div",118)(42,"div",119)(43,"div",62),g(44,"i",120),u(45),l(),y(46,r8,2,1,"div",121),l()()(),a(47,"p",122),u(48),et(49,"slice"),l(),y(50,l8,4,2,"div",123),a(51,"div",93)(52,"div",124),y(53,c8,3,1,"div",125)(54,d8,3,0,"div",125),l(),a(55,"div",126)(56,"div",127),u(57),l()()()(),a(58,"div",128)(59,"div",3)(60,"button",129),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.viewPrediction(r.id))}),g(61,"i",130),u(62,"View Details "),l(),a(63,"div",131),y(64,u8,3,1,"button",132)(65,p8,3,1,"button",133)(66,f8,3,1,"span",134)(67,m8,3,1,"span",134)(68,h8,3,3,"button",135),l()()()()()}if(n&2){let e=t.$implicit,i=h(2);c(6),k(e.title),c(2),De(i.getPredictionTypeIcon(e.predictionType)),c(2),k(e.predictionType),c(6),f("id","dropdown-"+e.id),c(7),f("ngIf",i.canUserCounterPredict(e)),c(),f("ngIf",i.userHasCounterPredicted(e)),c(),f("ngIf",e.counterPredictionsCount>0),c(9),f("ngIf",e.author.photoUrl),c(),f("ngIf",!e.author.photoUrl),c(3),k(e.author.displayName),c(2),k(i.formatDate(e.createdAt)),c(5),q(" ",e.counterPredictionsCount," ",e.counterPredictionsCount===1?"Response":"Responses"," "),c(),f("ngIf",e.counterPredictionsCount>0),c(2),q(" ",gn(49,26,e.description,0,120),"",e.description.length>120?"...":""," "),c(2),f("ngIf",e.categories.length>0),c(3),f("ngIf",e.endDate),c(),f("ngIf",!e.endDate),c(3),x(" ",i.getDaysUntilEnd(e.endDate)," "),c(7),f("ngIf",i.canUserCounterPredict(e)),c(),f("ngIf",i.userHasCounterPredicted(e)),c(),f("ngIf",i.userHasCounterPredicted(e)&&!i.canUserCounterPredict(e)),c(),f("ngIf",i.isOwnPost(e)),c(),f("ngIf",e.counterPredictionsCount>0)}}function v8(n,t){if(n&1&&(a(0,"div",93),y(1,g8,69,30,"div",94),l()),n&2){let e=h();c(),f("ngForOf",e.paginatedPosts)}}function _8(n,t){if(n&1){let e=P();a(0,"li",85)(1,"button",92),b("click",function(){let r=w(e).$implicit,o=h(2);return T(o.goToPage(r))}),u(2),l()()}if(n&2){let e=t.$implicit,i=h(2);M("active",e===i.pagination.currentPage),c(),M("bg-primary",e===i.pagination.currentPage)("bg-dark",e!==i.pagination.currentPage)("text-white",!0)("border-secondary",e!==i.pagination.currentPage)("border-primary",e===i.pagination.currentPage),c(),x(" ",e," ")}}function y8(n,t){if(n&1){let e=P();a(0,"div",82)(1,"nav",83)(2,"ul",158)(3,"li",85)(4,"button",86),b("click",function(){w(e);let r=h();return T(r.goToPage(1))}),g(5,"i",87),u(6," First "),l()(),a(7,"li",85)(8,"button",86),b("click",function(){w(e);let r=h();return T(r.goToPage(r.pagination.currentPage-1))}),g(9,"i",88),u(10," Previous "),l()(),y(11,_8,3,13,"li",89),a(12,"li",85)(13,"button",86),b("click",function(){w(e);let r=h();return T(r.goToPage(r.pagination.currentPage+1))}),u(14," Next "),g(15,"i",90),l()(),a(16,"li",85)(17,"button",86),b("click",function(){w(e);let r=h();return T(r.goToPage(r.pagination.totalPages))}),u(18," Last "),g(19,"i",91),l()()()()()}if(n&2){let e=h();c(3),M("disabled",!e.pagination.hasPrevious),c(),f("disabled",!e.pagination.hasPrevious),c(3),M("disabled",!e.pagination.hasPrevious),c(),f("disabled",!e.pagination.hasPrevious),c(3),f("ngForOf",e.getVisiblePages()),c(),M("disabled",!e.pagination.hasNext),c(),f("disabled",!e.pagination.hasNext),c(3),M("disabled",!e.pagination.hasNext),c(),f("disabled",!e.pagination.hasNext)}}function b8(n,t){n&1&&(a(0,"div",159)(1,"div",160)(2,"span",161),u(3,"Loading..."),l()(),a(4,"p",162),u(5,"Loading published predictions..."),l()())}function C8(n,t){n&1&&(a(0,"span"),u(1,"No predictions match your filters"),l())}function x8(n,t){n&1&&(a(0,"span"),u(1,"No Active Predictions Found"),l())}function w8(n,t){n&1&&(a(0,"span"),u(1,"Try adjusting your search filters or"),l())}function T8(n,t){n&1&&(a(0,"span"),u(1,"Be the first to create and publish a prediction for others to counter-predict!"),l())}function S8(n,t){if(n&1){let e=P();a(0,"button",166),b("click",function(){w(e);let r=h(2);return T(r.clearFilters())}),g(1,"i",45),u(2,"Clear Filters "),l()}}function E8(n,t){if(n&1&&(a(0,"div",159),g(1,"i",163),a(2,"h5",81),y(3,C8,2,0,"span",74)(4,x8,2,0,"span",74),l(),a(5,"p",81),y(6,w8,2,0,"span",74)(7,T8,2,0,"span",74),l(),y(8,S8,3,0,"button",164),a(9,"button",165),g(10,"i",152),u(11,"Create Prediction "),l()()),n&2){let e=h();c(3),f("ngIf",e.hasActiveFilters()),c(),f("ngIf",!e.hasActiveFilters()),c(2),f("ngIf",e.hasActiveFilters()),c(),f("ngIf",!e.hasActiveFilters()),c(),f("ngIf",e.hasActiveFilters())}}var ku=class n{router=E(J);route=E(Ne);http=E(ve);toastr=E(re);accountService=E(pe);categoryService=E(ui);allPosts=[];filteredPosts=[];paginatedPosts=[];isLoading=!1;pagination={currentPage:1,pageSize:10,totalItems:0,totalPages:0,hasNext:!1,hasPrevious:!1};rootCategories=[];allSubcategories=[];searchTerm="";selectedType="";selectedCategoryId="";sortBy="mostResponses";searchTimeout;get totalCounterPredictions(){return this.allPosts.reduce((t,e)=>t+e.counterPredictionsCount,0)}ngOnInit(){this.loadCategories(),this.checkRouteParams(),this.loadPublishedPosts()}checkRouteParams(){this.route.queryParams.subscribe(t=>{t.category&&(this.selectedCategoryId=+t.category),t.type&&(this.selectedType=t.type),t.search&&(this.searchTerm=t.search),t.page&&(this.pagination.currentPage=+t.page),t.size&&(this.pagination.pageSize=+t.size)})}loadCategories(){this.categoryService.getCategories(),setTimeout(()=>{this.rootCategories=this.categoryService.rootCategories(),this.buildSubcategoriesList()},100)}buildSubcategoriesList(){this.allSubcategories=[],this.rootCategories.forEach(t=>{t.subCategories&&t.subCategories.length>0&&t.subCategories.forEach(e=>{this.allSubcategories.push({id:e.id,name:e.name,parentName:t.name})})})}loadPublishedPosts(){return U(this,null,function*(){this.isLoading=!0;try{console.log("=== Loading Published Posts ===");let t=yield this.http.get(`${Q.apiUrl}post/published`).toPromise();t&&Array.isArray(t)?(this.allPosts=t.map(e=>({id:e.id,title:e.title||"Untitled",description:e.description||"",predictionType:this.getPredictionTypeDisplayName(e.predictionType),createdAt:this.parseDate(e.createdAt)||new Date,endDate:this.parseDate(e.endDate),author:{id:e.author?.id||0,displayName:e.author?.displayName||"Unknown Author",photoUrl:e.author?.photoUrl},categories:e.categories||[],counterPredictionsCount:e.counterPredictionsCount||0,canCounterPredict:e.canCounterPredict!==!1,isActive:e.isActive!==!1,isDraft:e.isDraft===!0,privacyType:e.privacyType||"Public",notes:e.notes||"",userId:e.userId||e.author?.id||0})),console.log("Processed published posts:",this.allPosts),this.applyFiltersAndPagination(),this.allPosts.length==0&&this.toastr.info("No published predictions found")):(this.allPosts=[],this.applyFiltersAndPagination(),this.toastr.warning("No published predictions available"))}catch(t){console.error("Error loading published posts:",t),this.toastr.error("Failed to load published predictions"),this.allPosts=[],this.applyFiltersAndPagination()}finally{this.isLoading=!1}})}getSafeIconClass(t){if(!t)return"fa-tag";let e=t.replace("fa-","").toLowerCase().trim();if(!e)return"fa-tag";let i={sports:"fa-trophy",sport:"fa-trophy",soccer:"fa-futbol-o",football:"fa-shield","american-football":"fa-shield",americanfootball:"fa-shield",nfl:"fa-shield",rugby:"fa-shield",gridiron:"fa-shield",basketball:"fa-basketball-ball",baseball:"fa-baseball",tennis:"fa-trophy",golf:"fa-trophy",hockey:"fa-hockey-puck",racing:"fa-car",olympics:"fa-trophy",championship:"fa-trophy",league:"fa-trophy",premier:"fa-trophy",competition:"fa-trophy",music:"fa-music",movies:"fa-film",tv:"fa-tv",entertainment:"fa-film",gaming:"fa-gamepad",esports:"fa-gamepad",game:"fa-gamepad",bingo:"fa-th",games:"fa-gamepad",technology:"fa-laptop",tech:"fa-laptop",software:"fa-code",mobile:"fa-mobile",computer:"fa-laptop",business:"fa-briefcase",finance:"fa-money",economy:"fa-line-chart",stocks:"fa-line-chart",education:"fa-graduation-cap",school:"fa-graduation-cap",university:"fa-university",science:"fa-flask",books:"fa-book",travel:"fa-plane",tourism:"fa-plane",geography:"fa-globe",world:"fa-globe",health:"fa-heart",medicine:"fa-medkit",fitness:"fa-heart",news:"fa-newspaper-o",politics:"fa-institution",government:"fa-institution",food:"fa-cutlery",cooking:"fa-cutlery",lifestyle:"fa-home",home:"fa-home",default:"fa-tag",category:"fa-tag",tag:"fa-tag",tags:"fa-tags"};if(i[e])return i[e];for(let[d,p]of Object.entries(i))if(e.includes(d)||d.includes(e))return p;let r=["fa-trophy","fa-futbol-o","fa-basketball-ball","fa-baseball","fa-music","fa-film","fa-tv","fa-gamepad","fa-laptop","fa-mobile","fa-book","fa-graduation-cap","fa-university","fa-flask","fa-briefcase","fa-money","fa-line-chart","fa-globe","fa-plane","fa-heart","fa-medkit","fa-newspaper-o","fa-institution","fa-cutlery","fa-home","fa-users","fa-tag","fa-tags","fa-star","fa-cog","fa-camera","fa-car","fa-th","fa-list-ol","fa-sitemap","fa-check","fa-times","fa-plus","fa-minus","fa-edit","fa-trash","fa-search","fa-filter","fa-sort"],o=t.startsWith("fa-")?t:`fa-${t}`;if(r.includes(o))return o;let s=`fa-${e}`;return r.includes(s)?s:"fa-tag"}getFullIconClass(t){let e=this.getSafeIconClass(t);return e.startsWith("fa ")?e:`fa ${e}`}getPredictionTypeIcon(t){switch(t){case"Ranking":return"fa fa-list-ol";case"Bracket":return"fa fa-sitemap";case"Bingo":return"fa fa-th";default:return"fa fa-question"}}goToPage(t){t<1||t>this.pagination.totalPages||(this.pagination.currentPage=t,this.updateUrlParams(),this.applyPagination(),window.scrollTo({top:0,behavior:"smooth"}))}onPageSizeChange(){this.pagination.currentPage=1,this.updateUrlParams(),this.applyFiltersAndPagination()}getVisiblePages(){let t=this.pagination.totalPages,e=this.pagination.currentPage,i=[];if(t<=7)for(let r=1;r<=t;r++)i.push(r);else{i.push(1),e>4&&i.push(-1);let r=Math.max(2,e-1),o=Math.min(t-1,e+1);for(let s=r;s<=o;s++)i.push(s);e<t-3&&i.push(-1),t>1&&i.push(t)}return i.filter(r=>r!==-1)}getDisplayRange(){if(this.pagination.totalItems===0)return"0";let t=(this.pagination.currentPage-1)*this.pagination.pageSize+1,e=Math.min(this.pagination.currentPage*this.pagination.pageSize,this.pagination.totalItems);return`${t}-${e}`}updatePaginationInfo(){this.pagination.totalItems=this.filteredPosts.length,this.pagination.totalPages=Math.ceil(this.pagination.totalItems/this.pagination.pageSize),this.pagination.hasNext=this.pagination.currentPage<this.pagination.totalPages,this.pagination.hasPrevious=this.pagination.currentPage>1,this.pagination.currentPage>this.pagination.totalPages&&this.pagination.totalPages>0&&(this.pagination.currentPage=this.pagination.totalPages),this.pagination.currentPage<1&&(this.pagination.currentPage=1)}applyPagination(){this.updatePaginationInfo();let t=(this.pagination.currentPage-1)*this.pagination.pageSize,e=t+this.pagination.pageSize;this.paginatedPosts=this.filteredPosts.slice(t,e)}applyFiltersAndPagination(){this.applyFilters(),this.applyPagination()}canUserCounterPredict(t){return!(!this.accountService.currentUser()||this.isOwnPost(t)||!t.isActive||t.isDraft||this.userHasCounterPredicted(t))}userHasCounterPredicted(t){return!1}isOwnPost(t){let e=this.accountService.currentUser();return e?t.userId===e.id:!1}getResponseStatus(t){return t.counterPredictionsCount===0?"No responses yet":t.counterPredictionsCount===1?"1 person responded":t.counterPredictionsCount<5?`${t.counterPredictionsCount} people responded`:`${t.counterPredictionsCount} responses`}viewPrediction(t){this.router.navigate(["/prediction-details",t])}counterPredict(t){this.router.navigate(["/prediction-details",t],{queryParams:{action:"counter-predict"}})}viewResponses(t){this.router.navigate(["/prediction-details",t],{fragment:"counter-predictions"})}viewMyResponse(t){this.router.navigate(["/prediction-details",t],{fragment:"my-response"})}sharePost(t){let e=`${window.location.origin}/prediction-details/${t}`;navigator.share?navigator.share({title:"Check out this prediction!",url:e}).catch(console.error):navigator.clipboard.writeText(e).then(()=>{this.toastr.success("Link copied to clipboard!")}).catch(()=>{this.toastr.error("Failed to copy link")})}filterByCategory(t){this.selectedCategoryId=t,this.pagination.currentPage=1,this.updateUrlParams(),this.applyFiltersAndPagination();let e=this.getCategoryName(t);this.toastr.info(`Filtering by category: ${e}`)}onSearchChange(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.pagination.currentPage=1,this.updateUrlParams(),this.applyFiltersAndPagination()},300)}onFilterChange(){this.pagination.currentPage=1,this.updateUrlParams(),this.applyFiltersAndPagination()}clearFilters(){this.searchTerm="",this.selectedType="",this.selectedCategoryId="",this.sortBy="mostResponses",this.pagination.currentPage=1,this.updateUrlParams(),this.applyFiltersAndPagination()}clearSearch(){this.searchTerm="",this.pagination.currentPage=1,this.updateUrlParams(),this.applyFiltersAndPagination()}clearCategoryFilter(){this.selectedCategoryId="",this.pagination.currentPage=1,this.updateUrlParams(),this.applyFiltersAndPagination()}clearTypeFilter(){this.selectedType="",this.pagination.currentPage=1,this.updateUrlParams(),this.applyFiltersAndPagination()}clearSortFilter(){this.sortBy="newest",this.pagination.currentPage=1,this.updateUrlParams(),this.applyFiltersAndPagination()}getSortDisplayName(){switch(this.sortBy){case"oldest":return"Oldest First";case"mostResponses":return"Most Responses";case"endingSoon":return"Ending Soon";case"alphabetical":return"A-Z";case"newest":default:return"Newest First"}}updateUrlParams(){let t={};this.searchTerm&&(t.search=this.searchTerm),this.selectedCategoryId&&(t.category=this.selectedCategoryId),this.selectedType&&(t.type=this.selectedType),this.sortBy&&this.sortBy!=="newest"&&(t.sort=this.sortBy),this.pagination.currentPage>1&&(t.page=this.pagination.currentPage),this.pagination.pageSize!==10&&(t.size=this.pagination.pageSize),this.router.navigate([],{relativeTo:this.route,queryParams:t,queryParamsHandling:"merge"})}applyFilters(){let t=[...this.allPosts];if(this.searchTerm&&this.searchTerm.trim()!==""){let e=this.searchTerm.toLowerCase().trim();t=t.filter(i=>i.title.toLowerCase().includes(e)||i.description.toLowerCase().includes(e)||i.author.displayName.toLowerCase().includes(e))}if(this.selectedCategoryId&&this.selectedCategoryId!==""){let e=typeof this.selectedCategoryId=="string"?parseInt(this.selectedCategoryId):this.selectedCategoryId;t=t.filter(i=>i.categories.some(r=>r.id===e))}switch(this.selectedType&&this.selectedType!==""&&(t=t.filter(e=>e.predictionType===this.selectedType)),this.sortBy){case"oldest":t.sort((e,i)=>e.createdAt.getTime()-i.createdAt.getTime());break;case"mostResponses":t.sort((e,i)=>i.counterPredictionsCount-e.counterPredictionsCount);break;case"endingSoon":t=t.filter(e=>e.endDate).sort((e,i)=>!e.endDate||!i.endDate?0:e.endDate.getTime()-i.endDate.getTime());break;case"alphabetical":t.sort((e,i)=>e.title.localeCompare(i.title));break;case"newest":default:t.sort((e,i)=>i.createdAt.getTime()-e.createdAt.getTime());break}this.filteredPosts=t}hasActiveFilters(){return!!(this.searchTerm&&this.searchTerm.trim()!==""||this.selectedCategoryId&&this.selectedCategoryId!==""||this.selectedType&&this.selectedType!==""||this.sortBy&&this.sortBy!=="newest")}getCategoryName(t){if(!t)return"";let e=typeof t=="string"?parseInt(t):t,i=this.rootCategories.find(o=>o.id===e);if(i)return i.name;let r=this.allSubcategories.find(o=>o.id===e);return r?`${r.parentName} \u2192 ${r.name}`:"Unknown Category"}getRankingCount(){return this.allPosts.filter(t=>t.predictionType==="Ranking").length}getBingoCount(){return this.allPosts.filter(t=>t.predictionType==="Bingo").length}getPredictionTypeDisplayName(t){if(typeof t=="string")return t;switch(t){case 0:case"0":return"Ranking";case 1:case"1":return"Bracket";case 2:case"2":return"Bingo";default:return"Unknown"}}parseDate(t){if(t)try{if(t instanceof Date)return new Date(t.getTime());if(typeof t=="string"){let e=t.trim();if(e==="0001-01-01T00:00:00"||e.startsWith("0001-01-01"))return;let i=new Date(e);if(!isNaN(i.getTime())&&i.getFullYear()>1900)return i}return}catch(e){console.error("Error parsing date:",t,e);return}}formatDate(t){if(!t||!(t instanceof Date)||isNaN(t.getTime()))return"Invalid Date";try{return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Date format error"}}getDaysUntilEnd(t){if(!t||!(t instanceof Date))return"";let e=new Date,i=t.getTime()-e.getTime(),r=Math.ceil(i/(1e3*60*60*24));return r<0?"Ended":r===0?"Ends today":r===1?"1 day left":r<=7?`${r} days left`:""}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-published-posts"]],decls:98,vars:18,consts:[[1,"container-fluid","mt-4"],[1,"card","bg-primary","border-primary","mb-4"],[1,"card-header","bg-primary","border-primary"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-light","mb-1"],[1,"fa","fa-globe","me-2"],[1,"text-light","mb-0","opacity-75"],["routerLink","/create-prediction",1,"btn","btn-outline-light"],[1,"fa","fa-plus","me-2"],[1,"row","mb-4"],[1,"col-md-3","mb-3"],[1,"card","bg-success","border-success"],[1,"card-body","text-center"],[1,"fa","fa-globe","fa-2x","text-light","mb-2"],[1,"text-light"],[1,"text-light","mb-0"],[1,"card","bg-info","border-info"],[1,"fa","fa-users","fa-2x","text-light","mb-2"],[1,"card","bg-warning","border-warning"],[1,"fa","fa-list-ol","fa-2x","text-dark","mb-2"],[1,"text-dark"],[1,"text-dark","mb-0"],[1,"card","bg-secondary","border-secondary"],[1,"fa","fa-th","fa-2x","text-light","mb-2"],[1,"card","bg-secondary","border-secondary","mb-4"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-3"],[1,"form-label","text-light"],["type","text","placeholder","Search predictions, authors...",1,"form-control","bg-dark","text-light","border-secondary",3,"ngModelChange","input","ngModel","value"],[1,"form-select","bg-dark","text-light","border-secondary",3,"ngModelChange","change","ngModel"],["value",""],["label","Main Categories",4,"ngIf"],["label","Subcategories",4,"ngIf"],[1,"col-md-2"],["value","Ranking"],["value","Bracket"],["value","Bingo"],["value","newest"],["value","oldest"],["value","mostResponses"],["value","endingSoon"],["value","alphabetical"],[1,"col-md-2","d-flex","align-items-end"],[1,"btn","btn-outline-light","w-100",3,"click"],[1,"fa","fa-times","me-1"],["class","mt-3",4,"ngIf"],["class","d-flex justify-content-between align-items-center mb-3",4,"ngIf"],["class","d-flex justify-content-center mb-4",4,"ngIf"],["class","row",4,"ngIf"],["class","text-center py-5",4,"ngIf"],["label","Main Categories"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["label","Subcategories"],[1,"mt-3"],[1,"d-flex","flex-wrap","gap-2","align-items-center"],[1,"text-light","opacity-75","me-2"],["class","badge bg-info d-flex align-items-center",4,"ngIf"],["class","badge bg-success d-flex align-items-center",4,"ngIf"],["class","badge bg-warning text-dark d-flex align-items-center",4,"ngIf"],["class","badge bg-secondary d-flex align-items-center",4,"ngIf"],[1,"badge","bg-info","d-flex","align-items-center"],[1,"fa","fa-search","me-1"],[1,"btn","btn-sm","ms-1","p-0",2,"background","none","border","none","color","white",3,"click"],[1,"fa","fa-times"],[1,"badge","bg-success","d-flex","align-items-center"],[1,"fa","fa-tag","me-1"],[1,"badge","bg-warning","text-dark","d-flex","align-items-center"],[1,"fa","fa-filter","me-1"],[1,"btn","btn-sm","ms-1","p-0",2,"background","none","border","none","color","black",3,"click"],[1,"badge","bg-secondary","d-flex","align-items-center"],[1,"fa","fa-sort","me-1"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[4,"ngIf"],[1,"d-flex","align-items-center","gap-2"],[1,"form-select","form-select-sm","bg-dark","text-light","border-secondary",2,"width","auto",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],[1,"text-muted"],[1,"d-flex","justify-content-center","mb-4"],["aria-label","Predictions pagination"],[1,"pagination","pagination-sm"],[1,"page-item"],[1,"page-link","bg-dark","text-light","border-secondary",3,"click","disabled"],[1,"fa","fa-angle-double-left"],[1,"fa","fa-angle-left"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"fa","fa-angle-right"],[1,"fa","fa-angle-double-right"],[1,"page-link",3,"click"],[1,"row"],["class","col-lg-6 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-6","mb-4"],[1,"card","bg-dark","border-dark","h-100","prediction-card"],[1,"card-header","bg-dark","border-dark"],[1,"d-flex","justify-content-between","align-items-start"],[1,"card-title","text-light","mb-1"],[1,"text-primary","me-1"],[1,"badge","bg-primary"],[1,"badge","bg-success"],[1,"badge","bg-info"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-sm","btn-outline-light","dropdown-toggle",3,"id"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"fa","fa-eye","me-2"],[1,"dropdown-divider"],[1,"fa","fa-share","me-2"],[1,"d-flex","align-items-center","mb-3"],["class","rounded-circle me-2","width","32","height","32","alt","Author",3,"src",4,"ngIf"],["class","bg-primary rounded-circle me-2 d-flex align-items-center justify-content-center","style","width: 32px; height: 32px;",4,"ngIf"],[1,"me-auto"],[1,"fw-bold","text-light","small"],[1,"text-muted","very-small"],[1,"text-end"],[1,"d-flex","flex-column","align-items-end","gap-1"],[1,"fa","fa-users","me-1"],["class","very-small text-muted",4,"ngIf"],[1,"card-text","text-light","small","mb-3"],["class","mb-3",4,"ngIf"],[1,"col-8"],["class","small text-muted",4,"ngIf"],[1,"col-4","text-end"],[1,"small","text-muted"],[1,"card-footer","bg-transparent","border-dark"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fa","fa-eye","me-1"],[1,"btn-group"],["class","btn btn-success btn-sm",3,"title","click",4,"ngIf"],["class","btn btn-info btn-sm",3,"title","click",4,"ngIf"],["class","btn btn-outline-secondary btn-sm disabled",3,"title",4,"ngIf"],["class","btn btn-outline-info btn-sm",3,"title","click",4,"ngIf"],[1,"fa","fa-users","me-2"],["width","32","height","32","alt","Author",1,"rounded-circle","me-2",3,"src"],[1,"bg-primary","rounded-circle","me-2","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px"],[1,"fa","fa-user","text-white"],[1,"very-small","text-muted"],[1,"mb-3"],[1,"d-flex","flex-wrap","gap-1"],["class","badge very-small d-flex align-items-center","style","cursor: pointer;",3,"background-color","click",4,"ngFor","ngForOf"],["class","badge bg-secondary very-small",4,"ngIf"],[1,"badge","very-small","d-flex","align-items-center",2,"cursor","pointer",3,"click"],["class","me-1",3,"class",4,"ngIf"],[1,"me-1"],[1,"badge","bg-secondary","very-small"],[1,"fa","fa-clock-o","me-1"],[1,"fa","fa-infinity","me-1"],[1,"btn","btn-success","btn-sm",3,"click","title"],[1,"fa","fa-plus","me-1"],[1,"btn","btn-info","btn-sm",3,"click","title"],[1,"btn","btn-outline-secondary","btn-sm","disabled",3,"title"],[1,"fa","fa-check","me-1"],[1,"fa","fa-user","me-1"],[1,"btn","btn-outline-info","btn-sm",3,"click","title"],[1,"pagination"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[1,"fa","fa-globe","fa-3x","text-muted","mb-3"],["class","btn btn-primary me-2",3,"click",4,"ngIf"],["routerLink","/create-prediction",1,"btn","btn-success"],[1,"btn","btn-primary","me-2",3,"click"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h2",4),g(6,"i",5),u(7,"Published Predictions "),l(),a(8,"p",6),u(9," Discover and counter-predict active public predictions from the community "),l()(),a(10,"button",7),g(11,"i",8),u(12,"Create New Prediction "),l()()()(),a(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12),g(17,"i",13),a(18,"h4",14),u(19),l(),a(20,"p",15),u(21,"Total Posts"),l()()()(),a(22,"div",10)(23,"div",16)(24,"div",12),g(25,"i",17),a(26,"h4",14),u(27),l(),a(28,"p",15),u(29,"Total Responses"),l()()()(),a(30,"div",10)(31,"div",18)(32,"div",12),g(33,"i",19),a(34,"h4",20),u(35),l(),a(36,"p",21),u(37,"Rankings"),l()()()(),a(38,"div",10)(39,"div",22)(40,"div",12),g(41,"i",23),a(42,"h4",14),u(43),l(),a(44,"p",15),u(45,"Bingo Games"),l()()()()(),a(46,"div",24)(47,"div",25)(48,"div",26)(49,"div",27)(50,"label",28),u(51,"Search"),l(),a(52,"input",29),je("ngModelChange",function(o){return We(i.searchTerm,o)||(i.searchTerm=o),o}),b("input",function(){return i.onSearchChange()}),l()(),a(53,"div",27)(54,"label",28),u(55,"Category"),l(),a(56,"select",30),je("ngModelChange",function(o){return We(i.selectedCategoryId,o)||(i.selectedCategoryId=o),o}),b("change",function(){return i.onFilterChange()}),a(57,"option",31),u(58,"All Categories"),l(),y(59,U6,2,1,"optgroup",32)(60,$6,2,1,"optgroup",33),l()(),a(61,"div",34)(62,"label",28),u(63,"Type"),l(),a(64,"select",30),je("ngModelChange",function(o){return We(i.selectedType,o)||(i.selectedType=o),o}),b("change",function(){return i.onFilterChange()}),a(65,"option",31),u(66,"All Types"),l(),a(67,"option",35),u(68,"Ranking"),l(),a(69,"option",36),u(70,"Bracket"),l(),a(71,"option",37),u(72,"Bingo"),l()()(),a(73,"div",34)(74,"label",28),u(75,"Sort By"),l(),a(76,"select",30),je("ngModelChange",function(o){return We(i.sortBy,o)||(i.sortBy=o),o}),b("change",function(){return i.onFilterChange()}),a(77,"option",38),u(78,"Newest First"),l(),a(79,"option",39),u(80,"Oldest First"),l(),a(81,"option",40),u(82,"Most Responses"),l(),a(83,"option",41),u(84,"Ending Soon"),l(),a(85,"option",42),u(86,"A-Z"),l()()(),a(87,"div",43)(88,"button",44),b("click",function(){return i.clearFilters()}),g(89,"i",45),u(90,"Clear Filters "),l()()(),y(91,W6,8,4,"div",46),l()(),y(92,Q6,14,3,"div",47)(93,J6,16,13,"div",48)(94,v8,2,1,"div",49)(95,y8,20,13,"div",48)(96,b8,6,0,"div",50)(97,E8,12,5,"div",50),l()),e&2&&(c(19),k(i.allPosts.length),c(8),k(i.totalCounterPredictions),c(8),k(i.getRankingCount()),c(8),k(i.getBingoCount()),c(9),Ue("ngModel",i.searchTerm),f("value",i.searchTerm),c(4),Ue("ngModel",i.selectedCategoryId),c(3),f("ngIf",i.rootCategories.length>0),c(),f("ngIf",i.allSubcategories.length>0),c(4),Ue("ngModel",i.selectedType),c(12),Ue("ngModel",i.sortBy),c(15),f("ngIf",i.hasActiveFilters()),c(),f("ngIf",!i.isLoading),c(),f("ngIf",i.pagination.totalPages>1),c(),f("ngIf",i.paginatedPosts.length>0),c(),f("ngIf",i.pagination.totalPages>1),c(),f("ngIf",i.isLoading),c(),f("ngIf",i.paginatedPosts.length===0&&!i.isLoading))},dependencies:[Y,Se,ee,rr,Fe,pi,fi,qe,Nn,Ee,wn,it,Tt],styles:[".prediction-card[_ngcontent-%COMP%]{transition:all .2s ease}.prediction-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #007bff26}.very-small[_ngcontent-%COMP%]{font-size:.7rem}.badge[_ngcontent-%COMP%]{font-size:.75rem}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:.25rem}.dropdown-menu[_ngcontent-%COMP%]{background-color:#343a40;border:1px solid #495057}.dropdown-item[_ngcontent-%COMP%]{color:#fff}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#495057;color:#fff}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{border-radius:.375rem;margin:0 2px}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#0d6efd;border-color:#0d6efd}.form-select-sm[_ngcontent-%COMP%]{font-size:.875rem}"]})};var Mu=()=>[];function I8(n,t){if(n&1){let e=P();a(0,"button",26),b("click",function(){w(e);let r=h(2);return T(r.editPost())}),g(1,"i",27),u(2,"Edit "),l()}}function P8(n,t){if(n&1&&(a(0,"th"),u(1),l()),n&2){let e=t.index;c(),x(" Position ",e+1," ")}}function D8(n,t){if(n&1&&g(0,"img",42),n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function k8(n,t){if(n&1&&(a(0,"div",38),y(1,D8,1,1,"img",39),a(2,"div")(3,"div",40),u(4),l(),a(5,"div",41),u(6),l()()()),n&2){let e=h().$implicit;c(),f("ngIf",e.team.photoUrl),c(3),k(e.team.name),c(2),k(e.team.description||"No description")}}function M8(n,t){n&1&&(a(0,"div",43),u(1,"Empty"),l())}function O8(n,t){if(n&1&&(a(0,"td"),y(1,k8,7,3,"div",36)(2,M8,2,0,"div",37),l()),n&2){let e=t.$implicit;c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function A8(n,t){if(n&1&&(a(0,"tr")(1,"td",35),u(2),l(),y(3,O8,3,2,"td",34),l()),n&2){let e=t.$implicit;c(2),x("#",e.order,""),c(),f("ngForOf",e.columns||$e(2,Mu))}}function R8(n,t){if(n&1&&(a(0,"div",28)(1,"div",29)(2,"h4",19),g(3,"i",30),u(4,"Ranking Prediction "),l()(),a(5,"div",20)(6,"div",31)(7,"table",32)(8,"thead")(9,"tr")(10,"th",33),u(11,"Rank"),l(),y(12,P8,2,1,"th",34),l()(),a(13,"tbody"),y(14,A8,4,3,"tr",34),l()()()()()),n&2){let e=h(2);c(12),f("ngForOf",(e.post.postRank.rankTable.rows[0]==null?null:e.post.postRank.rankTable.rows[0].columns)||$e(2,Mu)),c(2),f("ngForOf",e.post.postRank.rankTable.rows||$e(3,Mu))}}function N8(n,t){if(n&1&&g(0,"img",52),n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function F8(n,t){if(n&1&&(a(0,"div"),y(1,N8,1,1,"img",50),a(2,"div",51),u(3),l()()),n&2){let e=h().$implicit;c(),f("ngIf",e.team.photoUrl),c(2),k(e.team.name)}}function V8(n,t){n&1&&(a(0,"div",53),u(1,"Empty"),l())}function L8(n,t){if(n&1&&(a(0,"div",47),y(1,F8,4,2,"div",48)(2,V8,2,0,"div",49),l()),n&2){let e=t.$implicit;oe("aspect-ratio","1")("background-color",e.team?"#28a745":"#6c757d"),c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function B8(n,t){if(n&1&&(a(0,"div",28)(1,"div",29)(2,"h4",19),g(3,"i",44),u(4,"Bingo Prediction "),l()(),a(5,"div",20)(6,"div",45),y(7,L8,3,6,"div",46),l()()()),n&2){let e=h(2);c(6),oe("grid-template-columns","repeat("+e.post.postBingo.gridSize+", 1fr)")("gap","8px")("display","grid"),c(),f("ngForOf",e.post.postBingo.bingoCells||$e(7,Mu))}}function U8(n,t){if(n&1&&(a(0,"div",28)(1,"div",29)(2,"h4",19),g(3,"i",54),u(4,"Bracket Prediction "),l()(),a(5,"div",20)(6,"p",55),u(7,"Bracket visualization coming soon..."),l(),a(8,"pre",56),u(9),et(10,"json"),l()()()),n&2){let e=h(2);c(9),k($r(10,1,e.post.postBracket))}}function j8(n,t){if(n&1){let e=P();a(0,"button",62),b("click",function(){w(e);let r=h(3);return T(r.editPost())}),g(1,"i",27),u(2,"Continue Creating "),l()}}function $8(n,t){if(n&1&&(a(0,"div",57)(1,"div",58),g(2,"i",59),a(3,"h5"),u(4,"No Prediction Data"),l(),a(5,"p",60),u(6,"This prediction doesn't have any ranking, bracket, or bingo data yet."),l(),y(7,j8,3,0,"button",61),l()()),n&2){let e=h(2);c(7),f("ngIf",e.post.isDraft)}}function H8(n,t){if(n&1&&(a(0,"li",22)(1,"strong"),u(2,"Ends:"),l(),u(3),et(4,"date"),l()),n&2){let e=h(2);c(3),x(" ",qs(4,1,e.post.endDate,"medium")," ")}}function z8(n,t){if(n&1&&(a(0,"span",66),u(1),l()),n&2){let e=t.$implicit;c(),x(" ",e.name," ")}}function q8(n,t){if(n&1&&(a(0,"div",63)(1,"div",18)(2,"h5",19),u(3,"Categories"),l()(),a(4,"div",20)(5,"div",64),y(6,z8,2,1,"span",65),l()()()),n&2){let e=h(2);c(6),f("ngForOf",e.post.categories)}}function G8(n,t){if(n&1){let e=P();a(0,"button",72),b("click",function(){w(e);let r=h(3);return T(r.editPost())}),g(1,"i",27),u(2,"Continue Editing "),l()}}function W8(n,t){if(n&1){let e=P();a(0,"button",73),b("click",function(){w(e);let r=h(3);return T(r.publishPost())}),g(1,"i",74),u(2,"Publish Now "),l()}}function Y8(n,t){if(n&1){let e=P();a(0,"div",67)(1,"div",18)(2,"h5",19),u(3,"Actions"),l()(),a(4,"div",20)(5,"div",8),y(6,G8,3,0,"button",68)(7,W8,3,0,"button",69),a(8,"button",70),b("click",function(){w(e);let r=h(2);return T(r.deletePost())}),g(9,"i",71),u(10,"Delete "),l()()()()}if(n&2){let e=h(2);c(6),f("ngIf",e.post.isDraft),c(),f("ngIf",e.post.isDraft)}}function Z8(n,t){if(n&1){let e=P();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div")(5,"h2",6),u(6),l(),a(7,"p",7),u(8),l()(),a(9,"div",8)(10,"button",9),b("click",function(){w(e);let r=h();return T(r.goBack())}),g(11,"i",10),u(12,"Back "),l(),y(13,I8,3,0,"button",11),l()()()(),a(14,"div",12)(15,"div",13),y(16,R8,15,4,"div",14)(17,B8,8,8,"div",14)(18,U8,11,3,"div",14)(19,$8,8,1,"div",15),l(),a(20,"div",16)(21,"div",17)(22,"div",18)(23,"h5",19),u(24,"Post Information"),l()(),a(25,"div",20)(26,"ul",21)(27,"li",22)(28,"strong"),u(29,"Type:"),l(),u(30),l(),a(31,"li",22)(32,"strong"),u(33,"Created:"),l(),u(34),et(35,"date"),l(),y(36,H8,5,4,"li",23),a(37,"li",22)(38,"strong"),u(39,"Status:"),l(),a(40,"span"),u(41),l()()()()(),y(42,q8,7,1,"div",24),l()(),y(43,Y8,11,2,"div",25),l()}if(n&2){let e=h();c(6),k(e.post.title),c(2),k(e.post.description),c(5),f("ngIf",e.post.isDraft),c(3),f("ngIf",e.post.predictionType==="Ranking"&&e.post.postRank),c(),f("ngIf",e.post.predictionType==="Bingo"&&e.post.postBingo),c(),f("ngIf",e.post.predictionType==="Bracket"&&e.post.postBracket),c(),f("ngIf",!e.hasPostData()),c(11),x(" ",e.post.predictionType," "),c(4),x(" ",qs(35,15,e.post.createdAt,"medium")," "),c(2),f("ngIf",e.post.endDate),c(4),De(e.getStatusClass()),c(),x(" ",e.getStatusText()," "),c(),f("ngIf",e.post.categories&&e.post.categories.length>0),c(),f("ngIf",e.isOwner())}}function Q8(n,t){n&1&&(a(0,"div",75)(1,"div",76)(2,"span",77),u(3,"Loading..."),l()(),a(4,"p",78),u(5,"Loading post..."),l()())}function K8(n,t){if(n&1){let e=P();a(0,"div",75),g(1,"i",79),a(2,"h5",80),u(3,"Post Not Found"),l(),a(4,"p",43),u(5,"The post you're looking for doesn't exist or has been removed."),l(),a(6,"button",72),b("click",function(){w(e);let r=h();return T(r.goBack())}),u(7,"Go Back"),l()()}}var Ou=class n{route=E(Ne);router=E(J);http=E(ve);toastr=E(re);post=null;isLoading=!1;ngOnInit(){this.route.params.subscribe(t=>{let e=+t.id;e&&this.loadPost(e)})}loadPost(t){return U(this,null,function*(){this.isLoading=!0;try{let e=yield this.http.get(`${Q.apiUrl}prediction/${t}`).toPromise().catch(()=>null);e&&(this.post={id:e.id,title:e.title,description:e.description,predictionType:e.predictionType,createdAt:new Date(e.createdAt),endDate:e.endDate?new Date(e.endDate):void 0,isDraft:e.isDraft,isActive:e.isActive,author:e.author||{displayName:"Unknown"},postRank:e.postRanks?.[0],postBracket:e.postBrackets?.[0],postBingo:e.postBingos?.[0],categories:e.categories||[]}),console.log("Post loaded:",this.post)}catch(e){console.error("Error loading post:",e),this.toastr.error("Failed to load post")}finally{this.isLoading=!1}})}hasPostData(){return!!(this.post?.postRank||this.post?.postBracket||this.post?.postBingo)}isOwner(){return!0}getStatusText(){return this.post?.isDraft?"Draft":this.post?.isActive?"Active":"Ended"}getStatusClass(){return this.post?.isDraft?"text-warning":this.post?.isActive?"text-success":"text-secondary"}editPost(){this.post&&this.router.navigate(["/create-prediction"],{queryParams:{edit:this.post.id}})}publishPost(){return U(this,null,function*(){if(this.post&&confirm("Are you sure you want to publish this prediction?"))try{yield this.http.put(`${Q.apiUrl}prediction/${this.post.id}/publish`,{}).toPromise(),this.toastr.success("Prediction published successfully!"),this.loadPost(this.post.id)}catch(t){console.error("Error publishing post:",t),this.toastr.error("Failed to publish prediction")}})}deletePost(){return U(this,null,function*(){if(this.post&&confirm("Are you sure you want to delete this prediction? This action cannot be undone."))try{yield this.http.delete(`${Q.apiUrl}prediction/${this.post.id}`).toPromise(),this.toastr.success("Prediction deleted successfully"),this.router.navigate(["/my-predictions"])}catch(t){console.error("Error deleting post:",t),this.toastr.error("Failed to delete prediction")}})}goBack(){this.router.navigate(["/my-predictions"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-post-view"]],decls:3,vars:3,consts:[["class","container-fluid mt-4",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"container-fluid","mt-4"],[1,"card","bg-primary","border-primary","mb-4"],[1,"card-header","bg-primary","border-primary"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-light","mb-1"],[1,"text-light","mb-0","opacity-75"],[1,"d-flex","gap-2"],[1,"btn","btn-outline-light",3,"click"],[1,"fa","fa-arrow-left","me-2"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"row","mb-4"],[1,"col-md-8"],["class","card bg-secondary border-secondary",4,"ngIf"],["class","card bg-warning border-warning",4,"ngIf"],[1,"col-md-4"],[1,"card","bg-dark","border-dark","mb-3"],[1,"card-header","bg-dark","border-dark"],[1,"text-light","mb-0"],[1,"card-body"],[1,"list-group","list-group-flush"],[1,"list-group-item","bg-transparent","border-secondary","text-light"],["class","list-group-item bg-transparent border-secondary text-light",4,"ngIf"],["class","card bg-dark border-dark",4,"ngIf"],["class","card bg-dark border-dark mb-4",4,"ngIf"],[1,"btn","btn-warning",3,"click"],[1,"fa","fa-edit","me-2"],[1,"card","bg-secondary","border-secondary"],[1,"card-header","bg-secondary","border-secondary"],[1,"fa","fa-list-ol","me-2"],[1,"table-responsive"],[1,"table","table-dark","table-striped"],["width","80"],[4,"ngFor","ngForOf"],[1,"fw-bold"],["class","d-flex align-items-center",4,"ngIf"],["class","text-muted",4,"ngIf"],[1,"d-flex","align-items-center"],["class","rounded me-2","width","32","height","32","alt","Team",3,"src",4,"ngIf"],[1,"fw-bold","text-light"],[1,"small","text-muted"],["width","32","height","32","alt","Team",1,"rounded","me-2",3,"src"],[1,"text-muted"],[1,"fa","fa-th","me-2"],[1,"bingo-grid"],["class","bingo-cell p-2 border border-secondary text-center",3,"aspect-ratio","background-color",4,"ngFor","ngForOf"],[1,"bingo-cell","p-2","border","border-secondary","text-center"],[4,"ngIf"],["class","text-muted small",4,"ngIf"],["class","rounded mb-1","width","24","height","24","alt","Team",3,"src",4,"ngIf"],[1,"small","text-light"],["width","24","height","24","alt","Team",1,"rounded","mb-1",3,"src"],[1,"text-muted","small"],[1,"fa","fa-sitemap","me-2"],[1,"text-light"],[1,"text-light","small"],[1,"card","bg-warning","border-warning"],[1,"card-body","text-center"],[1,"fa","fa-exclamation-triangle","fa-2x","mb-3"],[1,"mb-0"],["class","btn btn-primary mt-3",3,"click",4,"ngIf"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"card","bg-dark","border-dark"],[1,"d-flex","flex-wrap","gap-2"],["class","badge bg-primary",4,"ngFor","ngForOf"],[1,"badge","bg-primary"],[1,"card","bg-dark","border-dark","mb-4"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash","me-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-globe","me-2"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[1,"fa","fa-exclamation-triangle","fa-3x","text-warning","mb-3"],[1,"text-warning"]],template:function(e,i){e&1&&y(0,Z8,44,18,"div",0)(1,Q8,6,0,"div",1)(2,K8,8,0,"div",1),e&2&&(f("ngIf",i.post),c(),f("ngIf",!i.post&&i.isLoading),c(),f("ngIf",!i.post&&!i.isLoading))},dependencies:[Y,Se,ee,J1,$c],styles:[".bingo-grid[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.bingo-cell[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60px}.table-dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-dark[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#495057}.card[_ngcontent-%COMP%]{border-radius:8px}.badge[_ngcontent-%COMP%]{font-size:.875rem}pre[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;font-size:.8rem}"]})};var J8=()=>[];function X8(n,t){if(n&1){let e=P();a(0,"li")(1,"button",51),b("click",function(){w(e);let r=h(2);return T(r.editPrediction())}),g(2,"i",52),u(3,"Continue Editing "),l()()}}function eB(n,t){if(n&1){let e=P();a(0,"li")(1,"button",51),b("click",function(){w(e);let r=h(2);return T(r.publishPrediction())}),g(2,"i",53),u(3,"Publish Now "),l()()}}function tB(n,t){if(n&1){let e=P();a(0,"li")(1,"button",51),b("click",function(){w(e);let r=h(2);return T(r.sharePost())}),g(2,"i",54),u(3,"Share "),l()()}}function nB(n,t){if(n&1){let e=P();a(0,"div",55)(1,"div",35)(2,"div",5)(3,"div")(4,"h5",6),g(5,"i",56),u(6),l(),a(7,"p",7),u(8," Other users have responded to your prediction "),l()(),a(9,"button",13),b("click",function(){w(e);let r=h(2);return T(r.viewCounterPredictions())}),g(10,"i",57),u(11,"View Responses "),l()()()()}if(n&2){let e=h(2);c(6),x("",e.predictionDetail.counterPredictionsCount," Counter Predictions ")}}function iB(n,t){if(n&1){let e=P();a(0,"div",58),g(1,"i",59),a(2,"strong"),u(3,"Draft Prediction:"),l(),u(4," This prediction is not visible to other users. "),a(5,"button",60),b("click",function(){w(e);let r=h(2);return T(r.editPrediction())}),u(6," Continue Editing "),l(),a(7,"button",61),b("click",function(){w(e);let r=h(2);return T(r.publishPrediction())}),u(8," Publish Now "),l()()}}function rB(n,t){if(n&1){let e=P();a(0,"div",62),g(1,"i",63),a(2,"strong"),u(3,"Private Prediction Access Code:"),l(),a(4,"code",64),u(5),l(),a(6,"button",65),b("click",function(){w(e);let r=h(2);return T(r.copyAccessCode())}),g(7,"i",66),u(8,"Copy Code "),l()()}if(n&2){let e=h(2);c(5),k(e.predictionDetail.accessCode)}}function oB(n,t){if(n&1&&(a(0,"th"),u(1),l()),n&2){let e=t.index;c(),x(" Position ",e+1," ")}}function sB(n,t){if(n&1){let e=P();a(0,"img",89),b("error",function(r){w(e);let o=h(6);return T(o.onImageError(r))}),l()}if(n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function aB(n,t){n&1&&(a(0,"div",90),g(1,"i",91),l())}function lB(n,t){if(n&1&&(a(0,"div",92),u(1),l()),n&2){let e=h(2).$implicit;c(),x(" ",e.team.description," ")}}function cB(n,t){if(n&1&&(a(0,"div",84),y(1,sB,1,1,"img",85)(2,aB,2,0,"div",86),a(3,"div")(4,"div",87),u(5),l(),y(6,lB,2,1,"div",88),l()()),n&2){let e=h().$implicit;c(),f("ngIf",e.team.photoUrl&&e.team.photoUrl.trim()),c(),f("ngIf",!e.team.photoUrl||!e.team.photoUrl.trim()),c(3),k(e.team.name),c(),f("ngIf",e.team.description)}}function dB(n,t){n&1&&(a(0,"div",93),g(1,"i",94),u(2," Empty Position "),l())}function uB(n,t){if(n&1&&(a(0,"td"),y(1,cB,7,4,"div",82)(2,dB,3,0,"div",83),l()),n&2){let e=t.$implicit;c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function pB(n,t){if(n&1&&(a(0,"tr")(1,"td",81),u(2),l(),y(3,uB,3,2,"td",74),l()),n&2){let e=t.$implicit;c(2),x("#",e.order,""),c(),f("ngForOf",e.columns||$e(2,J8))}}function fB(n,t){if(n&1&&(a(0,"div",67)(1,"div",68)(2,"h4",33),g(3,"i",69),u(4,"Your Ranking Prediction "),l(),a(5,"div",70),u(6),l()(),a(7,"div",35)(8,"div",71)(9,"table",72)(10,"thead")(11,"tr")(12,"th",73),u(13,"Rank"),l(),y(14,oB,2,1,"th",74),l()(),a(15,"tbody"),y(16,pB,4,3,"tr",74),l()()(),a(17,"div",75)(18,"div",76)(19,"div",77)(20,"div",39)(21,"h6",78),u(22,"Structure"),l(),a(23,"p",79)(24,"strong"),u(25,"Rows:"),l(),u(26),l(),a(27,"p",79)(28,"strong"),u(29,"Columns:"),l(),u(30),l(),a(31,"p",80)(32,"strong"),u(33,"Teams Assigned:"),l(),u(34),l()()()(),a(35,"div",76)(36,"div",77)(37,"div",39)(38,"h6",78),u(39,"Performance"),l(),a(40,"p",79)(41,"strong"),u(42,"Total Score:"),l(),u(43),l(),a(44,"p",79)(45,"strong"),u(46,"Official Result:"),l(),a(47,"span"),u(48),l()(),a(49,"p",80)(50,"strong"),u(51,"Last Updated:"),l(),u(52),l()()()()()()()),n&2){let e,i,r,o,s,d,p,m=h(2);c(6),q(" Total Score: ",((e=m.getOriginalRankingData())==null?null:e.totalScore)||0," | Created: ",m.formatDate(m.predictionDetail.createdAt)," "),c(8),f("ngForOf",m.getFirstRowColumns()),c(2),f("ngForOf",m.getOriginalRankingRows()),c(10),x(" ",((i=m.getOriginalRankingData())==null||i.rankTable==null?null:i.rankTable.numberOfRows)||0," "),c(4),x(" ",((r=m.getOriginalRankingData())==null||r.rankTable==null?null:r.rankTable.numberOfColumns)||0," "),c(4),q(" ",m.getAssignedTeamsCount()," / ",m.getTotalSlotsCount()," "),c(9),x(" ",((o=m.getOriginalRankingData())==null?null:o.totalScore)||0," "),c(4),De((s=m.getOriginalRankingData())!=null&&s.isOfficialResult?"text-success":"text-warning"),c(),x(" ",(d=m.getOriginalRankingData())!=null&&d.isOfficialResult?"Yes":"No"," "),c(4),x(" ",m.formatDate((p=m.getOriginalRankingData())==null?null:p.updatedAt)," ")}}function mB(n,t){if(n&1){let e=P();a(0,"img",104),b("error",function(r){w(e);let o=h(5);return T(o.onImageError(r))}),l()}if(n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function hB(n,t){n&1&&(a(0,"div",105),g(1,"i",106),l())}function gB(n,t){if(n&1&&(a(0,"div",107),u(1),l()),n&2){let e=h(2).$implicit;c(),x(" ",e.team.description," ")}}function vB(n,t){if(n&1&&(a(0,"div"),y(1,mB,1,1,"img",100)(2,hB,2,0,"div",101),a(3,"div",102),u(4),l(),y(5,gB,2,1,"div",103),l()),n&2){let e=h().$implicit;c(),f("ngIf",e.team.photoUrl&&e.team.photoUrl.trim()),c(),f("ngIf",!e.team.photoUrl||!e.team.photoUrl.trim()),c(2),k(e.team.name),c(),f("ngIf",e.team.description)}}function _B(n,t){n&1&&(a(0,"div",108),g(1,"i",109),a(2,"div",110),u(3,"Empty"),l()())}function yB(n,t){if(n&1&&(a(0,"div",98),y(1,vB,6,4,"div",19)(2,_B,4,0,"div",99),l()),n&2){let e=t.$implicit;M("has-team",e.team)("empty-cell",!e.team),c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function bB(n,t){if(n&1&&(a(0,"div",67)(1,"div",68)(2,"h4",33),g(3,"i",95),u(4,"Your Bingo Prediction "),l(),a(5,"div",70),u(6),l()(),a(7,"div",35)(8,"div",96),y(9,yB,3,6,"div",97),l(),a(10,"div",75)(11,"div",76)(12,"div",77)(13,"div",39)(14,"h6",78),u(15,"Grid Info"),l(),a(16,"p",79)(17,"strong"),u(18,"Grid Size:"),l(),u(19),l(),a(20,"p",79)(21,"strong"),u(22,"Total Cells:"),l(),u(23),l(),a(24,"p",80)(25,"strong"),u(26,"Filled Cells:"),l(),u(27),l()()()(),a(28,"div",76)(29,"div",77)(30,"div",39)(31,"h6",78),u(32,"Performance"),l(),a(33,"p",79)(34,"strong"),u(35,"Total Score:"),l(),u(36),l(),a(37,"p",79)(38,"strong"),u(39,"Completion:"),l(),u(40),l(),a(41,"p",80)(42,"strong"),u(43,"Teams Used:"),l(),u(44),l()()()()()()()),n&2){let e,i,r,o,s=h(2);c(6),jr(" Grid Size: ",(e=s.getOriginalBingoData())==null?null:e.gridSize,"x",(e=s.getOriginalBingoData())==null?null:e.gridSize," | Total Score: ",((e=s.getOriginalBingoData())==null?null:e.totalScore)||0," "),c(2),oe("grid-template-columns","repeat("+((i=s.getOriginalBingoData())==null?null:i.gridSize)+", 1fr)")("gap","8px")("display","grid"),c(),f("ngForOf",s.getOriginalBingoCells()),c(10),q(" ",(r=s.getOriginalBingoData())==null?null:r.gridSize,"x",(r=s.getOriginalBingoData())==null?null:r.gridSize," "),c(4),x(" ",s.getOriginalBingoCells().length||0," "),c(4),x(" ",s.getFilledBingoCellsCount()," "),c(9),x(" ",((o=s.getOriginalBingoData())==null?null:o.totalScore)||0," "),c(4),x(" ",s.getBingoCompletionPercentage(),"% "),c(4),x(" ",s.getUniqueBingoTeamsCount()," ")}}function CB(n,t){n&1&&(a(0,"div",67)(1,"div",68)(2,"h4",33),g(3,"i",111),u(4,"Your Bracket Prediction "),l()(),a(5,"div",112),g(6,"i",113),a(7,"h5",40),u(8,"Bracket Display Coming Soon"),l(),a(9,"p",108),u(10,"Bracket visualization is under development."),l()()())}function xB(n,t){if(n&1){let e=P();a(0,"button",117),b("click",function(){w(e);let r=h(3);return T(r.editPrediction())}),g(1,"i",52),u(2,"Continue Creating "),l()}}function wB(n,t){n&1&&(a(0,"div",108)(1,"small"),u(2,"This prediction was published without post data."),l()())}function TB(n,t){if(n&1&&(a(0,"div",114)(1,"div",112),g(2,"i",115),a(3,"h5"),u(4,"No Prediction Data"),l(),a(5,"p",116),u(6,"This prediction doesn't have any ranking, bracket, or bingo data yet."),l(),y(7,xB,3,0,"button",46)(8,wB,3,0,"div",99),l()()),n&2){let e=h(2);c(7),f("ngIf",e.predictionDetail.isDraft),c(),f("ngIf",!e.predictionDetail.isDraft)}}function SB(n,t){if(n&1&&(a(0,"li",42)(1,"strong"),u(2,"Ends:"),l(),u(3),l()),n&2){let e=h(2);c(3),x(" ",e.formatDate(e.predictionDetail.endDate)," ")}}function EB(n,t){if(n&1){let e=P();a(0,"button",117),b("click",function(){w(e);let r=h(2);return T(r.editPrediction())}),g(1,"i",52),u(2,"Continue Editing "),l()}}function IB(n,t){if(n&1){let e=P();a(0,"button",118),b("click",function(){w(e);let r=h(2);return T(r.publishPrediction())}),g(1,"i",53),u(2,"Publish Prediction "),l()}}function PB(n,t){if(n&1){let e=P();a(0,"button",119),b("click",function(){w(e);let r=h(2);return T(r.viewCounterPredictions())}),g(1,"i",56),u(2),l()}if(n&2){let e=h(2);c(2),x("View ",e.predictionDetail.counterPredictionsCount," Responses ")}}function DB(n,t){if(n&1){let e=P();a(0,"button",120),b("click",function(){w(e);let r=h(2);return T(r.sharePost())}),g(1,"i",54),u(2,"Share Prediction "),l()}}function kB(n,t){if(n&1&&(a(0,"span",124),g(1,"i",125),u(2),l()),n&2){let e=t.$implicit,i=h(3);oe("background-color",e.colorCode||"#0d6efd")("color",i.getContrastColor(e.colorCode||"#0d6efd"))("border","1px solid "+(e.colorCode||"#0d6efd")),c(),De(i.getFullIconClass(e.iconName)),c(),x(" ",e.name," ")}}function MB(n,t){if(n&1&&(a(0,"div",31)(1,"div",32)(2,"h5",33),g(3,"i",121),u(4,"Categories "),l()(),a(5,"div",35)(6,"div",122),y(7,kB,3,9,"span",123),l()()()),n&2){let e=h(2);c(7),f("ngForOf",e.predictionDetail.categories)}}function OB(n,t){if(n&1){let e=P();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div")(5,"h2",6),u(6),l(),a(7,"p",7),u(8),l(),a(9,"div",8)(10,"span",9),u(11),l(),a(12,"span",10),u(13),l(),a(14,"span",11),u(15),l()()(),a(16,"div",12)(17,"button",13),b("click",function(){w(e);let r=h();return T(r.goBack())}),g(18,"i",14),u(19,"Back "),l(),a(20,"div",15)(21,"button",16),g(22,"i",17),u(23,"Actions "),l(),a(24,"ul",18),y(25,X8,4,0,"li",19)(26,eB,4,0,"li",19)(27,tB,4,0,"li",19),a(28,"li"),g(29,"hr",20),l(),a(30,"li")(31,"button",21),b("click",function(){w(e);let r=h();return T(r.deletePrediction())}),g(32,"i",22),u(33,"Delete "),l()()()()()()()(),y(34,nB,12,1,"div",23)(35,iB,9,0,"div",24)(36,rB,9,1,"div",25),a(37,"div",26)(38,"div",27),y(39,fB,53,13,"div",28)(40,bB,45,17,"div",28)(41,CB,11,0,"div",28)(42,TB,9,2,"div",29),l(),a(43,"div",30)(44,"div",31)(45,"div",32)(46,"h5",33),g(47,"i",34),u(48,"Prediction Stats "),l()(),a(49,"div",35)(50,"div",36)(51,"div",37)(52,"div",38)(53,"div",39)(54,"h6",33),u(55),l(),a(56,"small",40),u(57,"Responses"),l()()()()(),a(58,"ul",41)(59,"li",42)(60,"strong"),u(61,"Type:"),l(),u(62),l(),y(63,SB,4,1,"li",43),a(64,"li",42)(65,"strong"),u(66,"Status: "),l(),a(67,"span"),u(68),l()(),a(69,"li",42)(70,"strong"),u(71,"Privacy:"),l(),u(72),l()()()(),a(73,"div",31)(74,"div",32)(75,"h5",33),g(76,"i",44),u(77,"Quick Actions "),l()(),a(78,"div",35)(79,"div",45),y(80,EB,3,0,"button",46)(81,IB,3,0,"button",47)(82,PB,3,1,"button",48)(83,DB,3,0,"button",49),l()()(),y(84,MB,8,1,"div",50),l()()()}if(n&2){let e=h();c(6),k(e.predictionDetail.title),c(2),k(e.predictionDetail.description),c(2),M("bg-success",!e.predictionDetail.isDraft&&e.predictionDetail.isActive)("bg-warning",e.predictionDetail.isDraft)("bg-secondary",!e.predictionDetail.isDraft&&!e.predictionDetail.isActive),c(),x(" ",e.getStatusText()," "),c(2),k(e.getPredictionTypeDisplayName()),c(2),k(e.getPrivacyTypeDisplayName(e.predictionDetail.privacyType)),c(10),f("ngIf",e.predictionDetail.isDraft),c(),f("ngIf",e.predictionDetail.isDraft),c(),f("ngIf",!e.predictionDetail.isDraft),c(7),f("ngIf",!e.predictionDetail.isDraft&&e.predictionDetail.counterPredictionsCount),c(),f("ngIf",e.predictionDetail.isDraft),c(),f("ngIf",e.predictionDetail.accessCode&&e.predictionDetail.privacyType==="Private"),c(3),f("ngIf",e.isRankingType()&&e.hasOriginalRankingData()),c(),f("ngIf",e.isBingoType()&&e.hasOriginalBingoData()),c(),f("ngIf",e.isBracketType()),c(),f("ngIf",!e.hasOriginalPostData()),c(13),k(e.predictionDetail.counterPredictionsCount||0),c(7),x(" ",e.getPredictionTypeDisplayName()," "),c(),f("ngIf",e.predictionDetail.endDate),c(4),De(e.getStatusClass()),c(),k(e.getStatusText()),c(4),x(" ",e.predictionDetail.privacyType||"Public"," "),c(8),f("ngIf",e.predictionDetail.isDraft),c(),f("ngIf",e.predictionDetail.isDraft),c(),f("ngIf",!e.predictionDetail.isDraft&&e.predictionDetail.counterPredictionsCount),c(),f("ngIf",!e.predictionDetail.isDraft),c(),f("ngIf",e.predictionDetail.categories&&e.predictionDetail.categories.length>0)}}function AB(n,t){n&1&&(a(0,"div",126)(1,"div",127)(2,"span",128),u(3,"Loading..."),l()(),a(4,"p",129),u(5,"Loading your prediction..."),l()())}function RB(n,t){if(n&1){let e=P();a(0,"div",126),g(1,"i",130),a(2,"h5",131),u(3,"Prediction Not Found"),l(),a(4,"p",108),u(5,"The prediction you're looking for doesn't exist or you don't have access to it."),l(),a(6,"button",117),b("click",function(){w(e);let r=h();return T(r.goBack())}),u(7,"Go Back"),l()()}}var Au=class n{route=E(Ne);router=E(J);http=E(ve);toastr=E(re);accountService=E(pe);predictionDetail=null;isLoading=!1;showDebugInfo=!1;ngOnInit(){this.route.params.subscribe(t=>{let e=+t.id;e&&this.loadMyPredictionDetails(e)})}loadMyPredictionDetails(t){return U(this,null,function*(){this.isLoading=!0;try{console.log("Loading my prediction details for ID:",t);let e=yield this.http.get(`${Q.apiUrl}post/my-prediction/${t}`).toPromise();e&&(this.predictionDetail=e,console.log("My prediction details loaded:",this.predictionDetail))}catch(e){console.error("Error loading my prediction details:",e),this.toastr.error("Failed to load your prediction details"),this.router.navigate(["/my-predictions"])}finally{this.isLoading=!1}})}isRankingType(){let t=this.predictionDetail?.predictionType;return t==="Ranking"||t===0||t==="0"}isBingoType(){let t=this.predictionDetail?.predictionType;return t==="Bingo"||t===2||t==="2"}isBracketType(){let t=this.predictionDetail?.predictionType;return t==="Bracket"||t===1||t==="1"}getPredictionTypeDisplayName(){return this.isRankingType()?"Ranking":this.isBracketType()?"Bracket":this.isBingoType()?"Bingo":`Unknown (${this.predictionDetail?.predictionType})`}getStatusText(){return this.predictionDetail?.isDraft?"Draft":this.predictionDetail?.isActive?"Active":"Ended"}getStatusClass(){return this.predictionDetail?.isDraft?"text-warning":this.predictionDetail?.isActive?"text-success":"text-secondary"}hasOriginalRankingData(){if(!this.isRankingType()||!this.predictionDetail?.postRanks)return!1;let t=this.predictionDetail.postRanks.length>0,e=this.getOriginalRankingData(),i=e?.rankTable?.rows&&e.rankTable.rows.length>0;return t&&!!i}getOriginalRankingData(){return!this.predictionDetail?.postRanks||this.predictionDetail.postRanks.length===0?null:this.predictionDetail.postRanks.find(e=>e.userId===this.predictionDetail?.userId)||this.predictionDetail.postRanks[0]}getOriginalRankingRows(){return this.getOriginalRankingData()?.rankTable?.rows||[]}getFirstRowColumns(){let t=this.getOriginalRankingRows();return t.length>0?t[0].columns||[]:[]}getAssignedTeamsCount(){let t=this.getOriginalRankingRows(),e=0;return t.forEach(i=>{i.columns&&Array.isArray(i.columns)&&i.columns.forEach(r=>{r.team&&e++})}),e}getTotalSlotsCount(){let t=this.getOriginalRankingData();if(!t?.rankTable)return 0;let e=t.rankTable.numberOfRows||0,i=t.rankTable.numberOfColumns||0;return e*i}hasOriginalBingoData(){if(!this.isBingoType()||!this.predictionDetail?.postBingos)return!1;let t=this.predictionDetail.postBingos.length>0,e=this.getOriginalBingoData(),i=e?.bingoCells&&e.bingoCells.length>0;return t&&!!i}getOriginalBingoData(){return!this.predictionDetail?.postBingos||this.predictionDetail.postBingos.length===0?null:this.predictionDetail.postBingos.find(e=>e.userId===this.predictionDetail?.userId)||this.predictionDetail.postBingos[0]}getOriginalBingoCells(){return this.getOriginalBingoData()?.bingoCells||[]}getFilledBingoCellsCount(){let t=this.getOriginalBingoCells();return Array.isArray(t)?t.filter(e=>e&&e.team).length:0}getBingoCompletionPercentage(){let t=this.getOriginalBingoCells();if(!Array.isArray(t)||t.length===0)return 0;let e=this.getFilledBingoCellsCount();return Math.round(e/t.length*100)}getUniqueBingoTeamsCount(){let t=this.getOriginalBingoCells();if(!Array.isArray(t))return 0;let e=new Set;return t.forEach(i=>{i&&i.team&&i.team.id&&e.add(i.team.id)}),e.size}hasOriginalPostData(){return this.hasOriginalRankingData()||this.hasOriginalBingoData()}getAvailableTeams(){let t=[],e=new Set;return this.isRankingType()&&this.hasOriginalRankingData()?this.getOriginalRankingData()?.rankTable?.rows?.forEach(r=>{r.columns?.forEach(o=>{o.team&&!e.has(o.team.id)&&(e.add(o.team.id),t.push(o.team))})}):this.isBingoType()&&this.hasOriginalBingoData()&&this.getOriginalBingoData()?.bingoCells?.forEach(r=>{r.team&&!e.has(r.team.id)&&(e.add(r.team.id),t.push(r.team))}),t}getContrastColor(t){if(!t)return"#ffffff";let e=t.replace("#",""),i=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),o=parseInt(e.substr(4,2),16);return(i*299+r*587+o*114)/1e3>128?"#000000":"#ffffff"}getSafeIconClass(t){if(!t)return"fa-tag";let e=t.replace("fa-","").toLowerCase().trim();if(!e)return"fa-tag";let i={sports:"fa-trophy",sport:"fa-trophy",soccer:"fa-soccer-ball-o",football:"fa-football",basketball:"fa-basketball",baseball:"fa-baseball",tennis:"fa-trophy",golf:"fa-trophy",hockey:"fa-trophy",racing:"fa-car",olympics:"fa-trophy",championship:"fa-trophy",league:"fa-trophy",premier:"fa-trophy",competition:"fa-trophy",music:"fa-music",movies:"fa-film",tv:"fa-tv",entertainment:"fa-film",gaming:"fa-gamepad",esports:"fa-gamepad",technology:"fa-laptop",tech:"fa-laptop",software:"fa-code",mobile:"fa-mobile",computer:"fa-laptop",business:"fa-briefcase",finance:"fa-money",economy:"fa-chart-line",stocks:"fa-chart-line",education:"fa-graduation-cap",school:"fa-graduation-cap",university:"fa-university",science:"fa-flask",books:"fa-book",travel:"fa-plane",tourism:"fa-plane",geography:"fa-globe",world:"fa-globe",health:"fa-heart",medicine:"fa-medkit",fitness:"fa-heart",news:"fa-newspaper-o",politics:"fa-institution",government:"fa-institution",food:"fa-cutlery",cooking:"fa-cutlery",lifestyle:"fa-home",home:"fa-home",default:"fa-tag",category:"fa-tag"};if(i[e])return i[e];for(let[d,p]of Object.entries(i))if(e.includes(d)||d.includes(e))return p;let r=["fa-trophy","fa-soccer-ball-o","fa-football","fa-basketball","fa-baseball","fa-music","fa-film","fa-tv","fa-gamepad","fa-laptop","fa-mobile","fa-book","fa-graduation-cap","fa-university","fa-flask","fa-briefcase","fa-money","fa-chart-line","fa-globe","fa-plane","fa-heart","fa-medkit","fa-newspaper-o","fa-institution","fa-cutlery","fa-home","fa-users","fa-tag","fa-tags","fa-star","fa-cog","fa-camera","fa-car"],o=t.startsWith("fa-")?t:`fa-${t}`;if(r.includes(o))return o;let s=`fa-${e}`;return r.includes(s)?s:"fa-tag"}getFullIconClass(t){return`fa ${this.getSafeIconClass(t)}`}formatDate(t){if(!t||t==="0001-01-01T00:00:00"||typeof t=="string"&&t.startsWith("0001-01-01"))return"Not available";try{let e=new Date(t);return isNaN(e.getTime())?"Invalid date":e.toLocaleDateString()+" "+e.toLocaleTimeString()}catch{return"Invalid date"}}onImageError(t){let e=t.target;e&&(e.style.display="none")}editPrediction(){this.predictionDetail&&this.router.navigate(["/create-prediction"],{queryParams:{edit:this.predictionDetail.id}})}publishPrediction(){return U(this,null,function*(){if(this.predictionDetail&&confirm("Are you sure you want to publish this prediction? Once published, other users will be able to see and counter-predict it."))try{yield this.http.put(`${Q.apiUrl}prediction/${this.predictionDetail.id}/publish`,{}).toPromise(),this.toastr.success("Prediction published successfully!"),this.loadMyPredictionDetails(this.predictionDetail.id)}catch(t){console.error("Error publishing prediction:",t),this.toastr.error("Failed to publish prediction")}})}viewCounterPredictions(){this.predictionDetail&&this.router.navigate(["/prediction-details",this.predictionDetail.id],{fragment:"counter-predictions"})}deletePrediction(){return U(this,null,function*(){if(this.predictionDetail&&confirm("Are you sure you want to delete this prediction? This action cannot be undone."))try{yield this.http.delete(`${Q.apiUrl}prediction/${this.predictionDetail.id}`).toPromise(),this.toastr.success("Prediction deleted successfully"),this.router.navigate(["/my-predictions"])}catch(t){console.error("Error deleting prediction:",t),this.toastr.error("Failed to delete prediction")}})}getPrivacyTypeDisplayName(t){if(typeof t=="string")return t;switch(t){case 0:case"0":return"Public";case 1:case"1":return"Private";case 2:case"2":return"Link Only";default:return"Public"}}sharePost(){if(!this.predictionDetail)return;let t=`${window.location.origin}/prediction-details/${this.predictionDetail.id}`;navigator.share?navigator.share({title:this.predictionDetail.title,text:this.predictionDetail.description,url:t}).catch(console.error):navigator.clipboard.writeText(t).then(()=>{this.toastr.success("Link copied to clipboard!")}).catch(()=>{this.toastr.error("Failed to copy link")})}copyAccessCode(){this.predictionDetail?.accessCode&&navigator.clipboard.writeText(this.predictionDetail.accessCode).then(()=>{this.toastr.success("Access code copied to clipboard!")}).catch(()=>{this.toastr.error("Failed to copy access code")})}goBack(){this.router.navigate(["/my-predictions"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-my-prediction-view"]],decls:3,vars:3,consts:[["class","container-fluid mt-4",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"container-fluid","mt-4"],[1,"card","bg-primary","border-primary","mb-4"],[1,"card-header","bg-primary","border-primary"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-light","mb-1"],[1,"text-light","mb-0","opacity-75"],[1,"mt-2"],[1,"badge","me-2"],[1,"badge","bg-info","me-2"],[1,"badge","bg-secondary"],[1,"d-flex","gap-2"],[1,"btn","btn-outline-light",3,"click"],[1,"fa","fa-arrow-left","me-2"],[1,"dropdown"],["type","button","id","actionsDropdown","data-bs-toggle","dropdown",1,"btn","btn-outline-light","dropdown-toggle"],[1,"fa","fa-cog","me-2"],[1,"dropdown-menu","dropdown-menu-end"],[4,"ngIf"],[1,"dropdown-divider"],[1,"dropdown-item","text-danger",3,"click"],[1,"fa","fa-trash","me-2"],["class","card bg-info border-info mb-4",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","alert alert-info",4,"ngIf"],[1,"row"],[1,"col-lg-8"],["class","card bg-secondary border-secondary mb-4",4,"ngIf"],["class","card bg-warning border-warning",4,"ngIf"],[1,"col-lg-4"],[1,"card","bg-dark","border-dark","mb-3"],[1,"card-header","bg-dark","border-dark"],[1,"text-light","mb-0"],[1,"fa","fa-chart-bar","me-2"],[1,"card-body"],[1,"row","g-2","mb-3"],[1,"col-6"],[1,"card","bg-info","text-center"],[1,"card-body","py-2"],[1,"text-light"],[1,"list-group","list-group-flush"],[1,"list-group-item","bg-transparent","border-secondary","text-light"],["class","list-group-item bg-transparent border-secondary text-light",4,"ngIf"],[1,"fa","fa-bolt","me-2"],[1,"d-grid","gap-2"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-info",3,"click",4,"ngIf"],["class","btn btn-outline-secondary",3,"click",4,"ngIf"],["class","card bg-dark border-dark mb-3",4,"ngIf"],[1,"dropdown-item",3,"click"],[1,"fa","fa-edit","me-2"],[1,"fa","fa-globe","me-2"],[1,"fa","fa-share","me-2"],[1,"card","bg-info","border-info","mb-4"],[1,"fa","fa-users","me-2"],[1,"fa","fa-eye","me-2"],[1,"alert","alert-warning"],[1,"fa","fa-exclamation-triangle","me-2"],[1,"btn","btn-sm","btn-warning","ms-2",3,"click"],[1,"btn","btn-sm","btn-success","ms-2",3,"click"],[1,"alert","alert-info"],[1,"fa","fa-lock","me-2"],[1,"ms-2"],[1,"btn","btn-sm","btn-outline-info","ms-2",3,"click"],[1,"fa","fa-copy","me-1"],[1,"card","bg-secondary","border-secondary","mb-4"],[1,"card-header","bg-secondary","border-secondary"],[1,"fa","fa-list-ol","me-2"],[1,"small","text-light","opacity-75"],[1,"table-responsive"],[1,"table","table-dark","table-striped"],["width","80"],[4,"ngFor","ngForOf"],[1,"row","mt-3"],[1,"col-md-6"],[1,"card","bg-dark","border-dark"],[1,"text-light","mb-2"],[1,"text-light","mb-1","small"],[1,"text-light","mb-0","small"],[1,"fw-bold","text-warning"],["class","d-flex align-items-center",4,"ngIf"],["class","text-muted small text-center py-2",4,"ngIf"],[1,"d-flex","align-items-center"],["class","rounded me-2","width","32","height","32","alt","Team",3,"src","error",4,"ngIf"],["class","bg-primary rounded-circle me-2 d-flex align-items-center justify-content-center","style","width: 32px; height: 32px; min-width: 32px;",4,"ngIf"],[1,"fw-bold","text-light"],["class","small text-muted",4,"ngIf"],["width","32","height","32","alt","Team",1,"rounded","me-2",3,"error","src"],[1,"bg-primary","rounded-circle","me-2","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px","min-width","32px"],[1,"fa","fa-users","text-white","small"],[1,"small","text-muted"],[1,"text-muted","small","text-center","py-2"],[1,"fa","fa-minus-circle"],[1,"fa","fa-th","me-2"],[1,"bingo-grid"],["class","bingo-cell p-2 border text-center",3,"has-team","empty-cell",4,"ngFor","ngForOf"],[1,"bingo-cell","p-2","border","text-center"],["class","text-muted",4,"ngIf"],["class","rounded mb-1","width","24","height","24","alt","Team",3,"src","error",4,"ngIf"],["class","bg-primary rounded-circle mx-auto mb-1 d-flex align-items-center justify-content-center","style","width: 24px; height: 24px;",4,"ngIf"],[1,"small","text-light","fw-bold"],["class","very-small text-muted",4,"ngIf"],["width","24","height","24","alt","Team",1,"rounded","mb-1",3,"error","src"],[1,"bg-primary","rounded-circle","mx-auto","mb-1","d-flex","align-items-center","justify-content-center",2,"width","24px","height","24px"],[1,"fa","fa-users","text-white",2,"font-size","10px"],[1,"very-small","text-muted"],[1,"text-muted"],[1,"fa","fa-square-o","fa-lg"],[1,"very-small","mt-1"],[1,"fa","fa-sitemap","me-2"],[1,"card-body","text-center"],[1,"fa","fa-cogs","fa-3x","text-muted","mb-3"],[1,"card","bg-warning","border-warning"],[1,"fa","fa-exclamation-triangle","fa-2x","mb-3"],[1,"mb-3"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-tags","me-2"],[1,"d-flex","flex-wrap","gap-2"],["class","badge category-badge",3,"background-color","color","border",4,"ngFor","ngForOf"],[1,"badge","category-badge"],[1,"me-1"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[1,"fa","fa-exclamation-triangle","fa-3x","text-warning","mb-3"],[1,"text-warning"]],template:function(e,i){e&1&&y(0,OB,85,33,"div",0)(1,AB,6,0,"div",1)(2,RB,8,0,"div",1),e&2&&(f("ngIf",i.predictionDetail),c(),f("ngIf",!i.predictionDetail&&i.isLoading),c(),f("ngIf",!i.predictionDetail&&!i.isLoading))},dependencies:[Y,Se,ee,it,Fe],styles:[".table-dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-dark[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#495057}.card[_ngcontent-%COMP%]{border-radius:8px;transition:transform .2s ease,box-shadow .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000004d}.badge[_ngcontent-%COMP%]{font-size:.875rem}.category-badge[_ngcontent-%COMP%]{padding:.5em .75em;font-size:.85rem;font-weight:500;border-radius:.5rem;display:inline-flex;align-items:center;transition:all .2s ease}.category-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #0003}.bingo-grid[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.bingo-cell[_ngcontent-%COMP%]{background-color:#2c2c2c!important;border-radius:8px;min-height:80px;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all .2s ease}.bingo-cell.has-team[_ngcontent-%COMP%]{background-color:#28a745;border-color:#1e7e34}.bingo-cell.empty-cell[_ngcontent-%COMP%]{background-color:#6c757d;border-color:#495057}.very-small[_ngcontent-%COMP%]{font-size:.7rem}pre[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;font-size:.8rem;background-color:#0003;border-radius:4px;padding:.75rem}.list-group-item[_ngcontent-%COMP%]{padding:.5rem 0}.dropdown-menu[_ngcontent-%COMP%]{background-color:#343a40;border-color:#495057;border-radius:8px;box-shadow:0 4px 12px #0000004d}.dropdown-item[_ngcontent-%COMP%]{color:#fff;padding:.5rem 1rem;border-radius:4px;margin:.1rem}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#495057;color:#fff}.dropdown-item.text-danger[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff}.alert[_ngcontent-%COMP%]{border-radius:8px;border:none}.alert-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc107,#fd7e14);color:#000}.alert-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#17a2b8,#6f42c1);color:#fff}code[_ngcontent-%COMP%]{background-color:#ffffff1a;padding:.2em .4em;border-radius:.25rem;color:#fff}.btn[_ngcontent-%COMP%]{border-radius:6px;font-weight:500;transition:all .2s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.bg-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3)!important}.card.bg-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#17a2b8,#138496)!important}.card.bg-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#1e7e34)!important}.card.bg-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc107,#e0a800)!important}.card.bg-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#545b62)!important}.table-dark[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ffffff13}.bg-primary.rounded-circle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3)!important}"]})};var NB=()=>[];function FB(n,t){if(n&1&&(a(0,"th"),u(1),l()),n&2){let e=t.index;c(),x(" Position ",e+1," ")}}function VB(n,t){if(n&1){let e=P();a(0,"img",70),b("error",function(r){w(e);let o=h(6);return T(o.onImageError(r))}),l()}if(n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function LB(n,t){n&1&&(a(0,"div",71),g(1,"i",72),l())}function BB(n,t){if(n&1&&(a(0,"div",73),u(1),l()),n&2){let e=h(2).$implicit;c(),x(" ",e.team.description," ")}}function UB(n,t){if(n&1&&(a(0,"div",65),y(1,VB,1,1,"img",66)(2,LB,2,0,"div",67),a(3,"div")(4,"div",68),u(5),l(),y(6,BB,2,1,"div",69),l()()),n&2){let e=h().$implicit;c(),f("ngIf",e.team.photoUrl&&e.team.photoUrl.trim()),c(),f("ngIf",!e.team.photoUrl||!e.team.photoUrl.trim()),c(3),k(e.team.name),c(),f("ngIf",e.team.description&&e.team.description.trim())}}function jB(n,t){n&1&&(a(0,"div",74),g(1,"i",75),u(2," Empty Position "),l())}function $B(n,t){if(n&1&&(a(0,"td"),y(1,UB,7,4,"div",63)(2,jB,3,0,"div",64),l()),n&2){let e=t.$implicit;c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function HB(n,t){if(n&1&&(a(0,"tr")(1,"td",62),u(2),l(),y(3,$B,3,2,"td",54),l()),n&2){let e=t.$implicit;c(2),x("#",e.order,""),c(),f("ngForOf",e.columns||$e(2,NB))}}function zB(n,t){if(n&1&&(a(0,"div",47)(1,"div",48)(2,"h4",33),g(3,"i",49),u(4,"My Ranking Counter Prediction "),l(),a(5,"div",50),u(6),l()(),a(7,"div",19)(8,"div",51)(9,"table",52)(10,"thead")(11,"tr")(12,"th",53),u(13,"Rank"),l(),y(14,FB,2,1,"th",54),l()(),a(15,"tbody"),y(16,HB,4,3,"tr",54),l()()(),a(17,"div",55)(18,"div",56)(19,"div",57)(20,"div",58)(21,"h6",59),u(22,"Structure"),l(),a(23,"p",60)(24,"strong"),u(25,"Rows:"),l(),u(26),l(),a(27,"p",60)(28,"strong"),u(29,"Columns:"),l(),u(30),l(),a(31,"p",61)(32,"strong"),u(33,"Teams Assigned:"),l(),u(34),l()()()(),a(35,"div",56)(36,"div",57)(37,"div",58)(38,"h6",59),u(39,"Performance"),l(),a(40,"p",60)(41,"strong"),u(42,"Total Score:"),l(),u(43),l(),a(44,"p",60)(45,"strong"),u(46,"Completion:"),l(),u(47),l(),a(48,"p",61)(49,"strong"),u(50,"Created:"),l(),u(51),l()()()()()()()),n&2){let e,i,r=h(2);c(6),q(" Total Score: ",r.counterPredictionDetail.totalScore||0," | Created: ",r.formatDate(r.counterPredictionDetail.createdAt)," "),c(8),f("ngForOf",r.getFirstRowColumns()),c(2),f("ngForOf",r.getRankingRows()),c(10),x(" ",((e=r.getRankingData())==null||e.rankTable==null?null:e.rankTable.numberOfRows)||0," "),c(4),x(" ",((i=r.getRankingData())==null||i.rankTable==null?null:i.rankTable.numberOfColumns)||0," "),c(4),q(" ",r.getAssignedTeamsCount()," / ",r.getTotalSlotsCount()," "),c(9),x(" ",r.counterPredictionDetail.totalScore||0," "),c(4),x(" ",r.getCompletionPercentage(),"% "),c(4),x(" ",r.formatDate(r.counterPredictionDetail.createdAt)," ")}}function qB(n,t){if(n&1){let e=P();a(0,"img",85),b("error",function(r){w(e);let o=h(5);return T(o.onImageError(r))}),l()}if(n&2){let e=h(2).$implicit;f("src",e.team.photoUrl,te)}}function GB(n,t){n&1&&(a(0,"div",86),g(1,"i",87),l())}function WB(n,t){if(n&1&&(a(0,"div"),y(1,qB,1,1,"img",82)(2,GB,2,0,"div",83),a(3,"div",84),u(4),l()()),n&2){let e=h().$implicit;c(),f("ngIf",e.team.photoUrl&&e.team.photoUrl.trim()),c(),f("ngIf",!e.team.photoUrl||!e.team.photoUrl.trim()),c(2),k(e.team.name)}}function YB(n,t){n&1&&(a(0,"div",88),g(1,"i",89),a(2,"div",90),u(3,"Empty"),l()())}function ZB(n,t){if(n&1&&(a(0,"div",79),y(1,WB,5,3,"div",80)(2,YB,4,0,"div",81),l()),n&2){let e=t.$implicit;M("has-team",e.team)("empty-cell",!e.team),c(),f("ngIf",e.team),c(),f("ngIf",!e.team)}}function QB(n,t){if(n&1&&(a(0,"div",47)(1,"div",48)(2,"h4",33),g(3,"i",76),u(4,"My Bingo Counter Prediction "),l(),a(5,"div",50),u(6),l()(),a(7,"div",19)(8,"div",77),y(9,ZB,3,6,"div",78),l(),a(10,"div",55)(11,"div",56)(12,"div",57)(13,"div",58)(14,"h6",59),u(15,"Grid Info"),l(),a(16,"p",60)(17,"strong"),u(18,"Grid Size:"),l(),u(19),l(),a(20,"p",60)(21,"strong"),u(22,"Total Cells:"),l(),u(23),l(),a(24,"p",61)(25,"strong"),u(26,"Filled Cells:"),l(),u(27),l()()()(),a(28,"div",56)(29,"div",57)(30,"div",58)(31,"h6",59),u(32,"Performance"),l(),a(33,"p",60)(34,"strong"),u(35,"Total Score:"),l(),u(36),l(),a(37,"p",60)(38,"strong"),u(39,"Completion:"),l(),u(40),l(),a(41,"p",61)(42,"strong"),u(43,"Teams Used:"),l(),u(44),l()()()()()()()),n&2){let e,i,r,o=h(2);c(6),jr(" Grid Size: ",(e=o.getBingoData())==null?null:e.gridSize,"x",(e=o.getBingoData())==null?null:e.gridSize," | Total Score: ",o.counterPredictionDetail.totalScore||0," "),c(2),oe("grid-template-columns","repeat("+((i=o.getBingoData())==null?null:i.gridSize)+", 1fr)")("gap","8px")("display","grid"),c(),f("ngForOf",o.getBingoCells()),c(10),q(" ",(r=o.getBingoData())==null?null:r.gridSize,"x",(r=o.getBingoData())==null?null:r.gridSize," "),c(4),x(" ",o.getBingoCells().length||0," "),c(4),x(" ",o.getFilledBingoCellsCount()," "),c(9),x(" ",o.counterPredictionDetail.totalScore||0," "),c(4),x(" ",o.getBingoCompletionPercentage(),"% "),c(4),x(" ",o.getUniqueBingoTeamsCount()," ")}}function KB(n,t){n&1&&(a(0,"div",47)(1,"div",48)(2,"h4",33),g(3,"i",91),u(4,"My Bracket Counter Prediction "),l()(),a(5,"div",92),g(6,"i",93),a(7,"h5",94),u(8,"Bracket Display Coming Soon"),l(),a(9,"p",88),u(10,"Bracket visualization is under development."),l()()())}function JB(n,t){if(n&1){let e=P();a(0,"div",95)(1,"div",92),g(2,"i",96),a(3,"h5"),u(4,"No Counter Prediction Data"),l(),a(5,"p",97),u(6,"This counter prediction doesn't have any data yet."),l(),a(7,"button",39),b("click",function(){w(e);let r=h(2);return T(r.goBack())}),g(8,"i",15),u(9,"Go Back "),l()()()}}function XB(n,t){if(n&1&&(a(0,"div")(1,"p",60)(2,"strong"),u(3,"Teams Assigned:"),l(),u(4),l()()),n&2){let e=h(3);c(4),q(" ",e.getAssignedTeamsCount()," / ",e.getTotalSlotsCount()," ")}}function e7(n,t){if(n&1&&(a(0,"div")(1,"p",60)(2,"strong"),u(3,"Filled Cells:"),l(),u(4),l(),a(5,"p",61)(6,"strong"),u(7,"Unique Teams:"),l(),u(8),l()()),n&2){let e=h(3);c(4),q(" ",e.getFilledBingoCellsCount()," / ",e.getBingoCells().length," "),c(4),x(" ",e.getUniqueBingoTeamsCount()," ")}}function t7(n,t){if(n&1&&(a(0,"div",31)(1,"div",32)(2,"h5",33),g(3,"i",98),u(4,"Performance Summary "),l()(),a(5,"div",19)(6,"div",99)(7,"div",100)(8,"div",101),u(9),l(),a(10,"div",73),u(11,"Total Score"),l()(),a(12,"div",100)(13,"div",102),u(14),l(),a(15,"div",73),u(16,"Completion"),l()()(),g(17,"hr",103),y(18,XB,5,2,"div",80)(19,e7,9,3,"div",80),l()()),n&2){let e=h(2);c(9),k(e.counterPredictionDetail.totalScore||0),c(5),x("",e.getCompletionPercentage(),"%"),c(4),f("ngIf",e.isRankingType()),c(),f("ngIf",e.isBingoType())}}function n7(n,t){if(n&1){let e=P();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div")(5,"h2",6),g(6,"i",7),u(7,"My Counter Prediction "),l(),a(8,"p",8),u(9),l(),a(10,"div",9)(11,"span",10),g(12,"i",11),u(13,"Counter Prediction "),l(),a(14,"span",12),u(15),l()()(),a(16,"div",13)(17,"button",14),b("click",function(){w(e);let r=h();return T(r.goBack())}),g(18,"i",15),u(19,"Back "),l(),a(20,"button",16),b("click",function(){w(e);let r=h();return T(r.viewOriginalPrediction())}),g(21,"i",17),u(22,"View Original "),l()()()()(),a(23,"div",18)(24,"div",19)(25,"div",20),g(26,"i",21),a(27,"div",22)(28,"h6",23),u(29,"Original Prediction"),l(),a(30,"p",23),u(31),l(),a(32,"p",24),u(33),l()(),a(34,"button",25),b("click",function(){w(e);let r=h();return T(r.viewOriginalPrediction())}),g(35,"i",17),u(36,"View Original "),l()()()(),a(37,"div",26)(38,"div",27),y(39,zB,52,11,"div",28)(40,QB,45,17,"div",28)(41,KB,11,0,"div",28)(42,JB,10,0,"div",29),l(),a(43,"div",30)(44,"div",31)(45,"div",32)(46,"h5",33),g(47,"i",34),u(48,"Counter Prediction Info "),l()(),a(49,"div",19)(50,"ul",35)(51,"li",36)(52,"strong"),u(53,"Type:"),l(),u(54),l(),a(55,"li",36)(56,"strong"),u(57,"Created:"),l(),u(58),l(),a(59,"li",36)(60,"strong"),u(61,"Score:"),l(),u(62),l(),a(63,"li",36)(64,"strong"),u(65,"Original by:"),l(),u(66),l()()()(),a(67,"div",31)(68,"div",32)(69,"h5",33),g(70,"i",37),u(71,"Quick Actions "),l()(),a(72,"div",19)(73,"div",38)(74,"button",39),b("click",function(){w(e);let r=h();return T(r.viewOriginalPrediction())}),g(75,"i",17),u(76,"View Original Prediction "),l(),a(77,"button",40),b("click",function(){w(e);let r=h();return T(r.compareWithOriginal())}),g(78,"i",41),u(79,"Compare with Original "),l(),a(80,"button",42),b("click",function(){w(e);let r=h();return T(r.shareCounterPrediction())}),g(81,"i",43),u(82,"Share "),l(),a(83,"button",44),b("click",function(){w(e);let r=h();return T(r.deleteCounterPrediction())}),g(84,"i",45),u(85,"Delete "),l()()()(),y(86,t7,20,4,"div",46),l()()()}if(n&2){let e=h();c(9),x(' Counter to: "',e.counterPredictionDetail.originalTitle,'" '),c(6),k(e.getPredictionTypeDisplayName()),c(16),x('"',e.counterPredictionDetail.originalTitle,'"'),c(2),x(" by ",(e.counterPredictionDetail.originalAuthor==null?null:e.counterPredictionDetail.originalAuthor.displayName)||"Unknown Author"," "),c(6),f("ngIf",e.isRankingType()&&e.hasRankingData()),c(),f("ngIf",e.isBingoType()&&e.hasBingoData()),c(),f("ngIf",e.isBracketType()),c(),f("ngIf",!e.hasPostData()),c(12),x(" ",e.getPredictionTypeDisplayName()," "),c(4),x(" ",e.formatDate(e.counterPredictionDetail.createdAt)," "),c(4),x(" ",e.counterPredictionDetail.totalScore||0," "),c(4),x(" ",(e.counterPredictionDetail.originalAuthor==null?null:e.counterPredictionDetail.originalAuthor.displayName)||"Unknown"," "),c(20),f("ngIf",e.hasPostData())}}function i7(n,t){n&1&&(a(0,"div",104)(1,"div",105)(2,"span",106),u(3,"Loading..."),l()(),a(4,"p",107),u(5,"Loading your counter prediction..."),l()())}function r7(n,t){if(n&1){let e=P();a(0,"div",104),g(1,"i",108),a(2,"h5",109),u(3,"Counter Prediction Not Found"),l(),a(4,"p",88),u(5,"The counter prediction you're looking for doesn't exist or you don't have access to it."),l(),a(6,"button",39),b("click",function(){w(e);let r=h();return T(r.goBack())}),u(7,"Go Back"),l()()}}var Ru=class n{route=E(Ne);router=E(J);http=E(ve);toastr=E(re);accountService=E(pe);counterPredictionDetail=null;isLoading=!1;ngOnInit(){this.route.params.subscribe(t=>{let e=+t.id,i=t.type;e&&i&&this.loadCounterPredictionDetails(e,i)})}loadCounterPredictionDetails(t,e){return U(this,null,function*(){this.isLoading=!0;try{console.log("Loading counter prediction details:",t,e);let i=yield this.http.get(`${Q.apiUrl}post/my-counter-prediction/${t}/${e}`).toPromise();i&&(this.counterPredictionDetail=i,console.log("Counter prediction details loaded:",this.counterPredictionDetail))}catch(i){console.error("Error loading counter prediction details:",i),this.toastr.error("Failed to load your counter prediction details"),this.router.navigate(["/my-predictions"])}finally{this.isLoading=!1}})}isRankingType(){let t=this.counterPredictionDetail?.predictionType;return t==="Ranking"||t===0||t==="0"}isBingoType(){let t=this.counterPredictionDetail?.predictionType;return t==="Bingo"||t===2||t==="2"}isBracketType(){let t=this.counterPredictionDetail?.predictionType;return t==="Bracket"||t===1||t==="1"}getPredictionTypeDisplayName(){return this.isRankingType()?"Ranking":this.isBracketType()?"Bracket":this.isBingoType()?"Bingo":`Unknown (${this.counterPredictionDetail?.predictionType})`}hasPostData(){return this.hasRankingData()||this.hasBingoData()||this.hasBracketData()}hasRankingData(){return this.isRankingType()&&!!this.counterPredictionDetail?.postRank}hasBingoData(){return this.isBingoType()&&!!this.counterPredictionDetail?.postBingo}hasBracketData(){return this.isBracketType()&&!!this.counterPredictionDetail?.postBracket}getRankingData(){return this.counterPredictionDetail?.postRank}getRankingRows(){return this.getRankingData()?.rankTable?.rows||[]}getFirstRowColumns(){let t=this.getRankingRows();return t.length>0?t[0].columns||[]:[]}getAssignedTeamsCount(){let t=this.getRankingRows(),e=0;return t.forEach(i=>{i.columns&&Array.isArray(i.columns)&&i.columns.forEach(r=>{r.team&&e++})}),e}getTotalSlotsCount(){let t=this.getRankingData();if(!t?.rankTable)return 0;let e=t.rankTable.numberOfRows||0,i=t.rankTable.numberOfColumns||0;return e*i}getCompletionPercentage(){if(this.isRankingType()){let t=this.getAssignedTeamsCount(),e=this.getTotalSlotsCount();return e>0?Math.round(t/e*100):0}else if(this.isBingoType())return this.getBingoCompletionPercentage();return 0}getBingoData(){return this.counterPredictionDetail?.postBingo}getBingoCells(){return this.getBingoData()?.bingoCells||[]}getFilledBingoCellsCount(){let t=this.getBingoCells();return Array.isArray(t)?t.filter(e=>e&&e.team).length:0}getBingoCompletionPercentage(){let t=this.getBingoCells();if(!Array.isArray(t)||t.length===0)return 0;let e=this.getFilledBingoCellsCount();return Math.round(e/t.length*100)}getUniqueBingoTeamsCount(){let t=this.getBingoCells();if(!Array.isArray(t))return 0;let e=new Set;return t.forEach(i=>{i&&i.team&&i.team.id&&e.add(i.team.id)}),e.size}formatDate(t){if(!t||t==="0001-01-01T00:00:00"||typeof t=="string"&&t.startsWith("0001-01-01"))return"Not available";try{let e=new Date(t);return isNaN(e.getTime())?"Invalid date":e.toLocaleDateString()+" "+e.toLocaleTimeString()}catch{return"Invalid date"}}onImageError(t){let e=t.target;e&&(e.style.display="none")}viewOriginalPrediction(){this.counterPredictionDetail?.originalPredictionId&&this.router.navigate(["/prediction-details",this.counterPredictionDetail.originalPredictionId])}compareWithOriginal(){this.counterPredictionDetail?.originalPredictionId&&this.router.navigate(["/prediction-details",this.counterPredictionDetail.originalPredictionId],{queryParams:{compare:"true",myCounterId:this.counterPredictionDetail.id}})}shareCounterPrediction(){if(!this.counterPredictionDetail?.originalPredictionId)return;let t=`${window.location.origin}/prediction-details/${this.counterPredictionDetail.originalPredictionId}`;navigator.share?navigator.share({title:`Check out my counter prediction for "${this.counterPredictionDetail.originalTitle}"`,text:`I created a counter prediction for this ${this.getPredictionTypeDisplayName().toLowerCase()}`,url:t}).catch(console.error):navigator.clipboard.writeText(t).then(()=>{this.toastr.success("Link copied to clipboard!")}).catch(()=>{this.toastr.error("Failed to copy link")})}deleteCounterPrediction(){return U(this,null,function*(){if(this.counterPredictionDetail&&confirm("Are you sure you want to delete this counter prediction? This action cannot be undone."))try{let t=this.counterPredictionDetail.counterPredictionType.toLowerCase();yield this.http.delete(`${Q.apiUrl}post/counter-prediction/${this.counterPredictionDetail.id}/${t}`).toPromise(),this.toastr.success("Counter prediction deleted successfully"),this.router.navigate(["/my-predictions"])}catch(t){console.error("Error deleting counter prediction:",t),this.toastr.error("Failed to delete counter prediction")}})}goBack(){this.router.navigate(["/my-predictions"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-my-counter-prediction-view"]],decls:3,vars:3,consts:[["class","container-fluid mt-4",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"container-fluid","mt-4"],[1,"card","bg-primary","border-primary","mb-4"],[1,"card-header","bg-primary","border-primary"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-light","mb-1"],[1,"fa","fa-reply","me-2"],[1,"text-light","mb-0","opacity-75"],[1,"mt-2"],[1,"badge","bg-info","me-2"],[1,"fa","fa-reply","me-1"],[1,"badge","bg-light","text-dark"],[1,"d-flex","gap-2"],[1,"btn","btn-outline-light",3,"click"],[1,"fa","fa-arrow-left","me-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-external-link","me-2"],[1,"card","bg-info","border-info","mb-4"],[1,"card-body"],[1,"d-flex","align-items-center"],[1,"fa","fa-info-circle","fa-2x","text-white","me-3"],[1,"flex-grow-1"],[1,"text-white","mb-1"],[1,"text-white","mb-0","opacity-75"],[1,"btn","btn-light",3,"click"],[1,"row"],[1,"col-lg-8"],["class","card bg-secondary border-secondary mb-4",4,"ngIf"],["class","card bg-warning border-warning",4,"ngIf"],[1,"col-lg-4"],[1,"card","bg-dark","border-dark","mb-3"],[1,"card-header","bg-dark","border-dark"],[1,"text-light","mb-0"],[1,"fa","fa-info-circle","me-2"],[1,"list-group","list-group-flush"],[1,"list-group-item","bg-transparent","border-secondary","text-light"],[1,"fa","fa-bolt","me-2"],[1,"d-grid","gap-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-info",3,"click"],[1,"fa","fa-compare","me-2"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-share","me-2"],[1,"btn","btn-outline-danger",3,"click"],[1,"fa","fa-trash","me-2"],["class","card bg-dark border-dark mb-3",4,"ngIf"],[1,"card","bg-secondary","border-secondary","mb-4"],[1,"card-header","bg-secondary","border-secondary"],[1,"fa","fa-list-ol","me-2"],[1,"small","text-light","opacity-75"],[1,"table-responsive"],[1,"table","table-dark","table-striped"],["width","80"],[4,"ngFor","ngForOf"],[1,"row","mt-3"],[1,"col-md-6"],[1,"card","bg-dark","border-dark"],[1,"card-body","py-2"],[1,"text-light","mb-2"],[1,"text-light","mb-1","small"],[1,"text-light","mb-0","small"],[1,"fw-bold","text-primary"],["class","d-flex align-items-center p-2",4,"ngIf"],["class","text-muted small text-center py-2",4,"ngIf"],[1,"d-flex","align-items-center","p-2"],["class","rounded me-2","width","32","height","32","alt","Team",3,"src","error",4,"ngIf"],["class","bg-primary rounded-circle me-2 d-flex align-items-center justify-content-center","style","width: 32px; height: 32px; min-width: 32px;",4,"ngIf"],[1,"fw-bold","text-light"],["class","small text-muted",4,"ngIf"],["width","32","height","32","alt","Team",1,"rounded","me-2",3,"error","src"],[1,"bg-primary","rounded-circle","me-2","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px","min-width","32px"],[1,"fa","fa-users","text-white","small"],[1,"small","text-muted"],[1,"text-muted","small","text-center","py-2"],[1,"fa","fa-minus-circle"],[1,"fa","fa-th","me-2"],[1,"bingo-grid"],["class","bingo-cell p-2 border text-center counter-cell",3,"has-team","empty-cell",4,"ngFor","ngForOf"],[1,"bingo-cell","p-2","border","text-center","counter-cell"],[4,"ngIf"],["class","text-muted",4,"ngIf"],["class","rounded mb-1","width","24","height","24","alt","Team",3,"src","error",4,"ngIf"],["class","bg-primary rounded-circle mx-auto mb-1 d-flex align-items-center justify-content-center","style","width: 24px; height: 24px;",4,"ngIf"],[1,"small","text-light","fw-bold"],["width","24","height","24","alt","Team",1,"rounded","mb-1",3,"error","src"],[1,"bg-primary","rounded-circle","mx-auto","mb-1","d-flex","align-items-center","justify-content-center",2,"width","24px","height","24px"],[1,"fa","fa-users","text-white",2,"font-size","10px"],[1,"text-muted"],[1,"fa","fa-square-o","fa-lg"],[1,"very-small","mt-1"],[1,"fa","fa-sitemap","me-2"],[1,"card-body","text-center"],[1,"fa","fa-cogs","fa-3x","text-muted","mb-3"],[1,"text-light"],[1,"card","bg-warning","border-warning"],[1,"fa","fa-exclamation-triangle","fa-2x","mb-3"],[1,"mb-3"],[1,"fa","fa-chart-bar","me-2"],[1,"row","text-center"],[1,"col-6"],[1,"h4","text-primary"],[1,"h4","text-success"],[1,"border-secondary"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[1,"fa","fa-exclamation-triangle","fa-3x","text-warning","mb-3"],[1,"text-warning"]],template:function(e,i){e&1&&y(0,n7,87,13,"div",0)(1,i7,6,0,"div",1)(2,r7,8,0,"div",1),e&2&&(f("ngIf",i.counterPredictionDetail),c(),f("ngIf",!i.counterPredictionDetail&&i.isLoading),c(),f("ngIf",!i.counterPredictionDetail&&!i.isLoading))},dependencies:[Y,Se,ee,it,Fe],styles:[".bingo-grid[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.bingo-cell[_ngcontent-%COMP%]{border-radius:8px;min-height:80px;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all .2s ease}.bingo-cell.has-team[_ngcontent-%COMP%]{background-color:#007bff;border-color:#0056b3}.bingo-cell.empty-cell[_ngcontent-%COMP%]{background-color:#6c757d;border-color:#495057}.counter-cell.has-team[_ngcontent-%COMP%]{background-color:#007bff;border-color:#0056b3}.very-small[_ngcontent-%COMP%]{font-size:.7rem}.table-dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-dark[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#495057}.card[_ngcontent-%COMP%]{border-radius:8px;transition:transform .2s ease,box-shadow .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000004d}.badge[_ngcontent-%COMP%]{font-size:.875rem}.list-group-item[_ngcontent-%COMP%]{padding:.5rem 0}.btn[_ngcontent-%COMP%]{border-radius:6px;font-weight:500;transition:all .2s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}"]})};var $x=[{path:"",component:zd},{path:"auth",component:au},{path:"verify-email",component:uu},{path:"forgot-password",component:pu},{path:"reset-password",component:fu},{path:"categories",component:ru,data:{title:"Categories"}},{path:"site-predictions",component:ou,data:{title:"Site Predictions"}},{path:"trending-predictions",component:su,data:{title:"Trending Predictions"}},{path:"published-posts",component:ku,data:{title:"Published Predictions"}},{path:"prediction-details/:id",component:Du,data:{title:"Prediction Details"}},{path:"post-view/:id",component:Ou,data:{title:"Post View"}},{path:"",runGuardsAndResolvers:"always",canActivate:[Bx],children:[{path:"profile",component:du,data:{title:"Profile"}},{path:"my-predictions",component:Eu,data:{title:"My Predictions"}},{path:"my-prediction/:id",component:Au,data:{title:"My Prediction View"}},{path:"my-counter-prediction/:id/:type",component:Ru,data:{title:"My Counter Prediction"}},{path:"password-change-warning",component:mu,data:{title:"Password Change Warning"}},{path:"create-prediction",component:gu,data:{title:"Create Prediction"}},{path:"edit-template/:id/:type",component:vu,data:{title:"Edit Template"}},{path:"select-teams/:predictionId/:templateId/:type",component:yu,data:{title:"Select Teams"}},{path:"create-post/:predictionId/:templateId/:type",component:Cu,data:{title:"Create Post"}}]},{path:"admin",component:Su,canActivate:[Ux],children:[{path:"",component:wu,data:{title:"Admin Dashboard"}},{path:"users/:id",component:Tu,data:{title:"User Details"}}]},{path:"prediction/:id",redirectTo:"/prediction-details/:id",pathMatch:"full"},{path:"post/:id",redirectTo:"/post-view/:id",pathMatch:"full"},{path:"predictions",redirectTo:"/published-posts",pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}];var o7=["overlay"],s7=["*"];function a7(n,t){n&1&&g(0,"div")}function l7(n,t){if(n&1&&(a(0,"div"),y(1,a7,1,0,"div",6),l()),n&2){let e=h(2);De(e.spinner.class),oe("color",e.spinner.color),c(),f("ngForOf",e.spinner.divArray)}}function c7(n,t){if(n&1&&(g(0,"div",7),et(1,"safeHtml")),n&2){let e=h(2);f("innerHTML",$r(1,1,e.template),Ki)}}function d7(n,t){if(n&1&&(a(0,"div",2,0),y(2,l7,2,5,"div",3)(3,c7,2,3,"div",4),a(4,"div",5),k1(5),l()()),n&2){let e=h();oe("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),f("@.disabled",e.disableAnimation)("@fadeIn","in"),c(2),f("ngIf",!e.template),c(),f("ngIf",e.template),c(),oe("z-index",e.spinner.zIndex)}}var u7={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},r0={BD_COLOR:"rgba(51,51,51,0.8)",SPINNER_COLOR:"#fff",Z_INDEX:99999},o0="primary",to=class n{constructor(t){Object.assign(this,t)}static create(t){return!t?.template&&!t?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new n(t)}},s0=(()=>{class n{constructor(){this.spinnerObservable=new gt(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(Pe(i=>i&&i.name===e))}show(e=o0,i){return new Promise((r,o)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=e,this.spinnerObservable.next(new to(Z(O({},i),{show:!0}))),r(!0)):(this.spinnerObservable.next(new to({name:e,show:!0})),r(!0))},10)})}hide(e=o0,i=10){return new Promise((r,o)=>{setTimeout(()=>{this.spinnerObservable.next(new to({name:e,show:!1})),r(!0)},i)})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),p7=new $("NGX_SPINNER_CONFIG"),f7=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return e?this.sanitizer.bypassSecurityTrustHtml(e):""}static{this.\u0275fac=function(i){return new(i||n)(R(Js,16))}}static{this.\u0275pipe=Xi({name:"safeHtml",type:n,pure:!0})}}return n})(),Hx=(()=>{class n{constructor(e,i,r,o){this.spinnerService=e,this.changeDetector=i,this.elementRef=r,this.globalConfig=o,this.disableAnimation=!1,this.spinner=new to,this.ngUnsubscribe=new be,this.setDefaultOptions=()=>{let{type:s}=this.globalConfig??{};this.spinner=to.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??s,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor=r0.BD_COLOR,this.zIndex=r0.Z_INDEX,this.color=r0.SPINNER_COLOR,this.size="large",this.fullScreen=!0,this.name=o0,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(gs(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement?!0:e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(let i in e)if(i){let r=e[i];if(r.isFirstChange())return;typeof r.currentValue<"u"&&r.currentValue!==r.previousValue&&r.currentValue!==""&&(this.spinner[i]=r.currentValue,i==="showSpinner"&&(r.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),i==="name"&&this.initObservable())}}getClass(e,i){this.spinner.divCount=u7[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((o,s)=>s);let r="";switch(i.toLowerCase()){case"small":r="la-sm";break;case"medium":r="la-2x";break;case"large":r="la-3x";break;default:break}return"la-"+e+" "+r}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(i){return new(i||n)(R(s0),R(Dn),R(st),R(p7,8))}}static{this.\u0275cmp=z({type:n,selectors:[["ngx-spinner"]],viewQuery:function(i,r){if(i&1&&Sc(o7,5),i&2){let o;Vo(o=Lo())&&(r.spinnerDOM=o.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[mn],ngContentSelectors:s7,decls:1,vars:1,consts:[["overlay",""],["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(i,r){i&1&&(D1(),y(0,d7,6,12,"div",1)),i&2&&f("ngIf",r.spinner.show)},dependencies:[f7,ee,Se],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[Xo("fadeIn",[Ni("in",an({opacity:1})),Fi(":enter",[an({opacity:0}),Ri(300)]),Fi(":leave",Ri(200,an({opacity:0})))])]},changeDetection:0})}}return n})();var ds=class n{busyRequestCount=0;spinnerService=E(s0);busy(){this.busyRequestCount++,console.log("Showing spinner"),this.spinnerService.show(void 0,{type:"timer",bdColor:"rgba(255, 255, 255, 0.1)",color:"#333333"})}idle(){this.busyRequestCount--,this.busyRequestCount<=0&&(this.busyRequestCount=0,this.spinnerService.hide())}constructor(){}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var zx=(n,t)=>{let e=E(ds);return e.busy(),t(n).pipe(Q.production?xt:Xn(1e3),ei(()=>{e.idle()}))};var qx=(n,t)=>{let e=E(J),i=E(re);return t(n).pipe(Ce(r=>{if(r)switch(r.status){case 400:if(r.error.errors){let s=[];for(let d in r.error.errors)r.error.errors[d]&&s.push(r.error.errors[d]);throw s.flat()}else i.error(r.error,r.status);break;case 401:i.error("Unauthorized");break;case 404:e.navigateByUrl("/not-found");break;case 500:let o={state:{error:r.error}};e.navigateByUrl("/server-error",o);break;default:i.error("Something unexpected went wrong");break}throw r}))};var Gx={providers:[gC($x),QC(),hb(gb([zx,sx,qx])),$f(ox.forRoot(),ex.forRoot({positionClass:"toast-bottom-right",preventDuplicates:!0}))]};var m7=["searchInput"],h7=(n,t,e)=>({"fa-list-ol":n,"fa-sitemap":t,"fa-th":e});function g7(n,t){if(n&1){let e=P();a(0,"button",8),b("click",function(){w(e);let r=h();return T(r.clearSearch())}),g(1,"i",9),l()}}function v7(n,t){n&1&&(a(0,"div",16),g(1,"div",17),a(2,"span",18),u(3,"Searching..."),l()())}function _7(n,t){n&1&&(a(0,"span",42),u(1,"Active"),l())}function y7(n,t){n&1&&(a(0,"span",43),u(1,"Draft"),l())}function b7(n,t){if(n&1&&g(0,"img",44),n&2){let e=h().$implicit;f("src",e.author.photoUrl,te)}}function C7(n,t){n&1&&(a(0,"div",45),g(1,"i",46),l())}function x7(n,t){if(n&1&&(a(0,"span",49),u(1),l()),n&2){let e=t.$implicit;oe("background-color",e.colorCode||"#6c757d"),c(),x(" ",e.name," ")}}function w7(n,t){if(n&1&&(a(0,"span",50),u(1),l()),n&2){let e=h(2).$implicit;c(),x(" +",e.categories.length-2," ")}}function T7(n,t){if(n&1&&(a(0,"div",31),y(1,x7,2,3,"span",47)(2,w7,2,1,"span",48),l()),n&2){let e=h().$implicit;c(),f("ngForOf",e.categories.slice(0,2)),c(),f("ngIf",e.categories.length>2)}}function S7(n,t){if(n&1){let e=P();a(0,"div",24),b("mousedown",function(){let r=w(e).$implicit,o=h(3);return T(o.selectResult(r))})("mouseenter",function(){let r=w(e).index,o=h(3);return T(o.selectedIndex=r)}),a(1,"div",25)(2,"div",26),g(3,"i",27),l(),a(4,"div",28)(5,"div",29),g(6,"h6",30),a(7,"div",31)(8,"span",32),u(9),l(),y(10,_7,2,0,"span",33)(11,y7,2,0,"span",34),l()(),g(12,"p",35),a(13,"div",36)(14,"div",37),y(15,b7,1,1,"img",38)(16,C7,2,0,"div",39),a(17,"span",40),u(18),l()(),y(19,T7,3,2,"div",41),l()()()()}if(n&2){let e=t.$implicit,i=t.index,r=h(3);M("highlighted",i===r.selectedIndex),c(3),f("ngClass",Ic(12,h7,e.predictionType==="Ranking",e.predictionType==="Bracket",e.predictionType==="Bingo")),c(3),f("innerHTML",r.highlightMatch(e.title),Ki),c(3),k(e.predictionType),c(),f("ngIf",e.isActive),c(),f("ngIf",e.isDraft),c(),f("innerHTML",r.highlightMatch(e.description.slice(0,100)+(e.description.length>100?"...":"")),Ki),c(3),f("ngIf",e.author.photoUrl),c(),f("ngIf",!e.author.photoUrl),c(2),k(e.author.displayName),c(),f("ngIf",e.categories.length>0)}}function E7(n,t){if(n&1){let e=P();a(0,"div",51)(1,"button",52),b("click",function(){w(e);let r=h(3);return T(r.viewAllResults())}),g(2,"i",53),u(3),l()()}if(n&2){let e=h(3);c(3),x('View all results for "',e.searchTerm,'" ')}}function I7(n,t){if(n&1&&(a(0,"div")(1,"div",19)(2,"small",20),u(3),l()(),a(4,"div",21),y(5,S7,20,16,"div",22),l(),y(6,E7,4,1,"div",23),l()),n&2){let e=h(2);c(3),q(" Found ",e.searchResults.length," prediction",e.searchResults.length===1?"":"s"," "),c(2),f("ngForOf",e.searchResults)("ngForTrackBy",e.trackByResultId),c(),f("ngIf",e.searchResults.length>=e.maxResults)}}function P7(n,t){if(n&1&&(a(0,"div",16),g(1,"i",54),a(2,"p",55),u(3),l(),a(4,"small",20),u(5,"Try a different search term"),l()()),n&2){let e=h(2);c(3),x('No predictions found for "',e.searchTerm,'"')}}function D7(n,t){if(n&1){let e=P();a(0,"div",56)(1,"button",57),b("click",function(){w(e);let r=h(2);return T(r.viewAllResults())}),g(2,"i",58),u(3),l()()}if(n&2){let e=h(2);c(3),x('Search all results for "',e.searchTerm,'" ')}}function k7(n,t){if(n&1&&(a(0,"div",10)(1,"div",11)(2,"div",12),y(3,v7,4,0,"div",13)(4,I7,7,5,"div",14)(5,P7,6,1,"div",13)(6,D7,4,1,"div",15),l()()()),n&2){let e=h();c(3),f("ngIf",e.isSearching),c(),f("ngIf",!e.isSearching&&e.searchResults.length>0),c(),f("ngIf",!e.isSearching&&e.noResults&&e.searchTerm.trim()),c(),f("ngIf",e.searchTerm.trim()&&!e.isSearching)}}var Nu=class n{searchInput;router=E(J);http=E(ve);elementRef=E(st);searchTerm="";searchResults=[];showDropdown=!1;isSearching=!1;noResults=!1;selectedIndex=-1;maxResults=8;searchSubject=new be;searchTimeout;trackByResultId=(t,e)=>e.id;ngOnInit(){this.searchSubject.pipe(uo(300),up(),vt(t=>this.searchPredictions(t))).subscribe({next:t=>{this.searchResults=t,this.isSearching=!1,this.noResults=t.length===0&&this.searchTerm.trim().length>0,this.selectedIndex=-1},error:t=>{console.error("Search error:",t),this.searchResults=[],this.isSearching=!1,this.noResults=!0,this.selectedIndex=-1}}),document.addEventListener("click",this.handleOutsideClick.bind(this)),this.router.events.pipe(Pe(t=>t instanceof bn)).subscribe(()=>{this.clearSearch()})}ngOnDestroy(){document.removeEventListener("click",this.handleOutsideClick.bind(this)),this.searchTimeout&&clearTimeout(this.searchTimeout)}onSearchInput(t){let e=t.target;this.searchTerm=e.value,this.searchTerm.trim().length>=2?(this.isSearching=!0,this.showDropdown=!0,this.searchSubject.next(this.searchTerm.trim())):(this.searchResults=[],this.showDropdown=!1,this.isSearching=!1,this.noResults=!1)}onFocus(){this.searchTerm.trim().length>=2&&(this.showDropdown=!0)}onBlur(){setTimeout(()=>{this.showDropdown=!1,this.selectedIndex=-1},150)}onKeyDown(t){if(!(!this.showDropdown||this.searchResults.length===0))switch(t.key){case"ArrowDown":t.preventDefault(),this.selectedIndex=Math.min(this.selectedIndex+1,this.searchResults.length-1);break;case"ArrowUp":t.preventDefault(),this.selectedIndex=Math.max(this.selectedIndex-1,-1);break;case"Enter":t.preventDefault(),this.selectedIndex>=0&&this.selectedIndex<this.searchResults.length?this.selectResult(this.searchResults[this.selectedIndex]):this.performSearch();break;case"Escape":this.showDropdown=!1,this.selectedIndex=-1,this.searchInput.nativeElement.blur();break}}searchPredictions(t){if(!t||t.length<2)return H([]);let e=new URLSearchParams({searchTerm:t,pageSize:this.maxResults.toString(),pageNumber:"1"});return this.http.get(`${Q.apiUrl}post/published?${e.toString()}`).pipe(Ce(i=>(console.error("Search API error:",i),H([]))))}selectResult(t){console.log("Selected prediction:",t),this.clearSearch(),this.router.navigate(["/prediction-details",t.id])}performSearch(){if(!this.searchTerm.trim())return;console.log("Performing full search for:",this.searchTerm);let t=this.searchTerm.trim();this.clearSearch(),this.router.navigate(["/published-posts"],{queryParams:{search:t}})}viewAllResults(){this.performSearch()}clearSearch(){this.searchTerm="",this.searchResults=[],this.showDropdown=!1,this.selectedIndex=-1,this.isSearching=!1,this.noResults=!1}highlightMatch(t){if(!this.searchTerm.trim()||!t)return t;let e=new RegExp(`(${this.escapeRegExp(this.searchTerm.trim())})`,"gi");return t.replace(e,'<span class="highlighted-text">$1</span>')}escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}handleOutsideClick(t){this.elementRef.nativeElement.contains(t.target)||(this.showDropdown=!1,this.selectedIndex=-1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-search-dropdown"]],viewQuery:function(e,i){if(e&1&&Sc(m7,5),e&2){let r;Vo(r=Lo())&&(i.searchInput=r.first)}},decls:8,vars:4,consts:[["searchInput",""],[1,"search-container","position-relative"],[1,"input-group"],["type","search","placeholder","Search predictions...","autocomplete","off",1,"form-control","bg-dark","text-light","border-secondary",3,"ngModelChange","input","focus","blur","keydown","ngModel"],["class","btn btn-outline-secondary clear-btn","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-light",3,"click","disabled"],[1,"fa","fa-search"],["class","search-dropdown position-absolute w-100 mt-1","style","z-index: 1050;",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary","clear-btn",3,"click"],[1,"fa","fa-times"],[1,"search-dropdown","position-absolute","w-100","mt-1",2,"z-index","1050"],[1,"card","bg-dark","border-secondary","shadow-lg"],[1,"card-body","p-0"],["class","p-3 text-center",4,"ngIf"],[4,"ngIf"],["class","border-top border-secondary p-2",4,"ngIf"],[1,"p-3","text-center"],[1,"spinner-border","spinner-border-sm","text-primary","me-2"],[1,"text-light"],[1,"px-3","py-2","border-bottom","border-secondary"],[1,"text-muted"],[1,"search-results-list",2,"max-height","500px","overflow-y","auto"],["class","search-result-item p-3 border-bottom border-secondary","style","cursor: pointer;",3,"highlighted","mousedown","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["class","p-3 text-center border-top border-secondary",4,"ngIf"],[1,"search-result-item","p-3","border-bottom","border-secondary",2,"cursor","pointer",3,"mousedown","mouseenter"],[1,"d-flex","align-items-start"],[1,"me-3","mt-1"],[1,"fa","text-primary",3,"ngClass"],[1,"flex-grow-1"],[1,"d-flex","justify-content-between","align-items-start","mb-1"],[1,"text-light","mb-0",3,"innerHTML"],[1,"d-flex","gap-1"],[1,"badge","bg-primary","small"],["class","badge bg-success small",4,"ngIf"],["class","badge bg-warning text-dark small",4,"ngIf"],[1,"text-muted","small","mb-2",3,"innerHTML"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],["class","rounded-circle me-2","width","20","height","20","alt","Author",3,"src",4,"ngIf"],["class","bg-primary rounded-circle me-2 d-flex align-items-center justify-content-center","style","width: 20px; height: 20px;",4,"ngIf"],[1,"text-light","small"],["class","d-flex gap-1",4,"ngIf"],[1,"badge","bg-success","small"],[1,"badge","bg-warning","text-dark","small"],["width","20","height","20","alt","Author",1,"rounded-circle","me-2",3,"src"],[1,"bg-primary","rounded-circle","me-2","d-flex","align-items-center","justify-content-center",2,"width","20px","height","20px"],[1,"fa","fa-user","text-white",2,"font-size","10px"],["class","badge very-small",3,"background-color",4,"ngFor","ngForOf"],["class","badge bg-secondary very-small",4,"ngIf"],[1,"badge","very-small"],[1,"badge","bg-secondary","very-small"],[1,"p-3","text-center","border-top","border-secondary"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fa","fa-list","me-1"],[1,"fa","fa-search","text-muted","mb-2"],[1,"text-muted","mb-2"],[1,"border-top","border-secondary","p-2"],[1,"btn","btn-sm","btn-outline-primary","w-100",3,"click"],[1,"fa","fa-search","me-1"]],template:function(e,i){if(e&1){let r=P();a(0,"div",1)(1,"div",2)(2,"input",3,0),je("ngModelChange",function(s){return w(r),We(i.searchTerm,s)||(i.searchTerm=s),T(s)}),b("input",function(s){return w(r),T(i.onSearchInput(s))})("focus",function(){return w(r),T(i.onFocus())})("blur",function(){return w(r),T(i.onBlur())})("keydown",function(s){return w(r),T(i.onKeyDown(s))}),l(),y(4,g7,2,0,"button",4),a(5,"button",5),b("click",function(){return w(r),T(i.performSearch())}),g(6,"i",6),l()(),y(7,k7,7,4,"div",7),l()}e&2&&(c(2),Ue("ngModel",i.searchTerm),c(2),f("ngIf",i.searchTerm.trim()),c(),f("disabled",!i.searchTerm.trim()),c(2),f("ngIf",i.showDropdown&&(i.searchResults.length>0||i.isSearching||i.noResults)))},dependencies:[Y,Bt,Se,ee,Fe,qe,Ee,wn],styles:['.search-container[_ngcontent-%COMP%]{width:100%;max-width:500px}.search-dropdown[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);min-width:500px}@media (min-width: 992px){.search-container[_ngcontent-%COMP%]{max-width:500px}.search-dropdown[_ngcontent-%COMP%]{min-width:500px;left:50%;transform:translate(-50%)}}.search-result-item[_ngcontent-%COMP%]{transition:background-color .2s ease}.search-result-item[_ngcontent-%COMP%]:hover, .search-result-item.highlighted[_ngcontent-%COMP%]{background-color:#0d6efd1a!important}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none!important}.very-small[_ngcontent-%COMP%]{font-size:.7rem}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]{border-radius:4px 0 0 4px!important}.input-group[_ngcontent-%COMP%] > .clear-btn[_ngcontent-%COMP%]{border-radius:0!important;margin-left:0!important;margin-right:0!important}.input-group[_ngcontent-%COMP%] > .btn-outline-light[_ngcontent-%COMP%]{border-radius:0 4px 4px 0!important;margin-left:0!important}.clear-btn[_ngcontent-%COMP%]{border-left:1px solid rgba(255,255,255,.2)!important;border-right:1px solid rgba(255,255,255,.2)!important;background-color:#ffffff0d!important;border-color:#fff3!important;color:#ffffffb3!important;padding:.5rem .75rem!important;min-width:42px}.clear-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff26!important;border-color:#fff6!important;color:#fff!important}.clear-btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #0d6efd40!important;border-color:#0d6efd!important}.input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:2px}.form-control[type=search][_ngcontent-%COMP%]::-webkit-search-cancel-button, .form-control[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none;appearance:none}.form-control[type=search][_ngcontent-%COMP%]::-moz-search-cancel-button{display:none}.form-control[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.highlighted-text[_ngcontent-%COMP%]{background-color:#ffff004d;color:inherit;font-weight:700}.search-results-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.search-results-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2d3436}.search-results-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#636e72;border-radius:3px}.search-results-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0d6efd}@media (max-width: 991.98px){.search-container[_ngcontent-%COMP%]{max-width:100%}.search-dropdown[_ngcontent-%COMP%]{left:0;right:0;transform:none;min-width:auto;width:100%}}.search-dropdown[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInDown .15s ease-out}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translate(-50%) translateY(-10px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.btn-outline-light[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.badge.very-small[_ngcontent-%COMP%]{padding:.25em .4em;font-size:.65rem}.fa[_ngcontent-%COMP%]{min-width:16px;text-align:center}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 1rem 3rem #0006!important}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}.search-result-item[_ngcontent-%COMP%]{position:relative;overflow:hidden}.search-result-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(13,110,253,.1),transparent);transition:left .5s}.search-result-item[_ngcontent-%COMP%]:hover:before{left:100%}']})};var M7=()=>["/create-prediction"];function O7(n,t){if(n&1&&(a(0,"span"),g(1,"img",34),l()),n&2){let e,i=h(2);c(),Um("src",(e=i.accountService.currentUser())==null?null:e.photoUrl,te)}}function A7(n,t){n&1&&(a(0,"li")(1,"a",35),g(2,"i",36),u(3," Admin Dashboard "),l()())}function R7(n,t){if(n&1){let e=P();a(0,"li",23)(1,"a",24),y(2,O7,2,1,"span",25),u(3),l(),a(4,"ul",26),y(5,A7,4,0,"li",25),a(6,"li")(7,"a",27),g(8,"i",28),u(9,"My Profile "),l()(),a(10,"li")(11,"a",29),g(12,"i",30),u(13,"My Predictions "),l()(),a(14,"li"),g(15,"hr",31),l(),a(16,"li")(17,"a",32),b("click",function(){w(e);let r=h();return T(r.accountService.logout())}),g(18,"i",33),u(19,"Logout "),l()()()()}if(n&2){let e,i,r=h();c(2),f("ngIf",(e=r.accountService.currentUser())==null?null:e.photoUrl),c(),x(" ",(i=r.accountService.currentUser())==null?null:i.displayName," "),c(2),f("ngIf",r.accountService.roles().includes("Admin"))}}function N7(n,t){n&1&&(a(0,"li",8)(1,"a",37),u(2,"Login"),l()())}function F7(n,t){n&1&&(a(0,"a",38),u(1,"Login"),l())}var Fu=class n{accountService=E(pe);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-nav"]],decls:30,vars:5,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","brand-logo"],[1,"neon-text"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarColor02","aria-controls","navbarColor02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor02",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/published-posts","routerLinkActive","active",1,"nav-link"],[1,"d-none","d-lg-flex","justify-content-center","flex-grow-1","mx-4"],[1,"navbar-nav","ms-auto"],[1,"nav-item","me-2"],[1,"nav-link","btn","btn-primary","text-white","px-3",3,"routerLink"],["class","nav-item dropdown",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"d-lg-none","w-100","mt-3"],[1,"mb-3","text-center"],["routerLink","/published-posts","routerLinkActive","active",1,"btn","btn-outline-secondary","w-100"],[1,"fa","fa-globe","me-2"],[1,"mb-3"],[1,"text-center"],["class","btn btn-outline-light","routerLink","/auth",4,"ngIf"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[4,"ngIf"],[1,"dropdown-menu","dropdown-menu-end"],["routerLink","/profile",1,"dropdown-item"],[1,"fa","fa-user","me-2"],["routerLink","/my-predictions",1,"dropdown-item"],[1,"fa","fa-list","me-2"],[1,"dropdown-divider"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],[1,"fa","fa-sign-out","me-2"],["alt","user",1,"rounded-circle","me-1",2,"height","30px","width","30px","object-fit","cover",3,"src"],["routerLink","/admin",1,"dropdown-item"],[1,"fa","fa-shield","me-2"],["routerLink","/auth",1,"nav-link","btn","btn-outline-light"],["routerLink","/auth",1,"btn","btn-outline-light"]],template:function(e,i){e&1&&(a(0,"nav",0)(1,"div",1)(2,"a",2),u(3," Prediction"),a(4,"span",3),u(5,"Maker"),l()(),a(6,"button",4),g(7,"span",5),l(),a(8,"div",6)(9,"ul",7)(10,"li",8)(11,"a",9),u(12,"Published Posts"),l()()(),a(13,"div",10),g(14,"app-search-dropdown"),l(),a(15,"ul",11)(16,"li",12)(17,"a",13),u(18,"Create Prediction"),l()(),y(19,R7,20,3,"li",14)(20,N7,3,0,"li",15),l(),a(21,"div",16)(22,"div",17)(23,"a",18),g(24,"i",19),u(25,"Published Posts "),l()(),a(26,"div",20),g(27,"app-search-dropdown"),l(),a(28,"div",21),y(29,F7,2,0,"a",22),l()()()()()),e&2&&(c(17),f("routerLink",$e(4,M7)),c(2),f("ngIf",i.accountService.currentUser()),c(),f("ngIf",!i.accountService.currentUser()),c(9),f("ngIf",!i.accountService.currentUser()))},dependencies:[Tt,mC,Y,ee,Nu],styles:['.navbar[_ngcontent-%COMP%]{padding:1rem 1.5rem;box-shadow:0 2px 10px #0003;position:relative}.navbar-brand.brand-logo[_ngcontent-%COMP%]{font-weight:700;font-size:2rem;padding:.25rem 0;color:#fff;text-decoration:none;transition:all .3s ease}.navbar-brand.brand-logo[_ngcontent-%COMP%]:hover{color:#fff;text-shadow:0 0 5px rgba(0,255,255,.5)}.neon-text[_ngcontent-%COMP%]{color:#00d4ff;text-shadow:0 0 3px #00d4ff,0 0 6px #00d4ff,0 0 9px rgba(0,212,255,.5)}.navbar-brand.brand-logo[_ngcontent-%COMP%]:hover   .neon-text[_ngcontent-%COMP%]{text-shadow:0 0 5px #00d4ff,0 0 10px #00d4ff,0 0 15px rgba(0,212,255,.7);transition:text-shadow .3s ease}.neon-text.purple[_ngcontent-%COMP%]{color:#f0f;text-shadow:0 0 5px #ff00ff,0 0 10px #ff00ff,0 0 15px #ff00ff,0 0 20px #ff00ff}.neon-text.green[_ngcontent-%COMP%]{color:#0f0;text-shadow:0 0 5px #00ff00,0 0 10px #00ff00,0 0 15px #00ff00,0 0 20px #00ff00}.nav-link[_ngcontent-%COMP%]{font-weight:500;padding:.75rem 1.25rem!important;transition:color .2s;font-size:1.1rem}.nav-link.active[_ngcontent-%COMP%]{position:relative}.nav-link.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:70%;height:3px;background-color:#0d6efd;border-radius:2px}.form-control[_ngcontent-%COMP%]{font-size:1.1rem;padding:.5rem 1rem;background-color:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#fff;border-radius:4px 0 0 4px}.btn-outline-light[_ngcontent-%COMP%]{font-size:1.1rem;padding:.5rem 1rem}.navbar-nav[_ngcontent-%COMP%]   .btn.nav-link[_ngcontent-%COMP%]{border-radius:4px;font-size:1.1rem;padding:.75rem 1.25rem!important}.container[_ngcontent-%COMP%]{margin-top:120px!important}@media (min-width: 992px){form.d-flex[_ngcontent-%COMP%]{width:450px}}@media (max-width: 991.98px){.navbar-collapse[_ngcontent-%COMP%]{padding-bottom:1rem}.navbar-nav[_ngcontent-%COMP%]{text-align:center}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:.5rem}.navbar-brand.brand-logo[_ngcontent-%COMP%]{font-size:1.7rem}}.navbar-collapse.show[_ngcontent-%COMP%]   .d-lg-none.w-100[_ngcontent-%COMP%], .navbar-collapse.collapsing[_ngcontent-%COMP%]   .d-lg-none.w-100[_ngcontent-%COMP%]{display:block!important}.nav-link[_ngcontent-%COMP%]:hover{color:#00d4ff!important;text-shadow:0 0 3px rgba(0,212,255,.3);transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0d6efd4d}.btn-outline-light[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #fff3}']})};var Vu=class n{currentYear=new Date().getFullYear();constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-global-footer"]],decls:4,vars:0,consts:[[1,"footer","mt-auto","py-3","bg-dark","text-white"],[1,"container","text-center"],[1,"mb-0"]],template:function(e,i){e&1&&(a(0,"footer",0)(1,"div",1)(2,"p",2),u(3,"\xA9 2025 PredictionMaker.com. All rights reserved."),l()()())},dependencies:[Y],styles:[".global-footer[_ngcontent-%COMP%]{position:relative;bottom:0;width:100%;line-height:60px;background-color:#343a40}"]})};var Lu=class n{title="client";busy=E(ds);googleService=E(cr);cookieService=E(Rd);accountService=E(pe);ngOnInit(){this.cookieService.check("id_token")===!1&&this.accountService.currentUser()===null?(this.googleService.configure(),this.googleService.handleLoginRedirect()):this.googleService.idToken.set(this.cookieService.get("id_token"))}loginGoogle(){this.googleService.configure()}logOutGoogle(){this.googleService.logOut()}loadSpinner(){this.busy.busy(),Xn(200)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[["type","timer","size","medium","color","#00ff00"],[1,"container",2,"margin-top","100px","min-height","calc(100vh - 200px)"]],template:function(e,i){e&1&&(a(0,"ngx-spinner",0)(1,"h3"),u(2,"Loading..."),l()(),g(3,"app-nav"),a(4,"div",1),g(5,"router-outlet"),l(),g(6,"app-global-footer"))},dependencies:[ga,Fu,Hx,Vu],encapsulation:2})};Sb(Lu,Gx).catch(n=>console.error(n));
