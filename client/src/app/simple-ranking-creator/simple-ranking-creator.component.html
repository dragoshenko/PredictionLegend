<div class="ranking-container">

  <div class="title-row">
    <h2>Ranking</h2>
    <div class="ranking-controls">
      <span class="positions-badge">{{ rows }} positions</span>
      <div class="control-buttons">
        <button class="btn-add-position" (click)="addRow()">
          <i class="fa fa-plus"></i> Add Position
        </button>
        <button class="btn-remove-position" (click)="removeRow()" [disabled]="rankingRows.length <= 1">
          <i class="fa fa-minus"></i> Remove Position
        </button>
      </div>
    </div>
  </div>

  <div class="ranking-content">
    <!-- Sequential rank positions -->
    <div class="row-container">
      <!-- Individual ranking rows -->
      <div *ngFor="let row of rankingRows" class="ranking-row">
        <div class="rank-number">{{ row.id }}</div>

        <!-- Items container -->
        <div class="items-container">
          <!-- Individual items -->
          <div *ngFor="let item of row.items" class="ranking-item">
            <input type="text"
                  [(ngModel)]="item.name"
                  placeholder="Enter name"
                  (change)="onItemNameChange(row.id, item.id, item.name)">
            <button *ngIf="editable" class="btn-remove-item"
                  (click)="removeItemFromRow(row.id, item.id)"
                  [disabled]="row.items.length <= 1">
              <i class="fa fa-times"></i>
            </button>
          </div>

          <!-- Add item button for each row -->
          <button *ngIf="editable" class="btn-add-item" (click)="addItemToRow(row.id)">
            <i class="fa fa-plus"></i>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- View/Edit mode toggle and Reset buttons -->
  <div class="ranking-footer">
    <button class="btn-view-mode" (click)="toggleEditMode()">
      <i class="fa fa-eye"></i> View Mode
    </button>
    <button class="btn-reset" (click)="resetGrid()" *ngIf="editable">
      <i class="fa fa-refresh"></i> Reset
    </button>
  </div>
</div>


